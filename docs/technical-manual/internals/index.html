<!DOCTYPE html>
<html dir="ltr" lang="en-us" class="initial">
  <head>
    <!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Astro v1.7.2">

<link rel="icon" type="image/svg+xml" href="favicon.ico">

<link rel="sitemap" href="./sitemap.xml">

<base href="/">

<!-- Preload Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital@0;1&display=swap" rel="stylesheet">

<!-- Scrollable a11y code helper -->
<script src="./make-scrollable-code-focusable.js"></script>

<!-- This is intentionally inlined to avoid FOUC -->
<script>
  /*   const root = document.documentElement;
  const theme = localStorage.getItem('theme');
  if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    root.classList.add('theme-dark');
  } else {
    root.classList.remove('theme-dark');
  } */
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-TEL60V1WM9" is:inline></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-TEL60V1WM9');
</script> -->

    <!-- Page Metadata --><link rel="canonical" href="https://strudel.tidalcycles.org/technical-manual/internals/">

<!-- OpenGraph Tags -->
<meta property="og:title" content="Internals ðŸš€ Strudel Docs">
<meta property="og:type" content="article">
<meta property="og:url" content="https://strudel.tidalcycles.org/technical-manual/internals/">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.com/withastro/astro/blob/main/assets/social/banner-minimal.png?raw=true">
<meta property="og:image:alt" content="astro logo on a starry expanse of space, with a purple saturn-like planet floating in the right foreground">
<meta name="description" property="og:description" content="Documentation for the Strudel Live Coding Language">
<meta property="og:site_name" content="Strudel Docs">

<!-- Twitter Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="astrodotbuild">
<meta name="twitter:title" content="Internals ðŸš€ Strudel Docs">
<meta name="twitter:description" content="Documentation for the Strudel Live Coding Language">
<meta name="twitter:image" content="https://github.com/withastro/astro/blob/main/assets/social/banner-minimal.png?raw=true">
<meta name="twitter:image:alt" content="astro logo on a starry expanse of space, with a purple saturn-like planet floating in the right foreground">

<!--
  TODO: Add json+ld data, maybe https://schema.org/APIReference makes sense?
  Docs: https://developers.google.com/search/docs/advanced/structured-data/intro-structured-data
  https://www.npmjs.com/package/schema-dts seems like a great resource for implementing this.
  Even better, there's a React component that integrates with `schema-dts`: https://github.com/google/react-schemaorg
-->

    <title>
      Internals ðŸš€ Strudel Docs
    </title>
  <link rel="stylesheet" href="/assets/embed.e7b891cc.css" />
<link rel="stylesheet" href="/assets/intro.049773e7.css" />
<link rel="stylesheet" href="/assets/intro.f2378a4b.css" /></head>

  <body class="h-screen text-gray-50">
    <div class="w-full h-full space-y-4 flex flex-col">
      <header class="max-w-full fixed top-0 w-full z-[100]">
        <nav class="flex justify-between py-2 px-4 items-center h-14 max-h-14 bg-[#161616] astro-5HK5URLU" title="Top Navigation">
  <!--     <div class="menu-toggle">
      <SidebarToggle client:idle />
    </div> -->
  <div class="flex overflow-visible items-center grow astro-5HK5URLU" style="overflow:visible">
    <a href="/" class="flex items-center text-2xl space-x-2 astro-5HK5URLU">
      <h1 class="text-white font-bold flex space-x-2 items-baseline text-xl astro-5HK5URLU">
        <span class="astro-5HK5URLU">ðŸŒ€</span>
        <div class="flex space-x-1 items-baseline astro-5HK5URLU">
          <span class=" astro-5HK5URLU">strudel</span>
          <span class="text-sm astro-5HK5URLU">DOCS</span>
        </div>
      </h1>
    </a>
  </div>
  
  <div class="search-item h-10 astro-5HK5URLU">
    <!--     <Search client:idle /> -->
  </div>
  <a href="./" class="hidden md:flex cursor-pointer items-center space-x-1 astro-5HK5URLU"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="w-5 h-5 astro-5HK5URLU"><path fill-rule="evenodd" d="M3.25 3A2.25 2.25 0 001 5.25v9.5A2.25 2.25 0 003.25 17h13.5A2.25 2.25 0 0019 14.75v-9.5A2.25 2.25 0 0016.75 3H3.25zm.943 8.752a.75.75 0 01.055-1.06L6.128 9l-1.88-1.693a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 01-1.06-.055zM9.75 10.25a.75.75 0 000 1.5h2.5a.75.75 0 000-1.5h-2.5z" clip-rule="evenodd"></path></svg><span class="astro-5HK5URLU">go to REPL</span>
  </a>
  <div class="md:hidden astro-5HK5URLU">
    <astro-island uid="Z2rB6qW" component-url="/MobileNav.9a635b5d.js" component-export="default" renderer-url="/client.e1b7d247.js" props="{&quot;sidebar&quot;:[0,{&quot;Tutorial&quot;:[1,&quot;[[0,{\&quot;text\&quot;:[0,\&quot;Getting Started\&quot;],\&quot;link\&quot;:[0,\&quot;learn/getting-started\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Notes\&quot;],\&quot;link\&quot;:[0,\&quot;learn/notes\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Sounds\&quot;],\&quot;link\&quot;:[0,\&quot;learn/sounds\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Coding syntax\&quot;],\&quot;link\&quot;:[0,\&quot;learn/code\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Mini-Notation\&quot;],\&quot;link\&quot;:[0,\&quot;learn/mini-notation\&quot;]}]]&quot;],&quot;Making Sound&quot;:[1,&quot;[[0,{\&quot;text\&quot;:[0,\&quot;Samples\&quot;],\&quot;link\&quot;:[0,\&quot;learn/samples\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Synths\&quot;],\&quot;link\&quot;:[0,\&quot;learn/synths\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Audio Effects\&quot;],\&quot;link\&quot;:[0,\&quot;learn/effects\&quot;]}]]&quot;],&quot;Pattern Functions&quot;:[1,&quot;[[0,{\&quot;text\&quot;:[0,\&quot;Introduction\&quot;],\&quot;link\&quot;:[0,\&quot;functions/intro\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Pattern Constructors\&quot;],\&quot;link\&quot;:[0,\&quot;learn/factories\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Time Modifiers\&quot;],\&quot;link\&quot;:[0,\&quot;learn/time-modifiers\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Control Parameters\&quot;],\&quot;link\&quot;:[0,\&quot;functions/value-modifiers\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Signals\&quot;],\&quot;link\&quot;:[0,\&quot;learn/signals\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Conditional Modifiers\&quot;],\&quot;link\&quot;:[0,\&quot;learn/conditional-modifiers\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Accumulation\&quot;],\&quot;link\&quot;:[0,\&quot;learn/accumulation\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Tonal Modifiers\&quot;],\&quot;link\&quot;:[0,\&quot;learn/tonal\&quot;]}]]&quot;],&quot;More&quot;:[1,&quot;[[0,{\&quot;text\&quot;:[0,\&quot;Patterns\&quot;],\&quot;link\&quot;:[0,\&quot;technical-manual/patterns\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Pattern Alignment\&quot;],\&quot;link\&quot;:[0,\&quot;technical-manual/alignment\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;MIDI &amp; OSC\&quot;],\&quot;link\&quot;:[0,\&quot;learn/input-output\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Strudel vs Tidal\&quot;],\&quot;link\&quot;:[0,\&quot;learn/strudel-vs-tidal\&quot;]}]]&quot;],&quot;Development&quot;:[1,&quot;[[0,{\&quot;text\&quot;:[0,\&quot;REPL\&quot;],\&quot;link\&quot;:[0,\&quot;technical-manual/repl\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Docs\&quot;],\&quot;link\&quot;:[0,\&quot;technical-manual/docs\&quot;]}],[0,{\&quot;text\&quot;:[0,\&quot;Testing\&quot;],\&quot;link\&quot;:[0,\&quot;technical-manual/testing\&quot;]}]]&quot;]}]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;MobileNav&quot;,&quot;value&quot;:true}" await-children=""><nav data-headlessui-state=""><button class="inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" id="headlessui-disclosure-button-:R1:" type="button" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open main menu</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="block h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></nav></astro-island>
  </div>
</nav>




      </header>
      <main class="relative pt-16">
        <div class="h-full top-0 overflow-auto min-w-[300px] flex xl:justify-center pr-4 pl-4 md:pl-[300px] xl:pl-0">
          <aside title="Site Navigation" class="w-[300px] px-6 left-0 hidden md:block fixed">
            <nav aria-labelledby="grid-left">
  <ul>
    <li>
          <div class="nav-group pb-4">
            <h2>Tutorial</h2>
            <ul>
              <li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/getting-started">
                      Getting Started
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/notes">
                      Notes
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/sounds">
                      Sounds
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/code">
                      Coding syntax
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/mini-notation">
                      Mini-Notation
                    </a>
                  </li>
            </ul>
          </div>
        </li><li>
          <div class="nav-group pb-4">
            <h2>Making Sound</h2>
            <ul>
              <li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/samples">
                      Samples
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/synths">
                      Synths
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/effects">
                      Audio Effects
                    </a>
                  </li>
            </ul>
          </div>
        </li><li>
          <div class="nav-group pb-4">
            <h2>Pattern Functions</h2>
            <ul>
              <li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./functions/intro">
                      Introduction
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/factories">
                      Pattern Constructors
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/time-modifiers">
                      Time Modifiers
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./functions/value-modifiers">
                      Control Parameters
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/signals">
                      Signals
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/conditional-modifiers">
                      Conditional Modifiers
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/accumulation">
                      Accumulation
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/tonal">
                      Tonal Modifiers
                    </a>
                  </li>
            </ul>
          </div>
        </li><li>
          <div class="nav-group pb-4">
            <h2>More</h2>
            <ul>
              <li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./technical-manual/patterns">
                      Patterns
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./technical-manual/alignment">
                      Pattern Alignment
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/input-output">
                      MIDI &amp; OSC
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./learn/strudel-vs-tidal">
                      Strudel vs Tidal
                    </a>
                  </li>
            </ul>
          </div>
        </li><li>
          <div class="nav-group pb-4">
            <h2>Development</h2>
            <ul>
              <li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./technical-manual/repl">
                      REPL
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./technical-manual/docs">
                      Docs
                    </a>
                  </li><li class="">
                    <a class="pl-4 py-0.5 w-full hover:bg-header block" href="./technical-manual/testing">
                      Testing
                    </a>
                  </li>
            </ul>
          </div>
        </li>
  </ul>
</nav>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    var target = document.querySelector('[aria-current="page"]');
    if (target && target.offsetTop > window.innerHeight - 100) {
      document.querySelector('.nav-groups').scrollTop = target.offsetTop;
    }
  });
</script>
          </aside>
          <article id="article" class="content astro-T4G566DL">
  <section class="main-section astro-T4G566DL">
    <!-- TODO: add dropdown toc on mobile -->
    <!--     <nav class="block sm:hidden mb-8">
      <span>On this Page:</span>
      <TableOfContents client:media="(max-width: 50em)" headings={headings} currentPage={currentPage} />
    </nav> -->
    <div class="prose prose-invert max-w-full pb-8 astro-T4G566DL">
      <h1 id="internal-functions"><a aria-hidden="true" tabIndex="-1" href="#internal-functions"><span class="icon icon-link"></span></a>Internal Functions</h1>
<p>These functions are more low level, probably not needed by the live coder.</p>
<h1 id="haskell-style-functor-applicative-and-monadic-operations"><a aria-hidden="true" tabIndex="-1" href="#haskell-style-functor-applicative-and-monadic-operations"><span class="icon icon-link"></span></a>Haskell-style functor, applicative and monadic operations</h1>
<h2 id="withvalue"><a aria-hidden="true" tabIndex="-1" href="#withvalue"><span class="icon icon-link"></span></a>withValue</h2>
<style>astro-island,astro-slot{display:contents}</style><script>(self.Astro=self.Astro||{}).idle=t=>{const e=async()=>{await(await t())()};"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,200)},window.dispatchEvent(new Event("astro:idle"));var l;{const c={0:t=>t,1:t=>JSON.parse(t,o),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,o)),5:t=>new Set(JSON.parse(t,o)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(JSON.parse(t)),9:t=>new Uint16Array(JSON.parse(t)),10:t=>new Uint32Array(JSON.parse(t))},o=(t,s)=>{if(t===""||!Array.isArray(s))return s;const[e,n]=s;return e in c?c[e](n):void 0};customElements.get("astro-island")||customElements.define("astro-island",(l=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement&&this.parentElement.closest("astro-island[ssr]"))return;const s=this.querySelectorAll("astro-slot"),e={},n=this.querySelectorAll("template[data-astro-template]");for(const r of n){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(const r of s){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("name")||"default"]=r.innerHTML)}const a=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),o):{};this.hydrator(this)(this.Component,a,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((s,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate);let s=this.getAttribute("before-hydration-url");s&&await import(s),this.start()}start(){const s=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(Astro[e]===void 0){window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0});return}Astro[e](async()=>{const n=this.getAttribute("renderer-url"),[a,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(const d of i.split("."))this.Component=this.Component[d]}return this.hydrator=r,this.hydrate},s,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},l.observedAttributes=["props"],l))}</script><astro-island uid="WhWz7" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#withValue&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><span>Synonyms: <code>fmap</code></span><div><p>Returns a new pattern, with the function applied to the value of
each hap. It has the alias <a href="#pattern-fmap">Pattern#fmap</a>.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): <!-- -->to to apply to the value</li></ul><div class="space-y-2"><pre>&quot;0 1 2&quot;.withValue(v =&gt; v + 10).log()</pre></div></astro-island>
<h2 id="appwhole"><a aria-hidden="true" tabIndex="-1" href="#appwhole"><span class="icon icon-link"></span></a>appWhole</h2>
<astro-island uid="Z1Yes9u" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#appWhole&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Assumes 'this' is a pattern of functions, and given a function to
resolve wholes, applies a given pattern of values to that
pattern of functions.</p></div><ul><li>whole_func<!-- --> (<!-- -->function<!-- -->): </li><li>func<!-- --> (<!-- -->function<!-- -->): </li></ul><div></div></astro-island>
<h2 id="appboth"><a aria-hidden="true" tabIndex="-1" href="#appboth"><span class="icon icon-link"></span></a>appBoth</h2>
<astro-island uid="Z11D247" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#appBoth&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>When this method is called on a pattern of functions, it matches its haps
with those in the given pattern of values.  A new pattern is returned, with
each matching value applied to the corresponding function.</p>
<p>In this <code>_appBoth</code> variant, where timespans of the function and value haps
are not the same but do intersect, the resulting hap has a timespan of the
intersection. This applies to both the part and the whole timespan.</p></div><ul><li>pat_val<!-- --> (<!-- -->Pattern<!-- -->): </li></ul><div></div></astro-island>
<h2 id="appleft"><a aria-hidden="true" tabIndex="-1" href="#appleft"><span class="icon icon-link"></span></a>appLeft</h2>
<astro-island uid="11UuHK" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#appLeft&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>As with <a href="#pattern-appBoth">Pattern#appBoth</a>, but the <code>whole</code> timespan is not the intersection,
but the timespan from the function of patterns that this method is called
on. In practice, this means that the pattern structure, including onsets,
are preserved from the pattern of functions (often referred to as the left
hand or inner pattern).</p></div><ul><li>pat_val<!-- --> (<!-- -->Pattern<!-- -->): </li></ul><div></div></astro-island>
<h2 id="appright"><a aria-hidden="true" tabIndex="-1" href="#appright"><span class="icon icon-link"></span></a>appRight</h2>
<astro-island uid="Zw4JzT" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#appRight&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>As with <a href="#pattern-appLeft">Pattern#appLeft</a>, but <code>whole</code> timespans are instead taken from the
pattern of values, i.e. structure is preserved from the right hand/outer
pattern.</p></div><ul><li>pat_val<!-- --> (<!-- -->Pattern<!-- -->): </li></ul><div></div></astro-island>
<h2 id="bindwhole"><a aria-hidden="true" tabIndex="-1" href="#bindwhole"><span class="icon icon-link"></span></a>bindWhole</h2>
<astro-island uid="Z4QIXn" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#bindWhole&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="bind"><a aria-hidden="true" tabIndex="-1" href="#bind"><span class="icon icon-link"></span></a>bind</h2>
<astro-island uid="Z2lN9Bn" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#bind&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="join"><a aria-hidden="true" tabIndex="-1" href="#join"><span class="icon icon-link"></span></a>join</h2>
<astro-island uid="25Juiu" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#join&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="outerbind"><a aria-hidden="true" tabIndex="-1" href="#outerbind"><span class="icon icon-link"></span></a>outerBind</h2>
<astro-island uid="ZlN3Ja" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#outerBind&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="outerjoin"><a aria-hidden="true" tabIndex="-1" href="#outerjoin"><span class="icon icon-link"></span></a>outerJoin</h2>
<astro-island uid="ZYrxDe" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#outerJoin&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="innerbind"><a aria-hidden="true" tabIndex="-1" href="#innerbind"><span class="icon icon-link"></span></a>innerBind</h2>
<astro-island uid="15ccr" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#innerBind&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="innerjoin"><a aria-hidden="true" tabIndex="-1" href="#innerjoin"><span class="icon icon-link"></span></a>innerJoin</h2>
<astro-island uid="ZByhGC" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#innerJoin&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="trigjoin"><a aria-hidden="true" tabIndex="-1" href="#trigjoin"><span class="icon icon-link"></span></a>trigJoin</h2>
<astro-island uid="Z232GVM" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#trigJoin&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="trigzerojoin"><a aria-hidden="true" tabIndex="-1" href="#trigzerojoin"><span class="icon icon-link"></span></a>trigzeroJoin</h2>
<astro-island uid="12oUWh" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#trigzeroJoin&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="squeezejoin"><a aria-hidden="true" tabIndex="-1" href="#squeezejoin"><span class="icon icon-link"></span></a>squeezeJoin</h2>
<astro-island uid="Z1RPDii" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#squeezeJoin&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="squeezebind"><a aria-hidden="true" tabIndex="-1" href="#squeezebind"><span class="icon icon-link"></span></a>squeezeBind</h2>
<astro-island uid="Z1fc9oe" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#squeezeBind&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h1 id="utility-methods-mainly-for-internal-use"><a aria-hidden="true" tabIndex="-1" href="#utility-methods-mainly-for-internal-use"><span class="icon icon-link"></span></a>Utility methods mainly for internal use</h1>
<h2 id="queryarc"><a aria-hidden="true" tabIndex="-1" href="#queryarc"><span class="icon icon-link"></span></a>queryArc</h2>
<astro-island uid="xSHlU" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#queryArc&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Query haps inside the given time span.</p></div><ul><li>begin<!-- --> (<!-- -->Fraction|number<!-- -->): <!-- -->from time</li><li>end<!-- --> (<!-- -->Fraction|number<!-- -->): <!-- -->to time</li></ul><div class="space-y-2"><pre>const pattern = sequence(&#x27;a&#x27;, [&#x27;b&#x27;, &#x27;c&#x27;])
const haps = pattern.queryArc(0, 1)
console.log(haps)
silence</pre></div></astro-island>
<h2 id="splitqueries"><a aria-hidden="true" tabIndex="-1" href="#splitqueries"><span class="icon icon-link"></span></a>splitQueries</h2>
<astro-island uid="20eDKD" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#splitQueries&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new pattern, with queries split at cycle boundaries. This makes
some calculations easier to express, as all haps are then constrained to
happen within a cycle.</p></div><ul></ul><div></div></astro-island>
<h2 id="withqueryspan"><a aria-hidden="true" tabIndex="-1" href="#withqueryspan"><span class="icon icon-link"></span></a>withQuerySpan</h2>
<astro-island uid="1lgMBX" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#withQuerySpan&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new pattern, where the given function is applied to the query
timespan before passing it to the original pattern.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): <!-- -->the function to apply</li></ul><div></div></astro-island>
<h2 id="withqueryspanmaybe"><a aria-hidden="true" tabIndex="-1" href="#withqueryspanmaybe"><span class="icon icon-link"></span></a>withQuerySpanMaybe</h2>
<astro-island uid="2hJE88" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#withQuerySpanMaybe&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="withquerytime"><a aria-hidden="true" tabIndex="-1" href="#withquerytime"><span class="icon icon-link"></span></a>withQueryTime</h2>
<astro-island uid="Z12R7SU" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#withQueryTime&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>As with <a href="#pattern-withQuerySpan">Pattern#withQuerySpan</a>, but the function is applied to both the
begin and end time of the query timespan.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): <!-- -->the function to apply</li></ul><div></div></astro-island>
<h2 id="withhapspan"><a aria-hidden="true" tabIndex="-1" href="#withhapspan"><span class="icon icon-link"></span></a>withHapSpan</h2>
<astro-island uid="Z2tnhpj" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#withHapSpan&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Similar to <a href="#pattern-withQuerySpan">Pattern#withQuerySpan</a>, but the function is applied to the timespans
of all haps returned by pattern queries (both <code>part</code> timespans, and where
present, <code>whole</code> timespans).</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): </li></ul><div></div></astro-island>
<h2 id="withhaptime"><a aria-hidden="true" tabIndex="-1" href="#withhaptime"><span class="icon icon-link"></span></a>withHapTime</h2>
<astro-island uid="2vftO1" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#withHapTime&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>As with <a href="#pattern-withHapSpan">Pattern#withHapSpan</a>, but the function is applied to both the
begin and end time of the hap timespans.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): <!-- -->the function to apply</li></ul><div></div></astro-island>
<h2 id="withhaps"><a aria-hidden="true" tabIndex="-1" href="#withhaps"><span class="icon icon-link"></span></a>withHaps</h2>
<astro-island uid="1nt7HG" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#withHaps&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new pattern with the given function applied to the list of haps returned by every query.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): </li></ul><div></div></astro-island>
<h2 id="withhap"><a aria-hidden="true" tabIndex="-1" href="#withhap"><span class="icon icon-link"></span></a>withHap</h2>
<astro-island uid="1W3iyd" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#withHap&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>As with <a href="#pattern-withHaps">Pattern#withHaps</a>, but applies the function to every hap, rather than every list of haps.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): </li></ul><div></div></astro-island>
<h2 id="setcontext"><a aria-hidden="true" tabIndex="-1" href="#setcontext"><span class="icon icon-link"></span></a>setContext</h2>
<astro-island uid="7HWE3" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#setContext&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new pattern with the context field set to every hap set to the given value.</p></div><ul><li>context<!-- --> (<!-- -->*<!-- -->): </li></ul><div></div></astro-island>
<h2 id="withcontext"><a aria-hidden="true" tabIndex="-1" href="#withcontext"><span class="icon icon-link"></span></a>withContext</h2>
<astro-island uid="7HWE3" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#setContext&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new pattern with the context field set to every hap set to the given value.</p></div><ul><li>context<!-- --> (<!-- -->*<!-- -->): </li></ul><div></div></astro-island>
<h2 id="stripcontext"><a aria-hidden="true" tabIndex="-1" href="#stripcontext"><span class="icon icon-link"></span></a>stripContext</h2>
<astro-island uid="w5vFE" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#stripContext&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new pattern with the context field of every hap set to an empty object.</p></div><ul></ul><div></div></astro-island>
<h2 id="withlocation"><a aria-hidden="true" tabIndex="-1" href="#withlocation"><span class="icon icon-link"></span></a>withLocation</h2>
<astro-island uid="1bnqrC" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#withLocation&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new pattern with the given location information added to the
context of every hap.</p></div><ul><li>start<!-- --> (<!-- -->Number<!-- -->): </li><li>end<!-- --> (<!-- -->Number<!-- -->): </li></ul><div></div></astro-island>
<h2 id="withminilocation"><a aria-hidden="true" tabIndex="-1" href="#withminilocation"><span class="icon icon-link"></span></a>withMiniLocation</h2>
<astro-island uid="1MwRCS" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#withMiniLocation&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="filterhaps"><a aria-hidden="true" tabIndex="-1" href="#filterhaps"><span class="icon icon-link"></span></a>filterHaps</h2>
<astro-island uid="ZS7bUj" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#filterHaps&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new Pattern, which only returns haps that meet the given test.</p></div><ul><li>hap_test<!-- --> (<!-- -->function<!-- -->): <!-- -->a function which returns false for haps to be removed from the pattern</li></ul><div></div></astro-island>
<h2 id="filtervalues"><a aria-hidden="true" tabIndex="-1" href="#filtervalues"><span class="icon icon-link"></span></a>filterValues</h2>
<astro-island uid="Z2fi3wI" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#filterValues&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>As with <a href="#pattern-filterHaps">Pattern#filterHaps</a>, but the function is applied to values
inside haps.</p></div><ul><li>value_test<!-- --> (<!-- -->function<!-- -->): </li></ul><div></div></astro-island>
<h2 id="removeundefineds"><a aria-hidden="true" tabIndex="-1" href="#removeundefineds"><span class="icon icon-link"></span></a>removeUndefineds</h2>
<astro-island uid="Z2fi3wI" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#filterValues&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>As with <a href="#pattern-filterHaps">Pattern#filterHaps</a>, but the function is applied to values
inside haps.</p></div><ul><li>value_test<!-- --> (<!-- -->function<!-- -->): </li></ul><div></div></astro-island>
<h2 id="onsetsonly"><a aria-hidden="true" tabIndex="-1" href="#onsetsonly"><span class="icon icon-link"></span></a>onsetsOnly</h2>
<astro-island uid="Z1PFAbu" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#onsetsOnly&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new pattern, with all haps without onsets filtered out. A hap
with an onset is one with a <code>whole</code> timespan that begins at the same time
as its <code>part</code> timespan.</p></div><ul></ul><div></div></astro-island>
<h2 id="discreteonly"><a aria-hidden="true" tabIndex="-1" href="#discreteonly"><span class="icon icon-link"></span></a>discreteOnly</h2>
<astro-island uid="ngDV9" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#discreteOnly&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new pattern, with 'continuous' haps (those without 'whole'
timespans) removed from query results.</p></div><ul></ul><div></div></astro-island>
<h2 id="defragmenthaps"><a aria-hidden="true" tabIndex="-1" href="#defragmenthaps"><span class="icon icon-link"></span></a>defragmentHaps</h2>
<astro-island uid="24psag" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#defragmentHaps&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Combines adjacent haps with the same value and whole.  Only
intended for use in tests.</p></div><ul></ul><div></div></astro-island>
<h2 id="firstcycle"><a aria-hidden="true" tabIndex="-1" href="#firstcycle"><span class="icon icon-link"></span></a>firstCycle</h2>
<astro-island uid="9w39D" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#firstCycle&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Queries the pattern for the first cycle, returning Haps. Mainly of use when
debugging a pattern.</p></div><ul><li>with_context<!-- --> (<!-- -->Boolean<!-- -->): <!-- -->set to true, otherwise the context field
will be stripped from the resulting haps.</li></ul><div></div></astro-island>
<h2 id="firstcyclevalues"><a aria-hidden="true" tabIndex="-1" href="#firstcyclevalues"><span class="icon icon-link"></span></a>firstCycleValues</h2>
<astro-island uid="1Irknd" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#firstCycleValues&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Accessor for a list of values returned by querying the first cycle.</p></div><ul></ul><div></div></astro-island>
<h2 id="showfirstcycle"><a aria-hidden="true" tabIndex="-1" href="#showfirstcycle"><span class="icon icon-link"></span></a>showFirstCycle</h2>
<astro-island uid="ZxUVNv" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#showFirstCycle&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>More human-readable version of the <a href="#pattern-firstCycleValues">Pattern#firstCycleValues</a> accessor.</p></div><ul></ul><div></div></astro-island>
<h2 id="sorthapsbypart"><a aria-hidden="true" tabIndex="-1" href="#sorthapsbypart"><span class="icon icon-link"></span></a>sortHapsByPart</h2>
<astro-island uid="Z1iOYtl" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#sortHapsByPart&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new pattern, which returns haps sorted in temporal order. Mainly
of use when comparing two patterns for equality, in tests.</p></div><ul></ul><div></div></astro-island>
<h2 id="asnumber"><a aria-hidden="true" tabIndex="-1" href="#asnumber"><span class="icon icon-link"></span></a>asNumber</h2>
<astro-island uid="Z1iOYtl" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#sortHapsByPart&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Returns a new pattern, which returns haps sorted in temporal order. Mainly
of use when comparing two patterns for equality, in tests.</p></div><ul></ul><div></div></astro-island>
<h1 id="operators"><a aria-hidden="true" tabIndex="-1" href="#operators"><span class="icon icon-link"></span></a>Operators</h1>
<ul>
<li>_opIn</li>
<li>_opOut</li>
<li>_opMix</li>
<li>_opSqueeze</li>
<li>_opSqueezeOut</li>
<li>_opTrig</li>
<li>_opTrigzero</li>
</ul>
<h1 id="other"><a aria-hidden="true" tabIndex="-1" href="#other"><span class="icon icon-link"></span></a>Other</h1>
<h2 id="ontrigger"><a aria-hidden="true" tabIndex="-1" href="#ontrigger"><span class="icon icon-link"></span></a>onTrigger</h2>
<astro-island uid="1hGgPg" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#onTrigger&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="log"><a aria-hidden="true" tabIndex="-1" href="#log"><span class="icon icon-link"></span></a>log</h2>
<astro-island uid="2x1mvz" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#log&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="logvalues"><a aria-hidden="true" tabIndex="-1" href="#logvalues"><span class="icon icon-link"></span></a>logValues</h2>
<astro-island uid="mWONP" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#logValues&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="drawline"><a aria-hidden="true" tabIndex="-1" href="#drawline"><span class="icon icon-link"></span></a>drawLine</h2>
<astro-island uid="ZS05SD" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;Pattern#drawLine&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="collect"><a aria-hidden="true" tabIndex="-1" href="#collect"><span class="icon icon-link"></span></a>collect</h2>
<h1 id="functions"><a aria-hidden="true" tabIndex="-1" href="#functions"><span class="icon icon-link"></span></a>Functions</h1>
<h2 id="grouphapsby"><a aria-hidden="true" tabIndex="-1" href="#grouphapsby"><span class="icon icon-link"></span></a>groupHapsBy</h2>
<astro-island uid="1bKVk8" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;groupHapsBy&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="pure"><a aria-hidden="true" tabIndex="-1" href="#pure"><span class="icon icon-link"></span></a>pure</h2>
<astro-island uid="FMjs8" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;pure&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>A discrete value that repeats once per cycle.</p></div><ul></ul><div class="space-y-2"><pre>pure(&#x27;e4&#x27;) // &quot;e4&quot;</pre></div></astro-island>
<h2 id="reify"><a aria-hidden="true" tabIndex="-1" href="#reify"><span class="icon icon-link"></span></a>reify</h2>
<astro-island uid="2gvxlR" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;reify&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="slowcatprime"><a aria-hidden="true" tabIndex="-1" href="#slowcatprime"><span class="icon icon-link"></span></a>slowcatPrime</h2>
<astro-island uid="Z1TeKDn" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;slowcatPrime&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Concatenation: combines a list of patterns, switching between them successively, one per cycle. Unlike slowcat, this version will skip cycles.</p></div><ul><li>items<!-- --> (<!-- -->any<!-- -->): <!-- -->The items to concatenate</li></ul><div></div></astro-island>
<h2 id="ispattern"><a aria-hidden="true" tabIndex="-1" href="#ispattern"><span class="icon icon-link"></span></a>isPattern</h2>
<astro-island uid="gu4Md" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;isPattern&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="register"><a aria-hidden="true" tabIndex="-1" href="#register"><span class="icon icon-link"></span></a>register</h2>
<astro-island uid="2kWrW4" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;register&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Registers a new pattern method. The method is added to the Pattern class + the standalone function is returned from register.</p></div><ul><li>name<!-- --> (<!-- -->string<!-- -->): <!-- -->name of the function</li><li>func<!-- --> (<!-- -->function<!-- -->): <!-- -->function with 1 or more params, where last is the current pattern</li></ul><div></div></astro-island>
<h2 id="tobipolar"><a aria-hidden="true" tabIndex="-1" href="#tobipolar"><span class="icon icon-link"></span></a>toBipolar</h2>
<astro-island uid="1txf9t" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;toBipolar&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Assumes a numerical pattern, containing unipolar values in the range 0 ..</p>
<ol>
<li>Returns a new pattern with values scaled to the bipolar range -1 .. 1</li>
</ol></div><ul></ul><div></div></astro-island>
<h2 id="frombipolar"><a aria-hidden="true" tabIndex="-1" href="#frombipolar"><span class="icon icon-link"></span></a>fromBipolar</h2>
<astro-island uid="1lcOjy" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;fromBipolar&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Assumes a numerical pattern, containing bipolar values in the range -1 ..</p>
<ol>
<li>Returns a new pattern with values scaled to the unipolar range 0 .. 1</li>
</ol></div><ul></ul><div></div></astro-island>
<h2 id="compressspan"><a aria-hidden="true" tabIndex="-1" href="#compressspan"><span class="icon icon-link"></span></a>compressSpan</h2>
<astro-island uid="6Jtdi" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;compressSpan&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div></div></astro-island>
<h2 id="focus"><a aria-hidden="true" tabIndex="-1" href="#focus"><span class="icon icon-link"></span></a>focus</h2>
<astro-island uid="2kuaWX" component-url="/JsDoc.e8c9d20d.js" component-export="JsDoc" renderer-url="/client.e1b7d247.js" props="{&quot;name&quot;:[0,&quot;focus&quot;],&quot;h&quot;:[0,0]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children=""><div><p>Similar to compress, but doesn't leave gaps, and the 'focus' can be bigger than a cycle</p></div><ul></ul><div class="space-y-2"><pre>s(&quot;bd hh sd hh&quot;).focus(1/4, 3/4)</pre></div></astro-island>
<h2 id="focusspan"><a aria-hidden="true" tabIndex="-1" href="#focusspan"><span class="icon icon-link"></span></a>focusSpan</h2>
<h2 id="_composeop"><a aria-hidden="true" tabIndex="-1" href="#_composeop"><span class="icon icon-link"></span></a>_composeOp</h2>
<h1 id="composers"><a aria-hidden="true" tabIndex="-1" href="#composers"><span class="icon icon-link"></span></a>Composers</h1>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#c9d1d9">set keep keepif add sub mul div mod pow band bor bxor blshift brshift lt gt lte gte eq eqt ne net and or func</span></span></code></pre>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#c9d1d9">In Out Mix Squeeze SqueezeOut Trig Trigzero</span></span></code></pre>
    </div>
  </section>
  <nav class="block sm:hidden astro-T4G566DL">
    <ul class="px-4 py-4">
  <li>
        <a class="flex items-center space-x-2" href="https://github.com/tidalcycles/strudel/tree/main/website/src/pages/technical-manual/internals.mdx" target="_blank">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em">
            <path fill="currentColor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"></path>
          </svg>
          <span>Edit this page</span>
        </a>
      </li>
  <li class="header-link depth-2">
        <a href="https://discord.com/invite/HGEdXmRkzT" target="_blank" class="flex items-center space-x-2">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="comment-alt" class="svg-inline--fa fa-comment-alt fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em">
            <path fill="currentColor" d="M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"></path>
          </svg>
          <span>Join our community</span>
        </a>
      </li>
</ul>
<div style="margin: 2rem 0; text-align: center;">
  <!--   <ThemeToggleButton client:visible /> -->
</div>
  </nav>
</article>

          <aside class="fixed right-0 h-full overflow-auto pr-4 pl-0 pb-16 hidden xl:block" title="Table of Contents">
            <nav aria-labelledby="grid-right" class="w-64">
  <script>(self.Astro=self.Astro||{}).media=(s,a)=>{const t=async()=>{await(await s())()};if(a.value){const e=matchMedia(a.value);e.matches?t():e.addEventListener("change",t,{once:!0})}},window.dispatchEvent(new Event("astro:media"));</script><astro-island uid="Z1GQRot" component-url="/TableOfContents.42801aec.js" component-export="default" renderer-url="/client.9d5dd920.js" props="{&quot;headings&quot;:[1,&quot;[[0,{\&quot;depth\&quot;:[0,1],\&quot;slug\&quot;:[0,\&quot;internal-functions\&quot;],\&quot;text\&quot;:[0,\&quot;Internal Functions\&quot;]}],[0,{\&quot;depth\&quot;:[0,1],\&quot;slug\&quot;:[0,\&quot;haskell-style-functor-applicative-and-monadic-operations\&quot;],\&quot;text\&quot;:[0,\&quot;Haskell-style functor, applicative and monadic operations\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;withvalue\&quot;],\&quot;text\&quot;:[0,\&quot;withValue\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;appwhole\&quot;],\&quot;text\&quot;:[0,\&quot;appWhole\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;appboth\&quot;],\&quot;text\&quot;:[0,\&quot;appBoth\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;appleft\&quot;],\&quot;text\&quot;:[0,\&quot;appLeft\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;appright\&quot;],\&quot;text\&quot;:[0,\&quot;appRight\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;bindwhole\&quot;],\&quot;text\&quot;:[0,\&quot;bindWhole\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;bind\&quot;],\&quot;text\&quot;:[0,\&quot;bind\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;join\&quot;],\&quot;text\&quot;:[0,\&quot;join\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;outerbind\&quot;],\&quot;text\&quot;:[0,\&quot;outerBind\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;outerjoin\&quot;],\&quot;text\&quot;:[0,\&quot;outerJoin\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;innerbind\&quot;],\&quot;text\&quot;:[0,\&quot;innerBind\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;innerjoin\&quot;],\&quot;text\&quot;:[0,\&quot;innerJoin\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;trigjoin\&quot;],\&quot;text\&quot;:[0,\&quot;trigJoin\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;trigzerojoin\&quot;],\&quot;text\&quot;:[0,\&quot;trigzeroJoin\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;squeezejoin\&quot;],\&quot;text\&quot;:[0,\&quot;squeezeJoin\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;squeezebind\&quot;],\&quot;text\&quot;:[0,\&quot;squeezeBind\&quot;]}],[0,{\&quot;depth\&quot;:[0,1],\&quot;slug\&quot;:[0,\&quot;utility-methods-mainly-for-internal-use\&quot;],\&quot;text\&quot;:[0,\&quot;Utility methods mainly for internal use\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;queryarc\&quot;],\&quot;text\&quot;:[0,\&quot;queryArc\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;splitqueries\&quot;],\&quot;text\&quot;:[0,\&quot;splitQueries\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;withqueryspan\&quot;],\&quot;text\&quot;:[0,\&quot;withQuerySpan\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;withqueryspanmaybe\&quot;],\&quot;text\&quot;:[0,\&quot;withQuerySpanMaybe\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;withquerytime\&quot;],\&quot;text\&quot;:[0,\&quot;withQueryTime\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;withhapspan\&quot;],\&quot;text\&quot;:[0,\&quot;withHapSpan\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;withhaptime\&quot;],\&quot;text\&quot;:[0,\&quot;withHapTime\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;withhaps\&quot;],\&quot;text\&quot;:[0,\&quot;withHaps\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;withhap\&quot;],\&quot;text\&quot;:[0,\&quot;withHap\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;setcontext\&quot;],\&quot;text\&quot;:[0,\&quot;setContext\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;withcontext\&quot;],\&quot;text\&quot;:[0,\&quot;withContext\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;stripcontext\&quot;],\&quot;text\&quot;:[0,\&quot;stripContext\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;withlocation\&quot;],\&quot;text\&quot;:[0,\&quot;withLocation\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;withminilocation\&quot;],\&quot;text\&quot;:[0,\&quot;withMiniLocation\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;filterhaps\&quot;],\&quot;text\&quot;:[0,\&quot;filterHaps\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;filtervalues\&quot;],\&quot;text\&quot;:[0,\&quot;filterValues\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;removeundefineds\&quot;],\&quot;text\&quot;:[0,\&quot;removeUndefineds\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;onsetsonly\&quot;],\&quot;text\&quot;:[0,\&quot;onsetsOnly\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;discreteonly\&quot;],\&quot;text\&quot;:[0,\&quot;discreteOnly\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;defragmenthaps\&quot;],\&quot;text\&quot;:[0,\&quot;defragmentHaps\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;firstcycle\&quot;],\&quot;text\&quot;:[0,\&quot;firstCycle\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;firstcyclevalues\&quot;],\&quot;text\&quot;:[0,\&quot;firstCycleValues\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;showfirstcycle\&quot;],\&quot;text\&quot;:[0,\&quot;showFirstCycle\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;sorthapsbypart\&quot;],\&quot;text\&quot;:[0,\&quot;sortHapsByPart\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;asnumber\&quot;],\&quot;text\&quot;:[0,\&quot;asNumber\&quot;]}],[0,{\&quot;depth\&quot;:[0,1],\&quot;slug\&quot;:[0,\&quot;operators\&quot;],\&quot;text\&quot;:[0,\&quot;Operators\&quot;]}],[0,{\&quot;depth\&quot;:[0,1],\&quot;slug\&quot;:[0,\&quot;other\&quot;],\&quot;text\&quot;:[0,\&quot;Other\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;ontrigger\&quot;],\&quot;text\&quot;:[0,\&quot;onTrigger\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;log\&quot;],\&quot;text\&quot;:[0,\&quot;log\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;logvalues\&quot;],\&quot;text\&quot;:[0,\&quot;logValues\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;drawline\&quot;],\&quot;text\&quot;:[0,\&quot;drawLine\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;collect\&quot;],\&quot;text\&quot;:[0,\&quot;collect\&quot;]}],[0,{\&quot;depth\&quot;:[0,1],\&quot;slug\&quot;:[0,\&quot;functions\&quot;],\&quot;text\&quot;:[0,\&quot;Functions\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;grouphapsby\&quot;],\&quot;text\&quot;:[0,\&quot;groupHapsBy\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;pure\&quot;],\&quot;text\&quot;:[0,\&quot;pure\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;reify\&quot;],\&quot;text\&quot;:[0,\&quot;reify\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;slowcatprime\&quot;],\&quot;text\&quot;:[0,\&quot;slowcatPrime\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;ispattern\&quot;],\&quot;text\&quot;:[0,\&quot;isPattern\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;register\&quot;],\&quot;text\&quot;:[0,\&quot;register\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;tobipolar\&quot;],\&quot;text\&quot;:[0,\&quot;toBipolar\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;frombipolar\&quot;],\&quot;text\&quot;:[0,\&quot;fromBipolar\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;compressspan\&quot;],\&quot;text\&quot;:[0,\&quot;compressSpan\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;focus\&quot;],\&quot;text\&quot;:[0,\&quot;focus\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;focusspan\&quot;],\&quot;text\&quot;:[0,\&quot;focusSpan\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;_composeop\&quot;],\&quot;text\&quot;:[0,\&quot;_composeOp\&quot;]}],[0,{\&quot;depth\&quot;:[0,1],\&quot;slug\&quot;:[0,\&quot;composers\&quot;],\&quot;text\&quot;:[0,\&quot;Composers\&quot;]}]]&quot;],&quot;currentPage&quot;:[0,&quot;/technical-manual/internals/&quot;]}" ssr="" client="media" opts="{&quot;name&quot;:&quot;TableOfContents&quot;,&quot;value&quot;:&quot;(min-width: 50em)&quot;}" await-children=""><ul><li class="w-full"><a href="/technical-manual/internals/#internal-functions" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-4">Internal Functions</a></li><li class="w-full"><a href="/technical-manual/internals/#haskell-style-functor-applicative-and-monadic-operations" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-4">Haskell-style functor, applicative and monadic operations</a></li><li class="w-full"><a href="/technical-manual/internals/#withvalue" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">withValue</a></li><li class="w-full"><a href="/technical-manual/internals/#appwhole" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">appWhole</a></li><li class="w-full"><a href="/technical-manual/internals/#appboth" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">appBoth</a></li><li class="w-full"><a href="/technical-manual/internals/#appleft" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">appLeft</a></li><li class="w-full"><a href="/technical-manual/internals/#appright" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">appRight</a></li><li class="w-full"><a href="/technical-manual/internals/#bindwhole" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">bindWhole</a></li><li class="w-full"><a href="/technical-manual/internals/#bind" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">bind</a></li><li class="w-full"><a href="/technical-manual/internals/#join" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">join</a></li><li class="w-full"><a href="/technical-manual/internals/#outerbind" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">outerBind</a></li><li class="w-full"><a href="/technical-manual/internals/#outerjoin" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">outerJoin</a></li><li class="w-full"><a href="/technical-manual/internals/#innerbind" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">innerBind</a></li><li class="w-full"><a href="/technical-manual/internals/#innerjoin" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">innerJoin</a></li><li class="w-full"><a href="/technical-manual/internals/#trigjoin" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">trigJoin</a></li><li class="w-full"><a href="/technical-manual/internals/#trigzerojoin" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">trigzeroJoin</a></li><li class="w-full"><a href="/technical-manual/internals/#squeezejoin" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">squeezeJoin</a></li><li class="w-full"><a href="/technical-manual/internals/#squeezebind" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">squeezeBind</a></li><li class="w-full"><a href="/technical-manual/internals/#utility-methods-mainly-for-internal-use" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-4">Utility methods mainly for internal use</a></li><li class="w-full"><a href="/technical-manual/internals/#queryarc" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">queryArc</a></li><li class="w-full"><a href="/technical-manual/internals/#splitqueries" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">splitQueries</a></li><li class="w-full"><a href="/technical-manual/internals/#withqueryspan" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">withQuerySpan</a></li><li class="w-full"><a href="/technical-manual/internals/#withqueryspanmaybe" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">withQuerySpanMaybe</a></li><li class="w-full"><a href="/technical-manual/internals/#withquerytime" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">withQueryTime</a></li><li class="w-full"><a href="/technical-manual/internals/#withhapspan" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">withHapSpan</a></li><li class="w-full"><a href="/technical-manual/internals/#withhaptime" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">withHapTime</a></li><li class="w-full"><a href="/technical-manual/internals/#withhaps" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">withHaps</a></li><li class="w-full"><a href="/technical-manual/internals/#withhap" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">withHap</a></li><li class="w-full"><a href="/technical-manual/internals/#setcontext" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">setContext</a></li><li class="w-full"><a href="/technical-manual/internals/#withcontext" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">withContext</a></li><li class="w-full"><a href="/technical-manual/internals/#stripcontext" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">stripContext</a></li><li class="w-full"><a href="/technical-manual/internals/#withlocation" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">withLocation</a></li><li class="w-full"><a href="/technical-manual/internals/#withminilocation" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">withMiniLocation</a></li><li class="w-full"><a href="/technical-manual/internals/#filterhaps" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">filterHaps</a></li><li class="w-full"><a href="/technical-manual/internals/#filtervalues" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">filterValues</a></li><li class="w-full"><a href="/technical-manual/internals/#removeundefineds" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">removeUndefineds</a></li><li class="w-full"><a href="/technical-manual/internals/#onsetsonly" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">onsetsOnly</a></li><li class="w-full"><a href="/technical-manual/internals/#discreteonly" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">discreteOnly</a></li><li class="w-full"><a href="/technical-manual/internals/#defragmenthaps" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">defragmentHaps</a></li><li class="w-full"><a href="/technical-manual/internals/#firstcycle" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">firstCycle</a></li><li class="w-full"><a href="/technical-manual/internals/#firstcyclevalues" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">firstCycleValues</a></li><li class="w-full"><a href="/technical-manual/internals/#showfirstcycle" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">showFirstCycle</a></li><li class="w-full"><a href="/technical-manual/internals/#sorthapsbypart" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">sortHapsByPart</a></li><li class="w-full"><a href="/technical-manual/internals/#asnumber" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">asNumber</a></li><li class="w-full"><a href="/technical-manual/internals/#operators" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-4">Operators</a></li><li class="w-full"><a href="/technical-manual/internals/#other" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-4">Other</a></li><li class="w-full"><a href="/technical-manual/internals/#ontrigger" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">onTrigger</a></li><li class="w-full"><a href="/technical-manual/internals/#log" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">log</a></li><li class="w-full"><a href="/technical-manual/internals/#logvalues" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">logValues</a></li><li class="w-full"><a href="/technical-manual/internals/#drawline" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">drawLine</a></li><li class="w-full"><a href="/technical-manual/internals/#collect" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">collect</a></li><li class="w-full"><a href="/technical-manual/internals/#functions" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-4">Functions</a></li><li class="w-full"><a href="/technical-manual/internals/#grouphapsby" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">groupHapsBy</a></li><li class="w-full"><a href="/technical-manual/internals/#pure" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">pure</a></li><li class="w-full"><a href="/technical-manual/internals/#reify" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">reify</a></li><li class="w-full"><a href="/technical-manual/internals/#slowcatprime" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">slowcatPrime</a></li><li class="w-full"><a href="/technical-manual/internals/#ispattern" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">isPattern</a></li><li class="w-full"><a href="/technical-manual/internals/#register" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">register</a></li><li class="w-full"><a href="/technical-manual/internals/#tobipolar" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">toBipolar</a></li><li class="w-full"><a href="/technical-manual/internals/#frombipolar" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">fromBipolar</a></li><li class="w-full"><a href="/technical-manual/internals/#compressspan" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">compressSpan</a></li><li class="w-full"><a href="/technical-manual/internals/#focus" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">focus</a></li><li class="w-full"><a href="/technical-manual/internals/#focusspan" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">focusSpan</a></li><li class="w-full"><a href="/technical-manual/internals/#_composeop" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-9">_composeOp</a></li><li class="w-full"><a href="/technical-manual/internals/#composers" class="py-0.5 block cursor-pointer w-full border-l-4 border-header hover:bg-header pl-4">Composers</a></li></ul></astro-island>
  <ul class="px-4 py-4">
  <li>
        <a class="flex items-center space-x-2" href="https://github.com/tidalcycles/strudel/tree/main/website/src/pages/technical-manual/internals.mdx" target="_blank">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em">
            <path fill="currentColor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"></path>
          </svg>
          <span>Edit this page</span>
        </a>
      </li>
  <li class="header-link depth-2">
        <a href="https://discord.com/invite/HGEdXmRkzT" target="_blank" class="flex items-center space-x-2">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="comment-alt" class="svg-inline--fa fa-comment-alt fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em">
            <path fill="currentColor" d="M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"></path>
          </svg>
          <span>Join our community</span>
        </a>
      </li>
</ul>
<div style="margin: 2rem 0; text-align: center;">
  <!--   <ThemeToggleButton client:visible /> -->
</div>
</nav>
          </aside>
        </div>
      </main>
      <!--     <Footer path={currentFile} /> -->
    </div>
  </body></html>