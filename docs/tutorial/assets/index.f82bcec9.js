var Ln=Object.defineProperty,jn=Object.defineProperties;var Vn=Object.getOwnPropertyDescriptors;var On=Object.getOwnPropertySymbols;var An=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable;var vn=(s,e,a)=>e in s?Ln(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,Jt=(s,e)=>{for(var a in e||(e={}))An.call(e,a)&&vn(s,a,e[a]);if(On)for(var a of On(e))Dn.call(e,a)&&vn(s,a,e[a]);return s},nn=(s,e)=>jn(s,Vn(e));var Tn=(s,e)=>{var a={};for(var o in s)An.call(s,o)&&e.indexOf(o)<0&&(a[o]=s[o]);if(s!=null&&On)for(var o of On(s))e.indexOf(o)<0&&Dn.call(s,o)&&(a[o]=s[o]);return a};var cn=(s,e,a)=>(vn(s,typeof e!="symbol"?e+"":e,a),a);const p$2=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const b of d.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&o(b)}).observe(document,{childList:!0,subtree:!0});function a(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerpolicy&&(d.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?d.credentials="include":c.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=a(c);fetch(c.href,d)}};p$2();var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(s).forEach(function(a){var o=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:function(){return s[a]}})}),e}var react={exports:{}},react_production_min={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$2=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function shouldUseNative(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var e={},a=0;a<10;a++)e["_"+String.fromCharCode(a)]=a;var o=Object.getOwnPropertyNames(e).map(function(d){return e[d]});if(o.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(d){c[d]=d}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(s,e){for(var a,o=toObject(s),c,d=1;d<arguments.length;d++){a=Object(arguments[d]);for(var b in a)hasOwnProperty$2.call(a,b)&&(o[b]=a[b]);if(getOwnPropertySymbols){c=getOwnPropertySymbols(a);for(var k=0;k<c.length;k++)propIsEnumerable.call(a,c[k])&&(o[c[k]]=a[c[k]])}}return o};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=objectAssign,n$1=60103,p$1=60106;react_production_min.Fragment=60107;react_production_min.StrictMode=60108;react_production_min.Profiler=60114;var q$1=60109,r$1=60110,t$1=60112;react_production_min.Suspense=60113;var u=60115,v$1=60116;if(typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;n$1=w("react.element"),p$1=w("react.portal"),react_production_min.Fragment=w("react.fragment"),react_production_min.StrictMode=w("react.strict_mode"),react_production_min.Profiler=w("react.profiler"),q$1=w("react.provider"),r$1=w("react.context"),t$1=w("react.forward_ref"),react_production_min.Suspense=w("react.suspense"),u=w("react.memo"),v$1=w("react.lazy")}var x=typeof Symbol=="function"&&Symbol.iterator;function y$1(s){return s===null||typeof s!="object"?null:(s=x&&s[x]||s["@@iterator"],typeof s=="function"?s:null)}function z$1(s){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+s,a=1;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+s+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B$2={};function C$1(s,e,a){this.props=s,this.context=e,this.refs=B$2,this.updater=a||A}C$1.prototype.isReactComponent={};C$1.prototype.setState=function(s,e){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error(z$1(85));this.updater.enqueueSetState(this,s,e,"setState")};C$1.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function D$1(){}D$1.prototype=C$1.prototype;function E$1(s,e,a){this.props=s,this.context=e,this.refs=B$2,this.updater=a||A}var F$1=E$1.prototype=new D$1;F$1.constructor=E$1;l(F$1,C$1.prototype);F$1.isPureReactComponent=!0;var G$1={current:null},H$1=Object.prototype.hasOwnProperty,I$1={key:!0,ref:!0,__self:!0,__source:!0};function J(s,e,a){var o,c={},d=null,b=null;if(e!=null)for(o in e.ref!==void 0&&(b=e.ref),e.key!==void 0&&(d=""+e.key),e)H$1.call(e,o)&&!I$1.hasOwnProperty(o)&&(c[o]=e[o]);var k=arguments.length-2;if(k===1)c.children=a;else if(1<k){for(var $=Array(k),_=0;_<k;_++)$[_]=arguments[_+2];c.children=$}if(s&&s.defaultProps)for(o in k=s.defaultProps,k)c[o]===void 0&&(c[o]=k[o]);return{$$typeof:n$1,type:s,key:d,ref:b,props:c,_owner:G$1.current}}function K$1(s,e){return{$$typeof:n$1,type:s.type,key:e,ref:s.ref,props:s.props,_owner:s._owner}}function L(s){return typeof s=="object"&&s!==null&&s.$$typeof===n$1}function escape(s){var e={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(a){return e[a]})}var M$1=/\/+/g;function N$1(s,e){return typeof s=="object"&&s!==null&&s.key!=null?escape(""+s.key):e.toString(36)}function O$2(s,e,a,o,c){var d=typeof s;(d==="undefined"||d==="boolean")&&(s=null);var b=!1;if(s===null)b=!0;else switch(d){case"string":case"number":b=!0;break;case"object":switch(s.$$typeof){case n$1:case p$1:b=!0}}if(b)return b=s,c=c(b),s=o===""?"."+N$1(b,0):o,Array.isArray(c)?(a="",s!=null&&(a=s.replace(M$1,"$&/")+"/"),O$2(c,e,a,"",function(_){return _})):c!=null&&(L(c)&&(c=K$1(c,a+(!c.key||b&&b.key===c.key?"":(""+c.key).replace(M$1,"$&/")+"/")+s)),e.push(c)),1;if(b=0,o=o===""?".":o+":",Array.isArray(s))for(var k=0;k<s.length;k++){d=s[k];var $=o+N$1(d,k);b+=O$2(d,e,a,$,c)}else if($=y$1(s),typeof $=="function")for(s=$.call(s),k=0;!(d=s.next()).done;)d=d.value,$=o+N$1(d,k++),b+=O$2(d,e,a,$,c);else if(d==="object")throw e=""+s,Error(z$1(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e));return b}function P$1(s,e,a){if(s==null)return s;var o=[],c=0;return O$2(s,o,"","",function(d){return e.call(a,d,c++)}),o}function Q(s){if(s._status===-1){var e=s._result;e=e(),s._status=0,s._result=e,e.then(function(a){s._status===0&&(a=a.default,s._status=1,s._result=a)},function(a){s._status===0&&(s._status=2,s._result=a)})}if(s._status===1)return s._result;throw s._result}var R$1={current:null};function S$1(){var s=R$1.current;if(s===null)throw Error(z$1(321));return s}var T$1={ReactCurrentDispatcher:R$1,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G$1,IsSomeRendererActing:{current:!1},assign:l};react_production_min.Children={map:P$1,forEach:function(s,e,a){P$1(s,function(){e.apply(this,arguments)},a)},count:function(s){var e=0;return P$1(s,function(){e++}),e},toArray:function(s){return P$1(s,function(e){return e})||[]},only:function(s){if(!L(s))throw Error(z$1(143));return s}};react_production_min.Component=C$1;react_production_min.PureComponent=E$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$1;react_production_min.cloneElement=function(s,e,a){if(s==null)throw Error(z$1(267,s));var o=l({},s.props),c=s.key,d=s.ref,b=s._owner;if(e!=null){if(e.ref!==void 0&&(d=e.ref,b=G$1.current),e.key!==void 0&&(c=""+e.key),s.type&&s.type.defaultProps)var k=s.type.defaultProps;for($ in e)H$1.call(e,$)&&!I$1.hasOwnProperty($)&&(o[$]=e[$]===void 0&&k!==void 0?k[$]:e[$])}var $=arguments.length-2;if($===1)o.children=a;else if(1<$){k=Array($);for(var _=0;_<$;_++)k[_]=arguments[_+2];o.children=k}return{$$typeof:n$1,type:s.type,key:c,ref:d,props:o,_owner:b}};react_production_min.createContext=function(s,e){return e===void 0&&(e=null),s={$$typeof:r$1,_calculateChangedBits:e,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null},s.Provider={$$typeof:q$1,_context:s},s.Consumer=s};react_production_min.createElement=J;react_production_min.createFactory=function(s){var e=J.bind(null,s);return e.type=s,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:t$1,render:s}};react_production_min.isValidElement=L;react_production_min.lazy=function(s){return{$$typeof:v$1,_payload:{_status:-1,_result:s},_init:Q}};react_production_min.memo=function(s,e){return{$$typeof:u,type:s,compare:e===void 0?null:e}};react_production_min.useCallback=function(s,e){return S$1().useCallback(s,e)};react_production_min.useContext=function(s,e){return S$1().useContext(s,e)};react_production_min.useDebugValue=function(){};react_production_min.useEffect=function(s,e){return S$1().useEffect(s,e)};react_production_min.useImperativeHandle=function(s,e,a){return S$1().useImperativeHandle(s,e,a)};react_production_min.useLayoutEffect=function(s,e){return S$1().useLayoutEffect(s,e)};react_production_min.useMemo=function(s,e){return S$1().useMemo(s,e)};react_production_min.useReducer=function(s,e,a){return S$1().useReducer(s,e,a)};react_production_min.useRef=function(s){return S$1().useRef(s)};react_production_min.useState=function(s){return S$1().useState(s)};react_production_min.version="17.0.2";react.exports=react_production_min;var React=react.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){var e,a,o,c;if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var b=Date,k=b.now();s.unstable_now=function(){return b.now()-k}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var $=null,_=null,j=function(){if($!==null)try{var vt=s.unstable_now();$(!0,vt),$=null}catch($t){throw setTimeout(j,0),$t}};e=function(vt){$!==null?setTimeout(e,0,vt):($=vt,setTimeout(j,0))},a=function(vt,$t){_=setTimeout(vt,$t)},o=function(){clearTimeout(_)},s.unstable_shouldYield=function(){return!1},c=s.unstable_forceFrameRate=function(){}}else{var _e=window.setTimeout,tt=window.clearTimeout;if(typeof console!="undefined"){var it=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof it!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var nt=!1,at=null,rt=-1,st=5,ht=0;s.unstable_shouldYield=function(){return s.unstable_now()>=ht},c=function(){},s.unstable_forceFrameRate=function(vt){0>vt||125<vt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):st=0<vt?Math.floor(1e3/vt):5};var gt=new MessageChannel,ct=gt.port2;gt.port1.onmessage=function(){if(at!==null){var vt=s.unstable_now();ht=vt+st;try{at(!0,vt)?ct.postMessage(null):(nt=!1,at=null)}catch($t){throw ct.postMessage(null),$t}}else nt=!1},e=function(vt){at=vt,nt||(nt=!0,ct.postMessage(null))},a=function(vt,$t){rt=_e(function(){vt(s.unstable_now())},$t)},o=function(){tt(rt),rt=-1}}function ft(vt,$t){var Pt=vt.length;vt.push($t);e:for(;;){var Mt=Pt-1>>>1,Ft=vt[Mt];if(Ft!==void 0&&0<Ot(Ft,$t))vt[Mt]=$t,vt[Pt]=Ft,Pt=Mt;else break e}}function dt(vt){return vt=vt[0],vt===void 0?null:vt}function mt(vt){var $t=vt[0];if($t!==void 0){var Pt=vt.pop();if(Pt!==$t){vt[0]=Pt;e:for(var Mt=0,Ft=vt.length;Mt<Ft;){var Wt=2*(Mt+1)-1,zt=vt[Wt],qt=Wt+1,Ht=vt[qt];if(zt!==void 0&&0>Ot(zt,Pt))Ht!==void 0&&0>Ot(Ht,zt)?(vt[Mt]=Ht,vt[qt]=Pt,Mt=qt):(vt[Mt]=zt,vt[Wt]=Pt,Mt=Wt);else if(Ht!==void 0&&0>Ot(Ht,Pt))vt[Mt]=Ht,vt[qt]=Pt,Mt=qt;else break e}}return $t}return null}function Ot(vt,$t){var Pt=vt.sortIndex-$t.sortIndex;return Pt!==0?Pt:vt.id-$t.id}var yt=[],Ct=[],kt=1,bt=null,Et=3,At=!1,Rt=!1,Dt=!1;function Bt(vt){for(var $t=dt(Ct);$t!==null;){if($t.callback===null)mt(Ct);else if($t.startTime<=vt)mt(Ct),$t.sortIndex=$t.expirationTime,ft(yt,$t);else break;$t=dt(Ct)}}function Tt(vt){if(Dt=!1,Bt(vt),!Rt)if(dt(yt)!==null)Rt=!0,e(Qt);else{var $t=dt(Ct);$t!==null&&a(Tt,$t.startTime-vt)}}function Qt(vt,$t){Rt=!1,Dt&&(Dt=!1,o()),At=!0;var Pt=Et;try{for(Bt($t),bt=dt(yt);bt!==null&&(!(bt.expirationTime>$t)||vt&&!s.unstable_shouldYield());){var Mt=bt.callback;if(typeof Mt=="function"){bt.callback=null,Et=bt.priorityLevel;var Ft=Mt(bt.expirationTime<=$t);$t=s.unstable_now(),typeof Ft=="function"?bt.callback=Ft:bt===dt(yt)&&mt(yt),Bt($t)}else mt(yt);bt=dt(yt)}if(bt!==null)var Wt=!0;else{var zt=dt(Ct);zt!==null&&a(Tt,zt.startTime-$t),Wt=!1}return Wt}finally{bt=null,Et=Pt,At=!1}}var jt=c;s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(vt){vt.callback=null},s.unstable_continueExecution=function(){Rt||At||(Rt=!0,e(Qt))},s.unstable_getCurrentPriorityLevel=function(){return Et},s.unstable_getFirstCallbackNode=function(){return dt(yt)},s.unstable_next=function(vt){switch(Et){case 1:case 2:case 3:var $t=3;break;default:$t=Et}var Pt=Et;Et=$t;try{return vt()}finally{Et=Pt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=jt,s.unstable_runWithPriority=function(vt,$t){switch(vt){case 1:case 2:case 3:case 4:case 5:break;default:vt=3}var Pt=Et;Et=vt;try{return $t()}finally{Et=Pt}},s.unstable_scheduleCallback=function(vt,$t,Pt){var Mt=s.unstable_now();switch(typeof Pt=="object"&&Pt!==null?(Pt=Pt.delay,Pt=typeof Pt=="number"&&0<Pt?Mt+Pt:Mt):Pt=Mt,vt){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=Pt+Ft,vt={id:kt++,callback:$t,priorityLevel:vt,startTime:Pt,expirationTime:Ft,sortIndex:-1},Pt>Mt?(vt.sortIndex=Pt,ft(Ct,vt),dt(yt)===null&&vt===dt(Ct)&&(Dt?o():Dt=!0,a(Tt,Pt-Mt))):(vt.sortIndex=Ft,ft(yt,vt),Rt||At||(Rt=!0,e(Qt))),vt},s.unstable_wrapCallback=function(vt){var $t=Et;return function(){var Pt=Et;Et=$t;try{return vt.apply(this,arguments)}finally{Et=Pt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,m$1=objectAssign,r=scheduler.exports;function y(s){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+s,a=1;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+s+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(s,e){ea(s,e),ea(s+"Capture",e)}function ea(s,e){for(ca[s]=e,s=0;s<e.length;s++)ba.add(e[s])}var fa=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ha=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia=Object.prototype.hasOwnProperty,ja={},ka={};function la(s){return ia.call(ka,s)?!0:ia.call(ja,s)?!1:ha.test(s)?ka[s]=!0:(ja[s]=!0,!1)}function ma(s,e,a,o){if(a!==null&&a.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function na(s,e,a,o){if(e===null||typeof e=="undefined"||ma(s,e,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function B$1(s,e,a,o,c,d,b){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=a,this.propertyName=s,this.type=e,this.sanitizeURL=d,this.removeEmptyString=b}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){D[s]=new B$1(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var e=s[0];D[e]=new B$1(e,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){D[s]=new B$1(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){D[s]=new B$1(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){D[s]=new B$1(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){D[s]=new B$1(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){D[s]=new B$1(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){D[s]=new B$1(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){D[s]=new B$1(s,5,!1,s.toLowerCase(),null,!1,!1)});var oa=/[\-:]([a-z])/g;function pa(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var e=s.replace(oa,pa);D[e]=new B$1(e,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var e=s.replace(oa,pa);D[e]=new B$1(e,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var e=s.replace(oa,pa);D[e]=new B$1(e,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){D[s]=new B$1(s,1,!1,s.toLowerCase(),null,!1,!1)});D.xlinkHref=new B$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){D[s]=new B$1(s,1,!1,s.toLowerCase(),null,!0,!0)});function qa(s,e,a,o){var c=D.hasOwnProperty(e)?D[e]:null,d=c!==null?c.type===0:o?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");d||(na(e,a,c,o)&&(a=null),o||c===null?la(e)&&(a===null?s.removeAttribute(e):s.setAttribute(e,""+a)):c.mustUseProperty?s[c.propertyName]=a===null?c.type===3?!1:"":a:(e=c.attributeName,o=c.attributeNamespace,a===null?s.removeAttribute(e):(c=c.type,a=c===3||c===4&&a===!0?"":""+a,o?s.setAttributeNS(o,e,a):s.setAttribute(e,a))))}var ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;if(typeof Symbol=="function"&&Symbol.for){var E=Symbol.for;sa=E("react.element"),ta=E("react.portal"),ua=E("react.fragment"),wa=E("react.strict_mode"),xa=E("react.profiler"),ya=E("react.provider"),za=E("react.context"),Aa=E("react.forward_ref"),Ba=E("react.suspense"),Ca=E("react.suspense_list"),Da=E("react.memo"),Ea=E("react.lazy"),Fa=E("react.block"),E("react.scope"),Ga=E("react.opaque.id"),Ha=E("react.debug_trace_mode"),Ia=E("react.offscreen"),Ja=E("react.legacy_hidden")}var Ka=typeof Symbol=="function"&&Symbol.iterator;function La(s){return s===null||typeof s!="object"?null:(s=Ka&&s[Ka]||s["@@iterator"],typeof s=="function"?s:null)}var Ma;function Na(s){if(Ma===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);Ma=e&&e[1]||""}return`
`+Ma+s}var Oa=!1;function Pa(s,e){if(!s||Oa)return"";Oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch($){var o=$}Reflect.construct(s,[],e)}else{try{e.call()}catch($){o=$}s.call(e.prototype)}else{try{throw Error()}catch($){o=$}s()}}catch($){if($&&o&&typeof $.stack=="string"){for(var c=$.stack.split(`
`),d=o.stack.split(`
`),b=c.length-1,k=d.length-1;1<=b&&0<=k&&c[b]!==d[k];)k--;for(;1<=b&&0<=k;b--,k--)if(c[b]!==d[k]){if(b!==1||k!==1)do if(b--,k--,0>k||c[b]!==d[k])return`
`+c[b].replace(" at new "," at ");while(1<=b&&0<=k);break}}}finally{Oa=!1,Error.prepareStackTrace=a}return(s=s?s.displayName||s.name:"")?Na(s):""}function Qa(s){switch(s.tag){case 5:return Na(s.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return s=Pa(s.type,!1),s;case 11:return s=Pa(s.type.render,!1),s;case 22:return s=Pa(s.type._render,!1),s;case 1:return s=Pa(s.type,!0),s;default:return""}}function Ra(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ua:return"Fragment";case ta:return"Portal";case xa:return"Profiler";case wa:return"StrictMode";case Ba:return"Suspense";case Ca:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case za:return(s.displayName||"Context")+".Consumer";case ya:return(s._context.displayName||"Context")+".Provider";case Aa:var e=s.render;return e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Da:return Ra(s.type);case Fa:return Ra(s._render);case Ea:e=s._payload,s=s._init;try{return Ra(s(e))}catch{}}return null}function Sa(s){switch(typeof s){case"boolean":case"number":case"object":case"string":case"undefined":return s;default:return""}}function Ta(s){var e=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(s){var e=Ta(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,e),o=""+s[e];if(!s.hasOwnProperty(e)&&typeof a!="undefined"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(s,e,{configurable:!0,get:function(){return c.call(this)},set:function(b){o=""+b,d.call(this,b)}}),Object.defineProperty(s,e,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){s._valueTracker=null,delete s[e]}}}}function Va(s){s._valueTracker||(s._valueTracker=Ua(s))}function Wa(s){if(!s)return!1;var e=s._valueTracker;if(!e)return!0;var a=e.getValue(),o="";return s&&(o=Ta(s)?s.checked?"true":"false":s.value),s=o,s!==a?(e.setValue(s),!0):!1}function Xa(s){if(s=s||(typeof document!="undefined"?document:void 0),typeof s=="undefined")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya(s,e){var a=e.checked;return m$1({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a!=null?a:s._wrapperState.initialChecked})}function Za(s,e){var a=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;a=Sa(e.value!=null?e.value:a),s._wrapperState={initialChecked:o,initialValue:a,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $a(s,e){e=e.checked,e!=null&&qa(s,"checked",e,!1)}function ab(s,e){$a(s,e);var a=Sa(e.value),o=e.type;if(a!=null)o==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+a):s.value!==""+a&&(s.value=""+a);else if(o==="submit"||o==="reset"){s.removeAttribute("value");return}e.hasOwnProperty("value")?bb(s,e.type,a):e.hasOwnProperty("defaultValue")&&bb(s,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(s.defaultChecked=!!e.defaultChecked)}function cb(s,e,a){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+s._wrapperState.initialValue,a||e===s.value||(s.value=e),s.defaultValue=e}a=s.name,a!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,a!==""&&(s.name=a)}function bb(s,e,a){(e!=="number"||Xa(s.ownerDocument)!==s)&&(a==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+a&&(s.defaultValue=""+a))}function db(s){var e="";return aa.Children.forEach(s,function(a){a!=null&&(e+=a)}),e}function eb(s,e){return s=m$1({children:void 0},e),(e=db(e.children))&&(s.children=e),s}function fb(s,e,a,o){if(s=s.options,e){e={};for(var c=0;c<a.length;c++)e["$"+a[c]]=!0;for(a=0;a<s.length;a++)c=e.hasOwnProperty("$"+s[a].value),s[a].selected!==c&&(s[a].selected=c),c&&o&&(s[a].defaultSelected=!0)}else{for(a=""+Sa(a),e=null,c=0;c<s.length;c++){if(s[c].value===a){s[c].selected=!0,o&&(s[c].defaultSelected=!0);return}e!==null||s[c].disabled||(e=s[c])}e!==null&&(e.selected=!0)}}function gb(s,e){if(e.dangerouslySetInnerHTML!=null)throw Error(y(91));return m$1({},e,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb(s,e){var a=e.value;if(a==null){if(a=e.children,e=e.defaultValue,a!=null){if(e!=null)throw Error(y(92));if(Array.isArray(a)){if(!(1>=a.length))throw Error(y(93));a=a[0]}e=a}e==null&&(e=""),a=e}s._wrapperState={initialValue:Sa(a)}}function ib(s,e){var a=Sa(e.value),o=Sa(e.defaultValue);a!=null&&(a=""+a,a!==s.value&&(s.value=a),e.defaultValue==null&&s.defaultValue!==a&&(s.defaultValue=a)),o!=null&&(s.defaultValue=""+o)}function jb(s){var e=s.textContent;e===s._wrapperState.initialValue&&e!==""&&e!==null&&(s.value=e)}var kb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(s,e){return s==null||s==="http://www.w3.org/1999/xhtml"?lb(e):s==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var nb,ob=function(s){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,a,o,c){MSApp.execUnsafeLocalFunction(function(){return s(e,a,o,c)})}:s}(function(s,e){if(s.namespaceURI!==kb.svg||"innerHTML"in s)s.innerHTML=e;else{for(nb=nb||document.createElement("div"),nb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nb.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;e.firstChild;)s.appendChild(e.firstChild)}});function pb(s,e){if(e){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=e;return}}s.textContent=e}var qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(qb).forEach(function(s){rb.forEach(function(e){e=e+s.charAt(0).toUpperCase()+s.substring(1),qb[e]=qb[s]})});function sb(s,e,a){return e==null||typeof e=="boolean"||e===""?"":a||typeof e!="number"||e===0||qb.hasOwnProperty(s)&&qb[s]?(""+e).trim():e+"px"}function tb(s,e){s=s.style;for(var a in e)if(e.hasOwnProperty(a)){var o=a.indexOf("--")===0,c=sb(a,e[a],o);a==="float"&&(a="cssFloat"),o?s.setProperty(a,c):s[a]=c}}var ub=m$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(s,e){if(e){if(ub[s]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(y(137,s));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(y(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(y(62))}}function wb(s,e){if(s.indexOf("-")===-1)return typeof e.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb=null,zb=null,Ab=null;function Bb(s){if(s=Cb(s)){if(typeof yb!="function")throw Error(y(280));var e=s.stateNode;e&&(e=Db(e),yb(s.stateNode,s.type,e))}}function Eb(s){zb?Ab?Ab.push(s):Ab=[s]:zb=s}function Fb(){if(zb){var s=zb,e=Ab;if(Ab=zb=null,Bb(s),e)for(s=0;s<e.length;s++)Bb(e[s])}}function Gb(s,e){return s(e)}function Hb(s,e,a,o,c){return s(e,a,o,c)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){(zb!==null||Ab!==null)&&(Ib(),Fb())}function Nb(s,e,a){if(Lb)return s(e,a);Lb=!0;try{return Jb(s,e,a)}finally{Lb=!1,Mb()}}function Ob(s,e){var a=s.stateNode;if(a===null)return null;var o=Db(a);if(o===null)return null;a=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(s=s.type,o=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!o;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(y(231,e,typeof a));return a}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,"passive",{get:function(){Pb=!0}}),window.addEventListener("test",Qb,Qb),window.removeEventListener("test",Qb,Qb)}catch{Pb=!1}function Rb(s,e,a,o,c,d,b,k,$){var _=Array.prototype.slice.call(arguments,3);try{e.apply(a,_)}catch(j){this.onError(j)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(s){Sb=!0,Tb=s}};function Xb(s,e,a,o,c,d,b,k,$){Sb=!1,Tb=null,Rb.apply(Wb,arguments)}function Yb(s,e,a,o,c,d,b,k,$){if(Xb.apply(this,arguments),Sb){if(Sb){var _=Tb;Sb=!1,Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=_)}}function Zb(s){var e=s,a=s;if(s.alternate)for(;e.return;)e=e.return;else{s=e;do e=s,(e.flags&1026)!==0&&(a=e.return),s=e.return;while(s)}return e.tag===3?a:null}function $b(s){if(s.tag===13){var e=s.memoizedState;if(e===null&&(s=s.alternate,s!==null&&(e=s.memoizedState)),e!==null)return e.dehydrated}return null}function ac(s){if(Zb(s)!==s)throw Error(y(188))}function bc(s){var e=s.alternate;if(!e){if(e=Zb(s),e===null)throw Error(y(188));return e!==s?null:s}for(var a=s,o=e;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return ac(c),s;if(d===o)return ac(c),e;d=d.sibling}throw Error(y(188))}if(a.return!==o.return)a=c,o=d;else{for(var b=!1,k=c.child;k;){if(k===a){b=!0,a=c,o=d;break}if(k===o){b=!0,o=c,a=d;break}k=k.sibling}if(!b){for(k=d.child;k;){if(k===a){b=!0,a=d,o=c;break}if(k===o){b=!0,o=d,a=c;break}k=k.sibling}if(!b)throw Error(y(189))}}if(a.alternate!==o)throw Error(y(190))}if(a.tag!==3)throw Error(y(188));return a.stateNode.current===a?s:e}function cc(s){if(s=bc(s),!s)return null;for(var e=s;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===s)break;for(;!e.sibling;){if(!e.return||e.return===s)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function dc(s,e){for(var a=s.alternate;e!==null;){if(e===s||e===a)return!0;e=e.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(s,e,a,o,c){return{blockedOn:s,domEventName:e,eventSystemFlags:a|16,nativeEvent:c,targetContainers:[o]}}function sc(s,e){switch(s){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(e.pointerId)}}function tc(s,e,a,o,c,d){return s===null||s.nativeEvent!==d?(s=rc(e,a,o,c,d),e!==null&&(e=Cb(e),e!==null&&fc(e)),s):(s.eventSystemFlags|=o,e=s.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),s)}function uc(s,e,a,o,c){switch(e){case"focusin":return kc=tc(kc,s,e,a,o,c),!0;case"dragenter":return lc=tc(lc,s,e,a,o,c),!0;case"mouseover":return mc=tc(mc,s,e,a,o,c),!0;case"pointerover":var d=c.pointerId;return nc.set(d,tc(nc.get(d)||null,s,e,a,o,c)),!0;case"gotpointercapture":return d=c.pointerId,oc.set(d,tc(oc.get(d)||null,s,e,a,o,c)),!0}return!1}function vc(s){var e=wc(s.target);if(e!==null){var a=Zb(e);if(a!==null){if(e=a.tag,e===13){if(e=$b(a),e!==null){s.blockedOn=e,hc(s.lanePriority,function(){r.unstable_runWithPriority(s.priority,function(){gc(a)})});return}}else if(e===3&&a.stateNode.hydrate){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xc(s){if(s.blockedOn!==null)return!1;for(var e=s.targetContainers;0<e.length;){var a=yc(s.domEventName,s.eventSystemFlags,e[0],s.nativeEvent);if(a!==null)return e=Cb(a),e!==null&&fc(e),s.blockedOn=a,!1;e.shift()}return!0}function zc(s,e,a){xc(s)&&a.delete(e)}function Ac(){for(ic=!1;0<jc.length;){var s=jc[0];if(s.blockedOn!==null){s=Cb(s.blockedOn),s!==null&&ec(s);break}for(var e=s.targetContainers;0<e.length;){var a=yc(s.domEventName,s.eventSystemFlags,e[0],s.nativeEvent);if(a!==null){s.blockedOn=a;break}e.shift()}s.blockedOn===null&&jc.shift()}kc!==null&&xc(kc)&&(kc=null),lc!==null&&xc(lc)&&(lc=null),mc!==null&&xc(mc)&&(mc=null),nc.forEach(zc),oc.forEach(zc)}function Bc(s,e){s.blockedOn===e&&(s.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}function Cc(s){function e(c){return Bc(c,s)}if(0<jc.length){Bc(jc[0],s);for(var a=1;a<jc.length;a++){var o=jc[a];o.blockedOn===s&&(o.blockedOn=null)}}for(kc!==null&&Bc(kc,s),lc!==null&&Bc(lc,s),mc!==null&&Bc(mc,s),nc.forEach(e),oc.forEach(e),a=0;a<pc.length;a++)o=pc[a],o.blockedOn===s&&(o.blockedOn=null);for(;0<pc.length&&(a=pc[0],a.blockedOn===null);)vc(a),a.blockedOn===null&&pc.shift()}function Dc(s,e){var a={};return a[s.toLowerCase()]=e.toLowerCase(),a["Webkit"+s]="webkit"+e,a["Moz"+s]="moz"+e,a}var Ec={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Fc={},Gc={};fa&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Hc(s){if(Fc[s])return Fc[s];if(!Ec[s])return s;var e=Ec[s],a;for(a in e)if(e.hasOwnProperty(a)&&a in Gc)return Fc[s]=e[a];return s}var Ic=Hc("animationend"),Jc=Hc("animationiteration"),Kc=Hc("animationstart"),Lc=Hc("transitionend"),Mc=new Map,Nc=new Map,Oc=["abort","abort",Ic,"animationEnd",Jc,"animationIteration",Kc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lc,"transitionEnd","waiting","waiting"];function Pc(s,e){for(var a=0;a<s.length;a+=2){var o=s[a],c=s[a+1];c="on"+(c[0].toUpperCase()+c.slice(1)),Nc.set(o,e),Mc.set(o,c),da(c,[o])}}var Qc=r.unstable_now;Qc();var F=8;function Rc(s){if((1&s)!==0)return F=15,1;if((2&s)!==0)return F=14,2;if((4&s)!==0)return F=13,4;var e=24&s;return e!==0?(F=12,e):(s&32)!==0?(F=11,32):(e=192&s,e!==0?(F=10,e):(s&256)!==0?(F=9,256):(e=3584&s,e!==0?(F=8,e):(s&4096)!==0?(F=7,4096):(e=4186112&s,e!==0?(F=6,e):(e=62914560&s,e!==0?(F=5,e):s&67108864?(F=4,67108864):(s&134217728)!==0?(F=3,134217728):(e=805306368&s,e!==0?(F=2,e):(1073741824&s)!==0?(F=1,1073741824):(F=8,s))))))}function Sc(s){switch(s){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(s){switch(s){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,s))}}function Uc(s,e){var a=s.pendingLanes;if(a===0)return F=0;var o=0,c=0,d=s.expiredLanes,b=s.suspendedLanes,k=s.pingedLanes;if(d!==0)o=d,c=F=15;else if(d=a&134217727,d!==0){var $=d&~b;$!==0?(o=Rc($),c=F):(k&=d,k!==0&&(o=Rc(k),c=F))}else d=a&~b,d!==0?(o=Rc(d),c=F):k!==0&&(o=Rc(k),c=F);if(o===0)return 0;if(o=31-Vc(o),o=a&((0>o?0:1<<o)<<1)-1,e!==0&&e!==o&&(e&b)===0){if(Rc(e),c<=F)return e;F=c}if(e=s.entangledLanes,e!==0)for(s=s.entanglements,e&=o;0<e;)a=31-Vc(e),c=1<<a,o|=s[a],e&=~c;return o}function Wc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Xc(s,e){switch(s){case 15:return 1;case 14:return 2;case 12:return s=Yc(24&~e),s===0?Xc(10,e):s;case 10:return s=Yc(192&~e),s===0?Xc(8,e):s;case 8:return s=Yc(3584&~e),s===0&&(s=Yc(4186112&~e),s===0&&(s=512)),s;case 2:return e=Yc(805306368&~e),e===0&&(e=268435456),e}throw Error(y(358,s))}function Yc(s){return s&-s}function Zc(s){for(var e=[],a=0;31>a;a++)e.push(s);return e}function $c(s,e,a){s.pendingLanes|=e;var o=e-1;s.suspendedLanes&=o,s.pingedLanes&=o,s=s.eventTimes,e=31-Vc(e),s[e]=a}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(s){return s===0?32:31-(bd(s)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(s,e,a,o){Kb||Ib();var c=hd,d=Kb;Kb=!0;try{Hb(c,s,e,a,o)}finally{(Kb=d)||Mb()}}function id$2(s,e,a,o){ed(dd,hd.bind(null,s,e,a,o))}function hd(s,e,a,o){if(fd){var c;if((c=(e&4)===0)&&0<jc.length&&-1<qc.indexOf(s))s=rc(null,s,e,a,o),jc.push(s);else{var d=yc(s,e,a,o);if(d===null)c&&sc(s,o);else{if(c){if(-1<qc.indexOf(s)){s=rc(d,s,e,a,o),jc.push(s);return}if(uc(d,s,e,a,o))return;sc(s,o)}jd(s,e,o,null,a)}}}}function yc(s,e,a,o){var c=xb(o);if(c=wc(c),c!==null){var d=Zb(c);if(d===null)c=null;else{var b=d.tag;if(b===13){if(c=$b(d),c!==null)return c;c=null}else if(b===3){if(d.stateNode.hydrate)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return jd(s,e,o,c,a),null}var kd=null,ld=null,md=null;function nd(){if(md)return md;var s,e=ld,a=e.length,o,c="value"in kd?kd.value:kd.textContent,d=c.length;for(s=0;s<a&&e[s]===c[s];s++);var b=a-s;for(o=1;o<=b&&e[a-o]===c[d-o];o++);return md=c.slice(s,1<o?1-o:void 0)}function od(s){var e=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&e===13&&(s=13)):s=e,s===10&&(s=13),32<=s||s===13?s:0}function pd(){return!0}function qd(){return!1}function rd(s){function e(a,o,c,d,b){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(a=s[k],this[k]=a?a(d):d[k]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return m$1(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd&&(yd&&s.type==="mousemove"?(wd=s.screenX-yd.screenX,xd=s.screenY-yd.screenY):xd=wd=0,yd=s),wd)},movementY:function(s){return"movementY"in s?s.movementY:xd}}),Bd=rd(Ad),Cd=m$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m$1({},sd,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(s){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(s):(s=Od[s])?!!e[s]:!1}function zd(){return Pd}var Qd=m$1({},ud,{key:function(s){if(s.key){var e=Md[s.key]||s.key;if(e!=="Unidentified")return e}return s.type==="keypress"?(s=od(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(s){return s.type==="keypress"?od(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd=rd(Qd),Sd=m$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m$1({},Ad,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=fa&&"CompositionEvent"in window,be$1=null;fa&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=fa&&"TextEvent"in window&&!be$1,de$1=fa&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee=String.fromCharCode(32),fe$1=!1;function ge$1(s,e){switch(s){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie$3=!1;function je(s,e){switch(s){case"compositionend":return he$1(e);case"keypress":return e.which!==32?null:(fe$1=!0,ee);case"textInput":return s=e.data,s===ee&&fe$1?null:s;default:return null}}function ke$1(s,e){if(ie$3)return s==="compositionend"||!ae$1&&ge$1(s,e)?(s=nd(),md=ld=kd=null,ie$3=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$1&&e.locale!=="ko"?null:e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e==="input"?!!le$1[s.type]:e==="textarea"}function ne(s,e,a,o){Eb(o),e=oe(e,"onChange"),0<e.length&&(a=new td("onChange","change",null,a,o),s.push({event:a,listeners:e}))}var pe$1=null,qe=null;function re(s){se$1(s,0)}function te(s){var e=ue$1(s);if(Wa(e))return s}function ve$1(s,e){if(s==="change")return e}var we$1=!1;if(fa){var xe;if(fa){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(s){if(s.propertyName==="value"&&te(qe)){var e=[];if(ne(e,qe,s,xb(s)),s=re,Kb)s(e);else{Kb=!0;try{Gb(s,e)}finally{Kb=!1,Mb()}}}}function Ce(s,e,a){s==="focusin"?(Ae(),pe$1=e,qe=a,pe$1.attachEvent("onpropertychange",Be)):s==="focusout"&&Ae()}function De(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te(qe)}function Ee$1(s,e){if(s==="click")return te(e)}function Fe(s,e){if(s==="input"||s==="change")return te(e)}function Ge(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;function Je(s,e){if(He(s,e))return!0;if(typeof s!="object"||s===null||typeof e!="object"||e===null)return!1;var a=Object.keys(s),o=Object.keys(e);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++)if(!Ie.call(e,a[o])||!He(s[a[o]],e[a[o]]))return!1;return!0}function Ke(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Le(s,e){var a=Ke(s);s=0;for(var o;a;){if(a.nodeType===3){if(o=s+a.textContent.length,s<=e&&o>=e)return{node:a,offset:e-s};s=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ke(a)}}function Me(s,e){return s&&e?s===e?!0:s&&s.nodeType===3?!1:e&&e.nodeType===3?Me(s,e.parentNode):"contains"in s?s.contains(e):s.compareDocumentPosition?!!(s.compareDocumentPosition(e)&16):!1:!1}function Ne(){for(var s=window,e=Xa();e instanceof s.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)s=e.contentWindow;else break;e=Xa(s.document)}return e}function Oe(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e&&(e==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||e==="textarea"||s.contentEditable==="true")}var Pe=fa&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se$1=null,Te=!1;function Ue(s,e,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Oe(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se$1&&Je(Se$1,o)||(Se$1=o,o=oe(Re,"onSelect"),0<o.length&&(e=new td("onSelect","select",null,e,a),s.push({event:e,listeners:o}),e.target=Qe)))}Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Pc(Oc,2);for(var Ve="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xe));function Ze(s,e,a){var o=s.type||"unknown-event";s.currentTarget=a,Yb(o,e,void 0,s),s.currentTarget=null}function se$1(s,e){e=(e&4)!==0;for(var a=0;a<s.length;a++){var o=s[a],c=o.event;o=o.listeners;e:{var d=void 0;if(e)for(var b=o.length-1;0<=b;b--){var k=o[b],$=k.instance,_=k.currentTarget;if(k=k.listener,$!==d&&c.isPropagationStopped())break e;Ze(c,k,_),d=$}else for(b=0;b<o.length;b++){if(k=o[b],$=k.instance,_=k.currentTarget,k=k.listener,$!==d&&c.isPropagationStopped())break e;Ze(c,k,_),d=$}}}if(Ub)throw s=Vb,Ub=!1,Vb=null,s}function G(s,e){var a=$e(e),o=s+"__bubble";a.has(o)||(af(e,s,2,!1),a.add(o))}var bf="_reactListening"+Math.random().toString(36).slice(2);function cf(s){s[bf]||(s[bf]=!0,ba.forEach(function(e){Ye.has(e)||df(e,!1,s,null),df(e,!0,s,null)}))}function df(s,e,a,o){var c=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,d=a;if(s==="selectionchange"&&a.nodeType!==9&&(d=a.ownerDocument),o!==null&&!e&&Ye.has(s)){if(s!=="scroll")return;c|=2,d=o}var b=$e(d),k=s+"__"+(e?"capture":"bubble");b.has(k)||(e&&(c|=4),af(d,s,c,e),b.add(k))}function af(s,e,a,o){var c=Nc.get(e);switch(c===void 0?2:c){case 0:c=gd;break;case 1:c=id$2;break;default:c=hd}a=c.bind(null,e,a,s),c=void 0,!Pb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),o?c!==void 0?s.addEventListener(e,a,{capture:!0,passive:c}):s.addEventListener(e,a,!0):c!==void 0?s.addEventListener(e,a,{passive:c}):s.addEventListener(e,a,!1)}function jd(s,e,a,o,c){var d=o;if((e&1)===0&&(e&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var k=o.stateNode.containerInfo;if(k===c||k.nodeType===8&&k.parentNode===c)break;if(b===4)for(b=o.return;b!==null;){var $=b.tag;if(($===3||$===4)&&($=b.stateNode.containerInfo,$===c||$.nodeType===8&&$.parentNode===c))return;b=b.return}for(;k!==null;){if(b=wc(k),b===null)return;if($=b.tag,$===5||$===6){o=d=b;continue e}k=k.parentNode}}o=o.return}Nb(function(){var _=d,j=xb(a),_e=[];e:{var tt=Mc.get(s);if(tt!==void 0){var it=td,nt=s;switch(s){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":it=Rd;break;case"focusin":nt="focus",it=Fd;break;case"focusout":nt="blur",it=Fd;break;case"beforeblur":case"afterblur":it=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Vd;break;case Ic:case Jc:case Kc:it=Hd;break;case Lc:it=Xd;break;case"scroll":it=vd;break;case"wheel":it=Zd;break;case"copy":case"cut":case"paste":it=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Td}var at=(e&4)!==0,rt=!at&&s==="scroll",st=at?tt!==null?tt+"Capture":null:tt;at=[];for(var ht=_,gt;ht!==null;){gt=ht;var ct=gt.stateNode;if(gt.tag===5&&ct!==null&&(gt=ct,st!==null&&(ct=Ob(ht,st),ct!=null&&at.push(ef(ht,ct,gt)))),rt)break;ht=ht.return}0<at.length&&(tt=new it(tt,nt,null,a,j),_e.push({event:tt,listeners:at}))}}if((e&7)===0){e:{if(tt=s==="mouseover"||s==="pointerover",it=s==="mouseout"||s==="pointerout",tt&&(e&16)===0&&(nt=a.relatedTarget||a.fromElement)&&(wc(nt)||nt[ff]))break e;if((it||tt)&&(tt=j.window===j?j:(tt=j.ownerDocument)?tt.defaultView||tt.parentWindow:window,it?(nt=a.relatedTarget||a.toElement,it=_,nt=nt?wc(nt):null,nt!==null&&(rt=Zb(nt),nt!==rt||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(it=null,nt=_),it!==nt)){if(at=Bd,ct="onMouseLeave",st="onMouseEnter",ht="mouse",(s==="pointerout"||s==="pointerover")&&(at=Td,ct="onPointerLeave",st="onPointerEnter",ht="pointer"),rt=it==null?tt:ue$1(it),gt=nt==null?tt:ue$1(nt),tt=new at(ct,ht+"leave",it,a,j),tt.target=rt,tt.relatedTarget=gt,ct=null,wc(j)===_&&(at=new at(st,ht+"enter",nt,a,j),at.target=gt,at.relatedTarget=rt,ct=at),rt=ct,it&&nt)t:{for(at=it,st=nt,ht=0,gt=at;gt;gt=gf(gt))ht++;for(gt=0,ct=st;ct;ct=gf(ct))gt++;for(;0<ht-gt;)at=gf(at),ht--;for(;0<gt-ht;)st=gf(st),gt--;for(;ht--;){if(at===st||st!==null&&at===st.alternate)break t;at=gf(at),st=gf(st)}at=null}else at=null;it!==null&&hf(_e,tt,it,at,!1),nt!==null&&rt!==null&&hf(_e,rt,nt,at,!0)}}e:{if(tt=_?ue$1(_):window,it=tt.nodeName&&tt.nodeName.toLowerCase(),it==="select"||it==="input"&&tt.type==="file")var ft=ve$1;else if(me$1(tt))if(we$1)ft=Fe;else{ft=De;var dt=Ce}else(it=tt.nodeName)&&it.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(ft=Ee$1);if(ft&&(ft=ft(s,_))){ne(_e,ft,a,j);break e}dt&&dt(s,tt,_),s==="focusout"&&(dt=tt._wrapperState)&&dt.controlled&&tt.type==="number"&&bb(tt,"number",tt.value)}switch(dt=_?ue$1(_):window,s){case"focusin":(me$1(dt)||dt.contentEditable==="true")&&(Qe=dt,Re=_,Se$1=null);break;case"focusout":Se$1=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_e,a,j);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_e,a,j)}var mt;if(ae$1)e:{switch(s){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else ie$3?ge$1(s,a)&&(Ot="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(de$1&&a.locale!=="ko"&&(ie$3||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ie$3&&(mt=nd()):(kd=j,ld="value"in kd?kd.value:kd.textContent,ie$3=!0)),dt=oe(_,Ot),0<dt.length&&(Ot=new Ld(Ot,s,null,a,j),_e.push({event:Ot,listeners:dt}),mt?Ot.data=mt:(mt=he$1(a),mt!==null&&(Ot.data=mt)))),(mt=ce$1?je(s,a):ke$1(s,a))&&(_=oe(_,"onBeforeInput"),0<_.length&&(j=new Ld("onBeforeInput","beforeinput",null,a,j),_e.push({event:j,listeners:_}),j.data=mt))}se$1(_e,e)})}function ef(s,e,a){return{instance:s,listener:e,currentTarget:a}}function oe(s,e){for(var a=e+"Capture",o=[];s!==null;){var c=s,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Ob(s,a),d!=null&&o.unshift(ef(s,d,c)),d=Ob(s,e),d!=null&&o.push(ef(s,d,c))),s=s.return}return o}function gf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function hf(s,e,a,o,c){for(var d=e._reactName,b=[];a!==null&&a!==o;){var k=a,$=k.alternate,_=k.stateNode;if($!==null&&$===o)break;k.tag===5&&_!==null&&(k=_,c?($=Ob(a,d),$!=null&&b.unshift(ef(a,$,k))):c||($=Ob(a,d),$!=null&&b.push(ef(a,$,k)))),a=a.return}b.length!==0&&s.push({event:e,listeners:b})}function jf(){}var kf=null,lf=null;function mf(s,e){switch(s){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function nf(s,e){return s==="textarea"||s==="option"||s==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var of=typeof setTimeout=="function"?setTimeout:void 0,pf=typeof clearTimeout=="function"?clearTimeout:void 0;function qf(s){s.nodeType===1?s.textContent="":s.nodeType===9&&(s=s.body,s!=null&&(s.textContent=""))}function rf(s){for(;s!=null;s=s.nextSibling){var e=s.nodeType;if(e===1||e===3)break}return s}function sf(s){s=s.previousSibling;for(var e=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(e===0)return s;e--}else a==="/$"&&e++}s=s.previousSibling}return null}var tf=0;function uf(s){return{$$typeof:Ga,toString:s,valueOf:s}}var vf=Math.random().toString(36).slice(2),wf="__reactFiber$"+vf,xf="__reactProps$"+vf,ff="__reactContainer$"+vf,yf="__reactEvents$"+vf;function wc(s){var e=s[wf];if(e)return e;for(var a=s.parentNode;a;){if(e=a[ff]||a[wf]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(s=sf(s);s!==null;){if(a=s[wf])return a;s=sf(s)}return e}s=a,a=s.parentNode}return null}function Cb(s){return s=s[wf]||s[ff],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue$1(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(y(33))}function Db(s){return s[xf]||null}function $e(s){var e=s[yf];return e===void 0&&(e=s[yf]=new Set),e}var zf=[],Af=-1;function Bf(s){return{current:s}}function H(s){0>Af||(s.current=zf[Af],zf[Af]=null,Af--)}function I(s,e){Af++,zf[Af]=s.current,s.current=e}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;function Ef(s,e){var a=s.type.contextTypes;if(!a)return Cf;var o=s.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in a)c[d]=e[d];return o&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=e,s.__reactInternalMemoizedMaskedChildContext=c),c}function Ff(s){return s=s.childContextTypes,s!=null}function Gf(){H(N),H(M)}function Hf(s,e,a){if(M.current!==Cf)throw Error(y(168));I(M,e),I(N,a)}function If(s,e,a){var o=s.stateNode;if(s=e.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var c in o)if(!(c in s))throw Error(y(108,Ra(e)||"Unknown",c));return m$1({},a,o)}function Jf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Cf,Df=M.current,I(M,s),I(N,N.current),!0}function Kf(s,e,a){var o=s.stateNode;if(!o)throw Error(y(169));a?(s=If(s,e,Df),o.__reactInternalMemoizedMergedChildContext=s,H(N),H(M),I(M,s)):H(N),I(N,a)}var Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=Rf!==void 0?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O$1=1e4>dg?Sf:function(){return Sf()-dg};function eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332))}}function fg(s){switch(s){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332))}}function gg(s,e){return s=fg(s),Nf(s,e)}function hg(s,e,a){return s=fg(s),Of(s,e,a)}function ig(){if(bg!==null){var s=bg;bg=null,Pf(s)}jg()}function jg(){if(!cg&&ag!==null){cg=!0;var s=0;try{var e=ag;gg(99,function(){for(;s<e.length;s++){var a=e[s];do a=a(!0);while(a!==null)}}),ag=null}catch(a){throw ag!==null&&(ag=ag.slice(s+1)),Of(Uf,ig),a}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(s,e){if(s&&s.defaultProps){e=m$1({},e),s=s.defaultProps;for(var a in s)e[a]===void 0&&(e[a]=s[a]);return e}return e}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}function rg(s){var e=mg.current;H(mg),s.type._context._currentValue=e}function sg(s,e){for(;s!==null;){var a=s.alternate;if((s.childLanes&e)===e){if(a===null||(a.childLanes&e)===e)break;a.childLanes|=e}else s.childLanes|=e,a!==null&&(a.childLanes|=e);s=s.return}}function tg(s,e){ng=s,pg=og=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&e)!==0&&(ug=!0),s.firstContext=null)}function vg(s,e){if(pg!==s&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(pg=s,e=1073741823),e={context:s,observedBits:e,next:null},og===null){if(ng===null)throw Error(y(308));og=e,ng.dependencies={lanes:0,firstContext:e,responders:null}}else og=og.next=e;return s._currentValue}var wg=!1;function xg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yg(s,e){s=s.updateQueue,e.updateQueue===s&&(e.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function zg(s,e){return{eventTime:s,lane:e,tag:0,payload:null,callback:null,next:null}}function Ag(s,e){if(s=s.updateQueue,s!==null){s=s.shared;var a=s.pending;a===null?e.next=e:(e.next=a.next,a.next=e),s.pending=e}}function Bg(s,e){var a=s.updateQueue,o=s.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};d===null?c=d=b:d=d.next=b,a=a.next}while(a!==null);d===null?c=d=e:d=d.next=e}else c=d=e;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,effects:o.effects},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=e:s.next=e,a.lastBaseUpdate=e}function Cg(s,e,a,o){var c=s.updateQueue;wg=!1;var d=c.firstBaseUpdate,b=c.lastBaseUpdate,k=c.shared.pending;if(k!==null){c.shared.pending=null;var $=k,_=$.next;$.next=null,b===null?d=_:b.next=_,b=$;var j=s.alternate;if(j!==null){j=j.updateQueue;var _e=j.lastBaseUpdate;_e!==b&&(_e===null?j.firstBaseUpdate=_:_e.next=_,j.lastBaseUpdate=$)}}if(d!==null){_e=c.baseState,b=0,j=_=$=null;do{k=d.lane;var tt=d.eventTime;if((o&k)===k){j!==null&&(j=j.next={eventTime:tt,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var it=s,nt=d;switch(k=e,tt=a,nt.tag){case 1:if(it=nt.payload,typeof it=="function"){_e=it.call(tt,_e,k);break e}_e=it;break e;case 3:it.flags=it.flags&-4097|64;case 0:if(it=nt.payload,k=typeof it=="function"?it.call(tt,_e,k):it,k==null)break e;_e=m$1({},_e,k);break e;case 2:wg=!0}}d.callback!==null&&(s.flags|=32,k=c.effects,k===null?c.effects=[d]:k.push(d))}else tt={eventTime:tt,lane:k,tag:d.tag,payload:d.payload,callback:d.callback,next:null},j===null?(_=j=tt,$=_e):j=j.next=tt,b|=k;if(d=d.next,d===null){if(k=c.shared.pending,k===null)break;d=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(1);j===null&&($=_e),c.baseState=$,c.firstBaseUpdate=_,c.lastBaseUpdate=j,Dg|=b,s.lanes=b,s.memoizedState=_e}}function Eg(s,e,a){if(s=e.effects,e.effects=null,s!==null)for(e=0;e<s.length;e++){var o=s[e],c=o.callback;if(c!==null){if(o.callback=null,o=a,typeof c!="function")throw Error(y(191,c));c.call(o)}}}var Fg=new aa.Component().refs;function Gg(s,e,a,o){e=s.memoizedState,a=a(o,e),a=a==null?e:m$1({},e,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var Kg={isMounted:function(s){return(s=s._reactInternals)?Zb(s)===s:!1},enqueueSetState:function(s,e,a){s=s._reactInternals;var o=Hg(),c=Ig(s),d=zg(o,c);d.payload=e,a!=null&&(d.callback=a),Ag(s,d),Jg(s,c,o)},enqueueReplaceState:function(s,e,a){s=s._reactInternals;var o=Hg(),c=Ig(s),d=zg(o,c);d.tag=1,d.payload=e,a!=null&&(d.callback=a),Ag(s,d),Jg(s,c,o)},enqueueForceUpdate:function(s,e){s=s._reactInternals;var a=Hg(),o=Ig(s),c=zg(a,o);c.tag=2,e!=null&&(c.callback=e),Ag(s,c),Jg(s,o,a)}};function Lg(s,e,a,o,c,d,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(o,d,b):e.prototype&&e.prototype.isPureReactComponent?!Je(a,o)||!Je(c,d):!0}function Mg(s,e,a){var o=!1,c=Cf,d=e.contextType;return typeof d=="object"&&d!==null?d=vg(d):(c=Ff(e)?Df:M.current,o=e.contextTypes,d=(o=o!=null)?Ef(s,c):Cf),e=new e(a,d),s.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kg,s.stateNode=e,e._reactInternals=s,o&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=d),e}function Ng(s,e,a,o){s=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,o),e.state!==s&&Kg.enqueueReplaceState(e,e.state,null)}function Og(s,e,a,o){var c=s.stateNode;c.props=a,c.state=s.memoizedState,c.refs=Fg,xg(s);var d=e.contextType;typeof d=="object"&&d!==null?c.context=vg(d):(d=Ff(e)?Df:M.current,c.context=Ef(s,d)),Cg(s,a,c,o),c.state=s.memoizedState,d=e.getDerivedStateFromProps,typeof d=="function"&&(Gg(s,e,d,a),c.state=s.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(e=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),e!==c.state&&Kg.enqueueReplaceState(c,c.state,null),Cg(s,a,c,o),c.state=s.memoizedState),typeof c.componentDidMount=="function"&&(s.flags|=4)}var Pg=Array.isArray;function Qg(s,e,a){if(s=a.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(y(309));var o=a.stateNode}if(!o)throw Error(y(147,s));var c=""+s;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(d){var b=o.refs;b===Fg&&(b=o.refs={}),d===null?delete b[c]:b[c]=d},e._stringRef=c,e)}if(typeof s!="string")throw Error(y(284));if(!a._owner)throw Error(y(290,s))}return s}function Rg(s,e){if(s.type!=="textarea")throw Error(y(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Sg(s){function e(rt,st){if(s){var ht=rt.lastEffect;ht!==null?(ht.nextEffect=st,rt.lastEffect=st):rt.firstEffect=rt.lastEffect=st,st.nextEffect=null,st.flags=8}}function a(rt,st){if(!s)return null;for(;st!==null;)e(rt,st),st=st.sibling;return null}function o(rt,st){for(rt=new Map;st!==null;)st.key!==null?rt.set(st.key,st):rt.set(st.index,st),st=st.sibling;return rt}function c(rt,st){return rt=Tg(rt,st),rt.index=0,rt.sibling=null,rt}function d(rt,st,ht){return rt.index=ht,s?(ht=rt.alternate,ht!==null?(ht=ht.index,ht<st?(rt.flags=2,st):ht):(rt.flags=2,st)):st}function b(rt){return s&&rt.alternate===null&&(rt.flags=2),rt}function k(rt,st,ht,gt){return st===null||st.tag!==6?(st=Ug(ht,rt.mode,gt),st.return=rt,st):(st=c(st,ht),st.return=rt,st)}function $(rt,st,ht,gt){return st!==null&&st.elementType===ht.type?(gt=c(st,ht.props),gt.ref=Qg(rt,st,ht),gt.return=rt,gt):(gt=Vg(ht.type,ht.key,ht.props,null,rt.mode,gt),gt.ref=Qg(rt,st,ht),gt.return=rt,gt)}function _(rt,st,ht,gt){return st===null||st.tag!==4||st.stateNode.containerInfo!==ht.containerInfo||st.stateNode.implementation!==ht.implementation?(st=Wg(ht,rt.mode,gt),st.return=rt,st):(st=c(st,ht.children||[]),st.return=rt,st)}function j(rt,st,ht,gt,ct){return st===null||st.tag!==7?(st=Xg(ht,rt.mode,gt,ct),st.return=rt,st):(st=c(st,ht),st.return=rt,st)}function _e(rt,st,ht){if(typeof st=="string"||typeof st=="number")return st=Ug(""+st,rt.mode,ht),st.return=rt,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case sa:return ht=Vg(st.type,st.key,st.props,null,rt.mode,ht),ht.ref=Qg(rt,null,st),ht.return=rt,ht;case ta:return st=Wg(st,rt.mode,ht),st.return=rt,st}if(Pg(st)||La(st))return st=Xg(st,rt.mode,ht,null),st.return=rt,st;Rg(rt,st)}return null}function tt(rt,st,ht,gt){var ct=st!==null?st.key:null;if(typeof ht=="string"||typeof ht=="number")return ct!==null?null:k(rt,st,""+ht,gt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case sa:return ht.key===ct?ht.type===ua?j(rt,st,ht.props.children,gt,ct):$(rt,st,ht,gt):null;case ta:return ht.key===ct?_(rt,st,ht,gt):null}if(Pg(ht)||La(ht))return ct!==null?null:j(rt,st,ht,gt,null);Rg(rt,ht)}return null}function it(rt,st,ht,gt,ct){if(typeof gt=="string"||typeof gt=="number")return rt=rt.get(ht)||null,k(st,rt,""+gt,ct);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case sa:return rt=rt.get(gt.key===null?ht:gt.key)||null,gt.type===ua?j(st,rt,gt.props.children,ct,gt.key):$(st,rt,gt,ct);case ta:return rt=rt.get(gt.key===null?ht:gt.key)||null,_(st,rt,gt,ct)}if(Pg(gt)||La(gt))return rt=rt.get(ht)||null,j(st,rt,gt,ct,null);Rg(st,gt)}return null}function nt(rt,st,ht,gt){for(var ct=null,ft=null,dt=st,mt=st=0,Ot=null;dt!==null&&mt<ht.length;mt++){dt.index>mt?(Ot=dt,dt=null):Ot=dt.sibling;var yt=tt(rt,dt,ht[mt],gt);if(yt===null){dt===null&&(dt=Ot);break}s&&dt&&yt.alternate===null&&e(rt,dt),st=d(yt,st,mt),ft===null?ct=yt:ft.sibling=yt,ft=yt,dt=Ot}if(mt===ht.length)return a(rt,dt),ct;if(dt===null){for(;mt<ht.length;mt++)dt=_e(rt,ht[mt],gt),dt!==null&&(st=d(dt,st,mt),ft===null?ct=dt:ft.sibling=dt,ft=dt);return ct}for(dt=o(rt,dt);mt<ht.length;mt++)Ot=it(dt,rt,mt,ht[mt],gt),Ot!==null&&(s&&Ot.alternate!==null&&dt.delete(Ot.key===null?mt:Ot.key),st=d(Ot,st,mt),ft===null?ct=Ot:ft.sibling=Ot,ft=Ot);return s&&dt.forEach(function(Ct){return e(rt,Ct)}),ct}function at(rt,st,ht,gt){var ct=La(ht);if(typeof ct!="function")throw Error(y(150));if(ht=ct.call(ht),ht==null)throw Error(y(151));for(var ft=ct=null,dt=st,mt=st=0,Ot=null,yt=ht.next();dt!==null&&!yt.done;mt++,yt=ht.next()){dt.index>mt?(Ot=dt,dt=null):Ot=dt.sibling;var Ct=tt(rt,dt,yt.value,gt);if(Ct===null){dt===null&&(dt=Ot);break}s&&dt&&Ct.alternate===null&&e(rt,dt),st=d(Ct,st,mt),ft===null?ct=Ct:ft.sibling=Ct,ft=Ct,dt=Ot}if(yt.done)return a(rt,dt),ct;if(dt===null){for(;!yt.done;mt++,yt=ht.next())yt=_e(rt,yt.value,gt),yt!==null&&(st=d(yt,st,mt),ft===null?ct=yt:ft.sibling=yt,ft=yt);return ct}for(dt=o(rt,dt);!yt.done;mt++,yt=ht.next())yt=it(dt,rt,mt,yt.value,gt),yt!==null&&(s&&yt.alternate!==null&&dt.delete(yt.key===null?mt:yt.key),st=d(yt,st,mt),ft===null?ct=yt:ft.sibling=yt,ft=yt);return s&&dt.forEach(function(kt){return e(rt,kt)}),ct}return function(rt,st,ht,gt){var ct=typeof ht=="object"&&ht!==null&&ht.type===ua&&ht.key===null;ct&&(ht=ht.props.children);var ft=typeof ht=="object"&&ht!==null;if(ft)switch(ht.$$typeof){case sa:e:{for(ft=ht.key,ct=st;ct!==null;){if(ct.key===ft){switch(ct.tag){case 7:if(ht.type===ua){a(rt,ct.sibling),st=c(ct,ht.props.children),st.return=rt,rt=st;break e}break;default:if(ct.elementType===ht.type){a(rt,ct.sibling),st=c(ct,ht.props),st.ref=Qg(rt,ct,ht),st.return=rt,rt=st;break e}}a(rt,ct);break}else e(rt,ct);ct=ct.sibling}ht.type===ua?(st=Xg(ht.props.children,rt.mode,gt,ht.key),st.return=rt,rt=st):(gt=Vg(ht.type,ht.key,ht.props,null,rt.mode,gt),gt.ref=Qg(rt,st,ht),gt.return=rt,rt=gt)}return b(rt);case ta:e:{for(ct=ht.key;st!==null;){if(st.key===ct)if(st.tag===4&&st.stateNode.containerInfo===ht.containerInfo&&st.stateNode.implementation===ht.implementation){a(rt,st.sibling),st=c(st,ht.children||[]),st.return=rt,rt=st;break e}else{a(rt,st);break}else e(rt,st);st=st.sibling}st=Wg(ht,rt.mode,gt),st.return=rt,rt=st}return b(rt)}if(typeof ht=="string"||typeof ht=="number")return ht=""+ht,st!==null&&st.tag===6?(a(rt,st.sibling),st=c(st,ht),st.return=rt,rt=st):(a(rt,st),st=Ug(ht,rt.mode,gt),st.return=rt,rt=st),b(rt);if(Pg(ht))return nt(rt,st,ht,gt);if(La(ht))return at(rt,st,ht,gt);if(ft&&Rg(rt,ht),typeof ht=="undefined"&&!ct)switch(rt.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(rt.type)||"Component"))}return a(rt,st)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);function dh(s){if(s===$g)throw Error(y(174));return s}function eh(s,e){switch(I(ch,e),I(bh,s),I(ah,$g),s=e.nodeType,s){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mb(null,"");break;default:s=s===8?e.parentNode:e,e=s.namespaceURI||null,s=s.tagName,e=mb(e,s)}H(ah),I(ah,e)}function fh(){H(ah),H(bh),H(ch)}function gh(s){dh(ch.current);var e=dh(ah.current),a=mb(e,s.type);e!==a&&(I(bh,s),I(ah,a))}function hh(s){bh.current===s&&(H(ah),H(bh))}var P=Bf(0);function ih(s){for(var e=s;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jh=null,kh=null,lh=!1;function mh(s,e){var a=nh(5,null,null,0);a.elementType="DELETED",a.type="DELETED",a.stateNode=e,a.return=s,a.flags=8,s.lastEffect!==null?(s.lastEffect.nextEffect=a,s.lastEffect=a):s.firstEffect=s.lastEffect=a}function oh(s,e){switch(s.tag){case 5:var a=s.type;return e=e.nodeType!==1||a.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(s.stateNode=e,!0):!1;case 6:return e=s.pendingProps===""||e.nodeType!==3?null:e,e!==null?(s.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function ph(s){if(lh){var e=kh;if(e){var a=e;if(!oh(s,e)){if(e=rf(a.nextSibling),!e||!oh(s,e)){s.flags=s.flags&-1025|2,lh=!1,jh=s;return}mh(jh,a)}jh=s,kh=rf(e.firstChild)}else s.flags=s.flags&-1025|2,lh=!1,jh=s}}function qh(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;jh=s}function rh(s){if(s!==jh)return!1;if(!lh)return qh(s),lh=!0,!1;var e=s.type;if(s.tag!==5||e!=="head"&&e!=="body"&&!nf(e,s.memoizedProps))for(e=kh;e;)mh(s,e),e=rf(e.nextSibling);if(qh(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(y(317));e:{for(s=s.nextSibling,e=0;s;){if(s.nodeType===8){var a=s.data;if(a==="/$"){if(e===0){kh=rf(s.nextSibling);break e}e--}else a!=="$"&&a!=="$!"&&a!=="$?"||e++}s=s.nextSibling}kh=null}}else kh=jh?rf(s.stateNode.nextSibling):null;return!0}function sh(){kh=jh=null,lh=!1}var th=[];function uh(){for(var s=0;s<th.length;s++)th[s]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321))}function Bh(s,e){if(e===null)return!1;for(var a=0;a<e.length&&a<s.length;a++)if(!He(s[a],e[a]))return!1;return!0}function Ch(s,e,a,o,c,d){if(xh=d,R=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vh.current=s===null||s.memoizedState===null?Dh:Eh,s=a(o,c),zh){d=0;do{if(zh=!1,!(25>d))throw Error(y(301));d+=1,T=S=null,e.updateQueue=null,vh.current=Fh,s=a(o,c)}while(zh)}if(vh.current=Gh,e=S!==null&&S.next!==null,xh=0,T=S=R=null,yh=!1,e)throw Error(y(300));return s}function Hh(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return T===null?R.memoizedState=T=s:T=T.next=s,T}function Ih(){if(S===null){var s=R.alternate;s=s!==null?s.memoizedState:null}else s=S.next;var e=T===null?R.memoizedState:T.next;if(e!==null)T=e,S=s;else{if(s===null)throw Error(y(310));S=s,s={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null},T===null?R.memoizedState=T=s:T=T.next=s}return T}function Jh(s,e){return typeof e=="function"?e(s):e}function Kh(s){var e=Ih(),a=e.queue;if(a===null)throw Error(y(311));a.lastRenderedReducer=s;var o=S,c=o.baseQueue,d=a.pending;if(d!==null){if(c!==null){var b=c.next;c.next=d.next,d.next=b}o.baseQueue=c=d,a.pending=null}if(c!==null){c=c.next,o=o.baseState;var k=b=d=null,$=c;do{var _=$.lane;if((xh&_)===_)k!==null&&(k=k.next={lane:0,action:$.action,eagerReducer:$.eagerReducer,eagerState:$.eagerState,next:null}),o=$.eagerReducer===s?$.eagerState:s(o,$.action);else{var j={lane:_,action:$.action,eagerReducer:$.eagerReducer,eagerState:$.eagerState,next:null};k===null?(b=k=j,d=o):k=k.next=j,R.lanes|=_,Dg|=_}$=$.next}while($!==null&&$!==c);k===null?d=o:k.next=b,He(o,e.memoizedState)||(ug=!0),e.memoizedState=o,e.baseState=d,e.baseQueue=k,a.lastRenderedState=o}return[e.memoizedState,a.dispatch]}function Lh(s){var e=Ih(),a=e.queue;if(a===null)throw Error(y(311));a.lastRenderedReducer=s;var o=a.dispatch,c=a.pending,d=e.memoizedState;if(c!==null){a.pending=null;var b=c=c.next;do d=s(d,b.action),b=b.next;while(b!==c);He(d,e.memoizedState)||(ug=!0),e.memoizedState=d,e.baseQueue===null&&(e.baseState=d),a.lastRenderedState=d}return[d,o]}function Mh(s,e,a){var o=e._getVersion;o=o(e._source);var c=e._workInProgressVersionPrimary;if(c!==null?s=c===o:(s=s.mutableReadLanes,(s=(xh&s)===s)&&(e._workInProgressVersionPrimary=o,th.push(e))),s)return a(e._source);throw th.push(e),Error(y(350))}function Nh(s,e,a,o){var c=U;if(c===null)throw Error(y(349));var d=e._getVersion,b=d(e._source),k=vh.current,$=k.useState(function(){return Mh(c,e,a)}),_=$[1],j=$[0];$=T;var _e=s.memoizedState,tt=_e.refs,it=tt.getSnapshot,nt=_e.source;_e=_e.subscribe;var at=R;return s.memoizedState={refs:tt,source:e,subscribe:o},k.useEffect(function(){tt.getSnapshot=a,tt.setSnapshot=_;var rt=d(e._source);if(!He(b,rt)){rt=a(e._source),He(j,rt)||(_(rt),rt=Ig(at),c.mutableReadLanes|=rt&c.pendingLanes),rt=c.mutableReadLanes,c.entangledLanes|=rt;for(var st=c.entanglements,ht=rt;0<ht;){var gt=31-Vc(ht),ct=1<<gt;st[gt]|=rt,ht&=~ct}}},[a,e,o]),k.useEffect(function(){return o(e._source,function(){var rt=tt.getSnapshot,st=tt.setSnapshot;try{st(rt(e._source));var ht=Ig(at);c.mutableReadLanes|=ht&c.pendingLanes}catch(gt){st(function(){throw gt})}})},[e,o]),He(it,a)&&He(nt,e)&&He(_e,o)||(s={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:j},s.dispatch=_=Oh.bind(null,R,s),$.queue=s,$.baseQueue=null,j=Mh(c,e,a),$.memoizedState=$.baseState=j),j}function Ph(s,e,a){var o=Ih();return Nh(o,s,e,a)}function Qh(s){var e=Hh();return typeof s=="function"&&(s=s()),e.memoizedState=e.baseState=s,s=e.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:s},s=s.dispatch=Oh.bind(null,R,s),[e.memoizedState,s]}function Rh(s,e,a,o){return s={tag:s,create:e,destroy:a,deps:o,next:null},e=R.updateQueue,e===null?(e={lastEffect:null},R.updateQueue=e,e.lastEffect=s.next=s):(a=e.lastEffect,a===null?e.lastEffect=s.next=s:(o=a.next,a.next=s,s.next=o,e.lastEffect=s)),s}function Sh(s){var e=Hh();return s={current:s},e.memoizedState=s}function Th(){return Ih().memoizedState}function Uh(s,e,a,o){var c=Hh();R.flags|=s,c.memoizedState=Rh(1|e,a,void 0,o===void 0?null:o)}function Vh(s,e,a,o){var c=Ih();o=o===void 0?null:o;var d=void 0;if(S!==null){var b=S.memoizedState;if(d=b.destroy,o!==null&&Bh(o,b.deps)){Rh(e,a,d,o);return}}R.flags|=s,c.memoizedState=Rh(1|e,a,d,o)}function Wh(s,e){return Uh(516,4,s,e)}function Xh(s,e){return Vh(516,4,s,e)}function Yh(s,e){return Vh(4,2,s,e)}function Zh(s,e){if(typeof e=="function")return s=s(),e(s),function(){e(null)};if(e!=null)return s=s(),e.current=s,function(){e.current=null}}function $h(s,e,a){return a=a!=null?a.concat([s]):null,Vh(4,2,Zh.bind(null,e,s),a)}function ai(){}function bi(s,e){var a=Ih();e=e===void 0?null:e;var o=a.memoizedState;return o!==null&&e!==null&&Bh(e,o[1])?o[0]:(a.memoizedState=[s,e],s)}function ci(s,e){var a=Ih();e=e===void 0?null:e;var o=a.memoizedState;return o!==null&&e!==null&&Bh(e,o[1])?o[0]:(s=s(),a.memoizedState=[s,e],s)}function di(s,e){var a=eg();gg(98>a?98:a,function(){s(!0)}),gg(97<a?97:a,function(){var o=wh.transition;wh.transition=1;try{s(!1),e()}finally{wh.transition=o}})}function Oh(s,e,a){var o=Hg(),c=Ig(s),d={lane:c,action:a,eagerReducer:null,eagerState:null,next:null},b=e.pending;if(b===null?d.next=d:(d.next=b.next,b.next=d),e.pending=d,b=s.alternate,s===R||b!==null&&b===R)zh=yh=!0;else{if(s.lanes===0&&(b===null||b.lanes===0)&&(b=e.lastRenderedReducer,b!==null))try{var k=e.lastRenderedState,$=b(k,a);if(d.eagerReducer=b,d.eagerState=$,He($,k))return}catch{}finally{}Jg(s,c,o)}}var Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(s,e){return Hh().memoizedState=[s,e===void 0?null:e],s},useContext:vg,useEffect:Wh,useImperativeHandle:function(s,e,a){return a=a!=null?a.concat([s]):null,Uh(4,2,Zh.bind(null,e,s),a)},useLayoutEffect:function(s,e){return Uh(4,2,s,e)},useMemo:function(s,e){var a=Hh();return e=e===void 0?null:e,s=s(),a.memoizedState=[s,e],s},useReducer:function(s,e,a){var o=Hh();return e=a!==void 0?a(e):e,o.memoizedState=o.baseState=e,s=o.queue={pending:null,dispatch:null,lastRenderedReducer:s,lastRenderedState:e},s=s.dispatch=Oh.bind(null,R,s),[o.memoizedState,s]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(s){var e=Qh(s),a=e[0],o=e[1];return Wh(function(){var c=wh.transition;wh.transition=1;try{o(s)}finally{wh.transition=c}},[s]),a},useTransition:function(){var s=Qh(!1),e=s[0];return s=di.bind(null,s[1]),Sh(s),[s,e]},useMutableSource:function(s,e,a){var o=Hh();return o.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:s,subscribe:a},Nh(o,s,e,a)},useOpaqueIdentifier:function(){if(lh){var s=!1,e=uf(function(){throw s||(s=!0,a("r:"+(tf++).toString(36))),Error(y(355))}),a=Qh(e)[1];return(R.mode&2)===0&&(R.flags|=516,Rh(5,function(){a("r:"+(tf++).toString(36))},void 0,null)),e}return e="r:"+(tf++).toString(36),Qh(e),e},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(s){var e=Kh(Jh),a=e[0],o=e[1];return Xh(function(){var c=wh.transition;wh.transition=1;try{o(s)}finally{wh.transition=c}},[s]),a},useTransition:function(){var s=Kh(Jh)[0];return[Th().current,s]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(s){var e=Lh(Jh),a=e[0],o=e[1];return Xh(function(){var c=wh.transition;wh.transition=1;try{o(s)}finally{wh.transition=c}},[s]),a},useTransition:function(){var s=Lh(Jh)[0];return[Th().current,s]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(s,e,a,o){e.child=s===null?Zg(e,null,a,o):Yg(e,s.child,a,o)}function gi(s,e,a,o,c){a=a.render;var d=e.ref;return tg(e,c),o=Ch(s,e,a,o,d,c),s!==null&&!ug?(e.updateQueue=s.updateQueue,e.flags&=-517,s.lanes&=~c,hi(s,e,c)):(e.flags|=1,fi(s,e,o,c),e.child)}function ii(s,e,a,o,c,d){if(s===null){var b=a.type;return typeof b=="function"&&!ji(b)&&b.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(e.tag=15,e.type=b,ki(s,e,b,o,c,d)):(s=Vg(a.type,null,o,e,e.mode,d),s.ref=e.ref,s.return=e,e.child=s)}return b=s.child,(c&d)===0&&(c=b.memoizedProps,a=a.compare,a=a!==null?a:Je,a(c,o)&&s.ref===e.ref)?hi(s,e,d):(e.flags|=1,s=Tg(b,o),s.ref=e.ref,s.return=e,e.child=s)}function ki(s,e,a,o,c,d){if(s!==null&&Je(s.memoizedProps,o)&&s.ref===e.ref)if(ug=!1,(d&c)!==0)(s.flags&16384)!==0&&(ug=!0);else return e.lanes=s.lanes,hi(s,e,d);return li(s,e,a,o,d)}function mi(s,e,a){var o=e.pendingProps,c=o.children,d=s!==null?s.memoizedState:null;if(o.mode==="hidden"||o.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},ni(e,a);else if((a&1073741824)!==0)e.memoizedState={baseLanes:0},ni(e,d!==null?d.baseLanes:a);else return s=d!==null?d.baseLanes|a:a,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:s},ni(e,s),null;else d!==null?(o=d.baseLanes|a,e.memoizedState=null):o=a,ni(e,o);return fi(s,e,c,a),e.child}function oi(s,e){var a=e.ref;(s===null&&a!==null||s!==null&&s.ref!==a)&&(e.flags|=128)}function li(s,e,a,o,c){var d=Ff(a)?Df:M.current;return d=Ef(e,d),tg(e,c),a=Ch(s,e,a,o,d,c),s!==null&&!ug?(e.updateQueue=s.updateQueue,e.flags&=-517,s.lanes&=~c,hi(s,e,c)):(e.flags|=1,fi(s,e,a,c),e.child)}function pi(s,e,a,o,c){if(Ff(a)){var d=!0;Jf(e)}else d=!1;if(tg(e,c),e.stateNode===null)s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2),Mg(e,a,o),Og(e,a,o,c),o=!0;else if(s===null){var b=e.stateNode,k=e.memoizedProps;b.props=k;var $=b.context,_=a.contextType;typeof _=="object"&&_!==null?_=vg(_):(_=Ff(a)?Df:M.current,_=Ef(e,_));var j=a.getDerivedStateFromProps,_e=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function";_e||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==o||$!==_)&&Ng(e,b,o,_),wg=!1;var tt=e.memoizedState;b.state=tt,Cg(e,o,b,c),$=e.memoizedState,k!==o||tt!==$||N.current||wg?(typeof j=="function"&&(Gg(e,a,j,o),$=e.memoizedState),(k=wg||Lg(e,a,k,o,tt,$,_))?(_e||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(e.flags|=4)):(typeof b.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=o,e.memoizedState=$),b.props=o,b.state=$,b.context=_,o=k):(typeof b.componentDidMount=="function"&&(e.flags|=4),o=!1)}else{b=e.stateNode,yg(s,e),k=e.memoizedProps,_=e.type===e.elementType?k:lg(e.type,k),b.props=_,_e=e.pendingProps,tt=b.context,$=a.contextType,typeof $=="object"&&$!==null?$=vg($):($=Ff(a)?Df:M.current,$=Ef(e,$));var it=a.getDerivedStateFromProps;(j=typeof it=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==_e||tt!==$)&&Ng(e,b,o,$),wg=!1,tt=e.memoizedState,b.state=tt,Cg(e,o,b,c);var nt=e.memoizedState;k!==_e||tt!==nt||N.current||wg?(typeof it=="function"&&(Gg(e,a,it,o),nt=e.memoizedState),(_=wg||Lg(e,a,_,o,tt,nt,$))?(j||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(o,nt,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(o,nt,$)),typeof b.componentDidUpdate=="function"&&(e.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&tt===s.memoizedState||(e.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&tt===s.memoizedState||(e.flags|=256),e.memoizedProps=o,e.memoizedState=nt),b.props=o,b.state=nt,b.context=$,o=_):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&tt===s.memoizedState||(e.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&tt===s.memoizedState||(e.flags|=256),o=!1)}return qi(s,e,a,o,d,c)}function qi(s,e,a,o,c,d){oi(s,e);var b=(e.flags&64)!==0;if(!o&&!b)return c&&Kf(e,a,!1),hi(s,e,d);o=e.stateNode,ei.current=e;var k=b&&typeof a.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,s!==null&&b?(e.child=Yg(e,s.child,null,d),e.child=Yg(e,null,k,d)):fi(s,e,k,d),e.memoizedState=o.state,c&&Kf(e,a,!0),e.child}function ri(s){var e=s.stateNode;e.pendingContext?Hf(s,e.pendingContext,e.pendingContext!==e.context):e.context&&Hf(s,e.context,!1),eh(s,e.containerInfo)}var si={dehydrated:null,retryLane:0};function ti(s,e,a){var o=e.pendingProps,c=P.current,d=!1,b;return(b=(e.flags&64)!==0)||(b=s!==null&&s.memoizedState===null?!1:(c&2)!==0),b?(d=!0,e.flags&=-65):s!==null&&s.memoizedState===null||o.fallback===void 0||o.unstable_avoidThisFallback===!0||(c|=1),I(P,c&1),s===null?(o.fallback!==void 0&&ph(e),s=o.children,c=o.fallback,d?(s=ui(e,s,c,a),e.child.memoizedState={baseLanes:a},e.memoizedState=si,s):typeof o.unstable_expectedLoadTime=="number"?(s=ui(e,s,c,a),e.child.memoizedState={baseLanes:a},e.memoizedState=si,e.lanes=33554432,s):(a=vi({mode:"visible",children:s},e.mode,a,null),a.return=e,e.child=a)):s.memoizedState!==null?d?(o=wi(s,e,o.children,o.fallback,a),d=e.child,c=s.child.memoizedState,d.memoizedState=c===null?{baseLanes:a}:{baseLanes:c.baseLanes|a},d.childLanes=s.childLanes&~a,e.memoizedState=si,o):(a=xi(s,e,o.children,a),e.memoizedState=null,a):d?(o=wi(s,e,o.children,o.fallback,a),d=e.child,c=s.child.memoizedState,d.memoizedState=c===null?{baseLanes:a}:{baseLanes:c.baseLanes|a},d.childLanes=s.childLanes&~a,e.memoizedState=si,o):(a=xi(s,e,o.children,a),e.memoizedState=null,a)}function ui(s,e,a,o){var c=s.mode,d=s.child;return e={mode:"hidden",children:e},(c&2)===0&&d!==null?(d.childLanes=0,d.pendingProps=e):d=vi(e,c,0,null),a=Xg(a,c,o,null),d.return=s,a.return=s,d.sibling=a,s.child=d,a}function xi(s,e,a,o){var c=s.child;return s=c.sibling,a=Tg(c,{mode:"visible",children:a}),(e.mode&2)===0&&(a.lanes=o),a.return=e,a.sibling=null,s!==null&&(s.nextEffect=null,s.flags=8,e.firstEffect=e.lastEffect=s),e.child=a}function wi(s,e,a,o,c){var d=e.mode,b=s.child;s=b.sibling;var k={mode:"hidden",children:a};return(d&2)===0&&e.child!==b?(a=e.child,a.childLanes=0,a.pendingProps=k,b=a.lastEffect,b!==null?(e.firstEffect=a.firstEffect,e.lastEffect=b,b.nextEffect=null):e.firstEffect=e.lastEffect=null):a=Tg(b,k),s!==null?o=Tg(s,o):(o=Xg(o,d,c,null),o.flags|=2),o.return=e,a.return=e,a.sibling=o,e.child=a,o}function yi(s,e){s.lanes|=e;var a=s.alternate;a!==null&&(a.lanes|=e),sg(s.return,e)}function zi(s,e,a,o,c,d){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c,lastEffect:d}:(b.isBackwards=e,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=a,b.tailMode=c,b.lastEffect=d)}function Ai(s,e,a){var o=e.pendingProps,c=o.revealOrder,d=o.tail;if(fi(s,e,o.children,a),o=P.current,(o&2)!==0)o=o&1|2,e.flags|=64;else{if(s!==null&&(s.flags&64)!==0)e:for(s=e.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yi(s,a);else if(s.tag===19)yi(s,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o&=1}if(I(P,o),(e.mode&2)===0)e.memoizedState=null;else switch(c){case"forwards":for(a=e.child,c=null;a!==null;)s=a.alternate,s!==null&&ih(s)===null&&(c=a),a=a.sibling;a=c,a===null?(c=e.child,e.child=null):(c=a.sibling,a.sibling=null),zi(e,!1,c,a,d,e.lastEffect);break;case"backwards":for(a=null,c=e.child,e.child=null;c!==null;){if(s=c.alternate,s!==null&&ih(s)===null){e.child=c;break}s=c.sibling,c.sibling=a,a=c,c=s}zi(e,!0,a,null,d,e.lastEffect);break;case"together":zi(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function hi(s,e,a){if(s!==null&&(e.dependencies=s.dependencies),Dg|=e.lanes,(a&e.childLanes)!==0){if(s!==null&&e.child!==s.child)throw Error(y(153));if(e.child!==null){for(s=e.child,a=Tg(s,s.pendingProps),e.child=a,a.return=e;s.sibling!==null;)s=s.sibling,a=a.sibling=Tg(s,s.pendingProps),a.return=e;a.sibling=null}return e.child}return null}var Bi,Ci,Di,Ei;Bi=function(s,e){for(var a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Ci=function(){};Di=function(s,e,a,o){var c=s.memoizedProps;if(c!==o){s=e.stateNode,dh(ah.current);var d=null;switch(a){case"input":c=Ya(s,c),o=Ya(s,o),d=[];break;case"option":c=eb(s,c),o=eb(s,o),d=[];break;case"select":c=m$1({},c,{value:void 0}),o=m$1({},o,{value:void 0}),d=[];break;case"textarea":c=gb(s,c),o=gb(s,o),d=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(s.onclick=jf)}vb(a,o);var b;a=null;for(_ in c)if(!o.hasOwnProperty(_)&&c.hasOwnProperty(_)&&c[_]!=null)if(_==="style"){var k=c[_];for(b in k)k.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ca.hasOwnProperty(_)?d||(d=[]):(d=d||[]).push(_,null));for(_ in o){var $=o[_];if(k=c!=null?c[_]:void 0,o.hasOwnProperty(_)&&$!==k&&($!=null||k!=null))if(_==="style")if(k){for(b in k)!k.hasOwnProperty(b)||$&&$.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in $)$.hasOwnProperty(b)&&k[b]!==$[b]&&(a||(a={}),a[b]=$[b])}else a||(d||(d=[]),d.push(_,a)),a=$;else _==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,k=k?k.__html:void 0,$!=null&&k!==$&&(d=d||[]).push(_,$)):_==="children"?typeof $!="string"&&typeof $!="number"||(d=d||[]).push(_,""+$):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ca.hasOwnProperty(_)?($!=null&&_==="onScroll"&&G("scroll",s),d||k===$||(d=[])):typeof $=="object"&&$!==null&&$.$$typeof===Ga?$.toString():(d=d||[]).push(_,$))}a&&(d=d||[]).push("style",a);var _=d;(e.updateQueue=_)&&(e.flags|=4)}};Ei=function(s,e,a,o){a!==o&&(e.flags|=4)};function Fi(s,e){if(!lh)switch(s.tailMode){case"hidden":e=s.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?e||s.tail===null?s.tail=null:s.tail.sibling=null:o.sibling=null}}function Gi(s,e,a){var o=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(e.type)&&Gf(),null;case 3:return fh(),H(N),H(M),uh(),o=e.stateNode,o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(rh(e)?e.flags|=4:o.hydrate||(e.flags|=256)),Ci(e),null;case 5:hh(e);var c=dh(ch.current);if(a=e.type,s!==null&&e.stateNode!=null)Di(s,e,a,o,c),s.ref!==e.ref&&(e.flags|=128);else{if(!o){if(e.stateNode===null)throw Error(y(166));return null}if(s=dh(ah.current),rh(e)){o=e.stateNode,a=e.type;var d=e.memoizedProps;switch(o[wf]=e,o[xf]=d,a){case"dialog":G("cancel",o),G("close",o);break;case"iframe":case"object":case"embed":G("load",o);break;case"video":case"audio":for(s=0;s<Xe.length;s++)G(Xe[s],o);break;case"source":G("error",o);break;case"img":case"image":case"link":G("error",o),G("load",o);break;case"details":G("toggle",o);break;case"input":Za(o,d),G("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},G("invalid",o);break;case"textarea":hb(o,d),G("invalid",o)}vb(a,d),s=null;for(var b in d)d.hasOwnProperty(b)&&(c=d[b],b==="children"?typeof c=="string"?o.textContent!==c&&(s=["children",c]):typeof c=="number"&&o.textContent!==""+c&&(s=["children",""+c]):ca.hasOwnProperty(b)&&c!=null&&b==="onScroll"&&G("scroll",o));switch(a){case"input":Va(o),cb(o,d,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=jf)}o=s,e.updateQueue=o,o!==null&&(e.flags|=4)}else{switch(b=c.nodeType===9?c:c.ownerDocument,s===kb.html&&(s=lb(a)),s===kb.html?a==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof o.is=="string"?s=b.createElement(a,{is:o.is}):(s=b.createElement(a),a==="select"&&(b=s,o.multiple?b.multiple=!0:o.size&&(b.size=o.size))):s=b.createElementNS(s,a),s[wf]=e,s[xf]=o,Bi(s,e,!1,!1),e.stateNode=s,b=wb(a,o),a){case"dialog":G("cancel",s),G("close",s),c=o;break;case"iframe":case"object":case"embed":G("load",s),c=o;break;case"video":case"audio":for(c=0;c<Xe.length;c++)G(Xe[c],s);c=o;break;case"source":G("error",s),c=o;break;case"img":case"image":case"link":G("error",s),G("load",s),c=o;break;case"details":G("toggle",s),c=o;break;case"input":Za(s,o),c=Ya(s,o),G("invalid",s);break;case"option":c=eb(s,o);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},c=m$1({},o,{value:void 0}),G("invalid",s);break;case"textarea":hb(s,o),c=gb(s,o),G("invalid",s);break;default:c=o}vb(a,c);var k=c;for(d in k)if(k.hasOwnProperty(d)){var $=k[d];d==="style"?tb(s,$):d==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&ob(s,$)):d==="children"?typeof $=="string"?(a!=="textarea"||$!=="")&&pb(s,$):typeof $=="number"&&pb(s,""+$):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ca.hasOwnProperty(d)?$!=null&&d==="onScroll"&&G("scroll",s):$!=null&&qa(s,d,$,b))}switch(a){case"input":Va(s),cb(s,o,!1);break;case"textarea":Va(s),jb(s);break;case"option":o.value!=null&&s.setAttribute("value",""+Sa(o.value));break;case"select":s.multiple=!!o.multiple,d=o.value,d!=null?fb(s,!!o.multiple,d,!1):o.defaultValue!=null&&fb(s,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(s.onclick=jf)}mf(a,o)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(s&&e.stateNode!=null)Ei(s,e,s.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(y(166));a=dh(ch.current),dh(ah.current),rh(e)?(o=e.stateNode,a=e.memoizedProps,o[wf]=e,o.nodeValue!==a&&(e.flags|=4)):(o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[wf]=e,e.stateNode=o)}return null;case 13:return H(P),o=e.memoizedState,(e.flags&64)!==0?(e.lanes=a,e):(o=o!==null,a=!1,s===null?e.memoizedProps.fallback!==void 0&&rh(e):a=s.memoizedState!==null,o&&!a&&(e.mode&2)!==0&&(s===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(P.current&1)!==0?V===0&&(V=3):((V===0||V===3)&&(V=4),U===null||(Dg&134217727)===0&&(Hi&134217727)===0||Ii(U,W))),(o||a)&&(e.flags|=4),null);case 4:return fh(),Ci(e),s===null&&cf(e.stateNode.containerInfo),null;case 10:return rg(e),null;case 17:return Ff(e.type)&&Gf(),null;case 19:if(H(P),o=e.memoizedState,o===null)return null;if(d=(e.flags&64)!==0,b=o.rendering,b===null)if(d)Fi(o,!1);else{if(V!==0||s!==null&&(s.flags&64)!==0)for(s=e.child;s!==null;){if(b=ih(s),b!==null){for(e.flags|=64,Fi(o,!1),d=b.updateQueue,d!==null&&(e.updateQueue=d,e.flags|=4),o.lastEffect===null&&(e.firstEffect=null),e.lastEffect=o.lastEffect,o=a,a=e.child;a!==null;)d=a,s=o,d.flags&=2,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null,b=d.alternate,b===null?(d.childLanes=0,d.lanes=s,d.child=null,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=b.childLanes,d.lanes=b.lanes,d.child=b.child,d.memoizedProps=b.memoizedProps,d.memoizedState=b.memoizedState,d.updateQueue=b.updateQueue,d.type=b.type,s=b.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a=a.sibling;return I(P,P.current&1|2),e.child}s=s.sibling}o.tail!==null&&O$1()>Ji&&(e.flags|=64,d=!0,Fi(o,!1),e.lanes=33554432)}else{if(!d)if(s=ih(b),s!==null){if(e.flags|=64,d=!0,a=s.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),Fi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!b.alternate&&!lh)return e=e.lastEffect=o.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*O$1()-o.renderingStartTime>Ji&&a!==1073741824&&(e.flags|=64,d=!0,Fi(o,!1),e.lanes=33554432);o.isBackwards?(b.sibling=e.child,e.child=b):(a=o.last,a!==null?a.sibling=b:e.child=b,o.last=b)}return o.tail!==null?(a=o.tail,o.rendering=a,o.tail=a.sibling,o.lastEffect=e.lastEffect,o.renderingStartTime=O$1(),a.sibling=null,e=P.current,I(P,d?e&1|2:e&1),a):null;case 23:case 24:return Ki(),s!==null&&s.memoizedState!==null!=(e.memoizedState!==null)&&o.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(y(156,e.tag))}function Li(s){switch(s.tag){case 1:Ff(s.type)&&Gf();var e=s.flags;return e&4096?(s.flags=e&-4097|64,s):null;case 3:if(fh(),H(N),H(M),uh(),e=s.flags,(e&64)!==0)throw Error(y(285));return s.flags=e&-4097|64,s;case 5:return hh(s),null;case 13:return H(P),e=s.flags,e&4096?(s.flags=e&-4097|64,s):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(s),null;case 23:case 24:return Ki(),null;default:return null}}function Mi(s,e){try{var a="",o=e;do a+=Qa(o),o=o.return;while(o);var c=a}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:s,source:e,stack:c}}function Ni(s,e){try{console.error(e.value)}catch(a){setTimeout(function(){throw a})}}var Oi=typeof WeakMap=="function"?WeakMap:Map;function Pi(s,e,a){a=zg(-1,a),a.tag=3,a.payload={element:null};var o=e.value;return a.callback=function(){Qi||(Qi=!0,Ri=o),Ni(s,e)},a}function Si(s,e,a){a=zg(-1,a),a.tag=3;var o=s.type.getDerivedStateFromError;if(typeof o=="function"){var c=e.value;a.payload=function(){return Ni(s,e),o(c)}}var d=s.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(a.callback=function(){typeof o!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this),Ni(s,e));var b=e.stack;this.componentDidCatch(e.value,{componentStack:b!==null?b:""})}),a}var Ui=typeof WeakSet=="function"?WeakSet:Set;function Vi(s){var e=s.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(a){Wi(s,a)}else e.current=null}function Xi(s,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&s!==null){var a=s.memoizedProps,o=s.memoizedState;s=e.stateNode,e=s.getSnapshotBeforeUpdate(e.elementType===e.type?a:lg(e.type,a),o),s.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&qf(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163))}function Yi(s,e,a){switch(a.tag){case 0:case 11:case 15:case 22:if(e=a.updateQueue,e=e!==null?e.lastEffect:null,e!==null){s=e=e.next;do{if((s.tag&3)===3){var o=s.create;s.destroy=o()}s=s.next}while(s!==e)}if(e=a.updateQueue,e=e!==null?e.lastEffect:null,e!==null){s=e=e.next;do{var c=s;o=c.next,c=c.tag,(c&4)!==0&&(c&1)!==0&&(Zi(a,s),$i(a,s)),s=o}while(s!==e)}return;case 1:s=a.stateNode,a.flags&4&&(e===null?s.componentDidMount():(o=a.elementType===a.type?e.memoizedProps:lg(a.type,e.memoizedProps),s.componentDidUpdate(o,e.memoizedState,s.__reactInternalSnapshotBeforeUpdate))),e=a.updateQueue,e!==null&&Eg(a,e,s);return;case 3:if(e=a.updateQueue,e!==null){if(s=null,a.child!==null)switch(a.child.tag){case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}Eg(a,e,s)}return;case 5:s=a.stateNode,e===null&&a.flags&4&&mf(a.type,a.memoizedProps)&&s.focus();return;case 6:return;case 4:return;case 12:return;case 13:a.memoizedState===null&&(a=a.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&Cc(a))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163))}function aj(s,e){for(var a=s;;){if(a.tag===5){var o=a.stateNode;if(e)o=o.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{o=a.stateNode;var c=a.memoizedProps.style;c=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=sb("display",c)}}else if(a.tag===6)a.stateNode.nodeValue=e?"":a.memoizedProps;else if((a.tag!==23&&a.tag!==24||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function bj(s,e){if(Mf&&typeof Mf.onCommitFiberUnmount=="function")try{Mf.onCommitFiberUnmount(Lf,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(s=e.updateQueue,s!==null&&(s=s.lastEffect,s!==null)){var a=s=s.next;do{var o=a,c=o.destroy;if(o=o.tag,c!==void 0)if((o&4)!==0)Zi(e,a);else{o=e;try{c()}catch(d){Wi(o,d)}}a=a.next}while(a!==s)}break;case 1:if(Vi(e),s=e.stateNode,typeof s.componentWillUnmount=="function")try{s.props=e.memoizedProps,s.state=e.memoizedState,s.componentWillUnmount()}catch(d){Wi(e,d)}break;case 5:Vi(e);break;case 4:cj(s,e)}}function dj(s){s.alternate=null,s.child=null,s.dependencies=null,s.firstEffect=null,s.lastEffect=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.return=null,s.updateQueue=null}function ej(s){return s.tag===5||s.tag===3||s.tag===4}function fj(s){e:{for(var e=s.return;e!==null;){if(ej(e))break e;e=e.return}throw Error(y(160))}var a=e;switch(e=a.stateNode,a.tag){case 5:var o=!1;break;case 3:e=e.containerInfo,o=!0;break;case 4:e=e.containerInfo,o=!0;break;default:throw Error(y(161))}a.flags&16&&(pb(e,""),a.flags&=-17);e:t:for(a=s;;){for(;a.sibling===null;){if(a.return===null||ej(a.return)){a=null;break e}a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2)){a=a.stateNode;break e}}o?gj(s,a,e):hj(s,a,e)}function gj(s,e,a){var o=s.tag,c=o===5||o===6;if(c)s=c?s.stateNode:s.stateNode.instance,e?a.nodeType===8?a.parentNode.insertBefore(s,e):a.insertBefore(s,e):(a.nodeType===8?(e=a.parentNode,e.insertBefore(s,a)):(e=a,e.appendChild(s)),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=jf));else if(o!==4&&(s=s.child,s!==null))for(gj(s,e,a),s=s.sibling;s!==null;)gj(s,e,a),s=s.sibling}function hj(s,e,a){var o=s.tag,c=o===5||o===6;if(c)s=c?s.stateNode:s.stateNode.instance,e?a.insertBefore(s,e):a.appendChild(s);else if(o!==4&&(s=s.child,s!==null))for(hj(s,e,a),s=s.sibling;s!==null;)hj(s,e,a),s=s.sibling}function cj(s,e){for(var a=e,o=!1,c,d;;){if(!o){o=a.return;e:for(;;){if(o===null)throw Error(y(160));switch(c=o.stateNode,o.tag){case 5:d=!1;break e;case 3:c=c.containerInfo,d=!0;break e;case 4:c=c.containerInfo,d=!0;break e}o=o.return}o=!0}if(a.tag===5||a.tag===6){e:for(var b=s,k=a,$=k;;)if(bj(b,$),$.child!==null&&$.tag!==4)$.child.return=$,$=$.child;else{if($===k)break e;for(;$.sibling===null;){if($.return===null||$.return===k)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}d?(b=c,k=a.stateNode,b.nodeType===8?b.parentNode.removeChild(k):b.removeChild(k)):c.removeChild(a.stateNode)}else if(a.tag===4){if(a.child!==null){c=a.stateNode.containerInfo,d=!0,a.child.return=a,a=a.child;continue}}else if(bj(s,a),a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return,a.tag===4&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function ij(s,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var a=e.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do(o.tag&3)===3&&(s=o.destroy,o.destroy=void 0,s!==void 0&&s()),o=o.next;while(o!==a)}return;case 1:return;case 5:if(a=e.stateNode,a!=null){o=e.memoizedProps;var c=s!==null?s.memoizedProps:o;s=e.type;var d=e.updateQueue;if(e.updateQueue=null,d!==null){for(a[xf]=o,s==="input"&&o.type==="radio"&&o.name!=null&&$a(a,o),wb(s,c),e=wb(s,o),c=0;c<d.length;c+=2){var b=d[c],k=d[c+1];b==="style"?tb(a,k):b==="dangerouslySetInnerHTML"?ob(a,k):b==="children"?pb(a,k):qa(a,b,k,e)}switch(s){case"input":ab(a,o);break;case"textarea":ib(a,o);break;case"select":s=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!o.multiple,d=o.value,d!=null?fb(a,!!o.multiple,d,!1):s!==!!o.multiple&&(o.defaultValue!=null?fb(a,!!o.multiple,o.defaultValue,!0):fb(a,!!o.multiple,o.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(y(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:a=e.stateNode,a.hydrate&&(a.hydrate=!1,Cc(a.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(jj=O$1(),aj(e.child,!0)),kj(e);return;case 19:kj(e);return;case 17:return;case 23:case 24:aj(e,e.memoizedState!==null);return}throw Error(y(163))}function kj(s){var e=s.updateQueue;if(e!==null){s.updateQueue=null;var a=s.stateNode;a===null&&(a=s.stateNode=new Ui),e.forEach(function(o){var c=lj.bind(null,s,o);a.has(o)||(a.add(o),o.then(c,c))})}}function mj(s,e){return s!==null&&(s=s.memoizedState,s===null||s.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=1/0;function wj(){Ji=O$1()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return(X&48)!==0?O$1():Fj!==-1?Fj:Fj=O$1()}function Ig(s){if(s=s.mode,(s&2)===0)return 1;if((s&4)===0)return eg()===99?1:2;if(Gj===0&&(Gj=tj),kg.transition!==0){Hj!==0&&(Hj=vj!==null?vj.pendingLanes:0),s=Gj;var e=4186112&~Hj;return e&=-e,e===0&&(s=4186112&~s,e=s&-s,e===0&&(e=8192)),e}return s=eg(),(X&4)!==0&&s===98?s=Xc(12,Gj):(s=Sc(s),s=Xc(s,Gj)),s}function Jg(s,e,a){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));if(s=Kj(s,e),s===null)return null;$c(s,e,a),s===U&&(Hi|=e,V===4&&Ii(s,W));var o=eg();e===1?(X&8)!==0&&(X&48)===0?Lj(s):(Mj(s,a),X===0&&(wj(),ig())):((X&4)===0||o!==98&&o!==99||(Cj===null?Cj=new Set([s]):Cj.add(s)),Mj(s,a)),vj=s}function Kj(s,e){s.lanes|=e;var a=s.alternate;for(a!==null&&(a.lanes|=e),a=s,s=s.return;s!==null;)s.childLanes|=e,a=s.alternate,a!==null&&(a.childLanes|=e),a=s,s=s.return;return a.tag===3?a.stateNode:null}function Mj(s,e){for(var a=s.callbackNode,o=s.suspendedLanes,c=s.pingedLanes,d=s.expirationTimes,b=s.pendingLanes;0<b;){var k=31-Vc(b),$=1<<k,_=d[k];if(_===-1){if(($&o)===0||($&c)!==0){_=e,Rc($);var j=F;d[k]=10<=j?_+250:6<=j?_+5e3:-1}}else _<=e&&(s.expiredLanes|=$);b&=~$}if(o=Uc(s,s===U?W:0),e=F,o===0)a!==null&&(a!==Zf&&Pf(a),s.callbackNode=null,s.callbackPriority=0);else{if(a!==null){if(s.callbackPriority===e)return;a!==Zf&&Pf(a)}e===15?(a=Lj.bind(null,s),ag===null?(ag=[a],bg=Of(Uf,jg)):ag.push(a),a=Zf):e===14?a=hg(99,Lj.bind(null,s)):(a=Tc(e),a=hg(a,Nj.bind(null,s))),s.callbackPriority=e,s.callbackNode=a}}function Nj(s){if(Fj=-1,Hj=Gj=0,(X&48)!==0)throw Error(y(327));var e=s.callbackNode;if(Oj()&&s.callbackNode!==e)return null;var a=Uc(s,s===U?W:0);if(a===0)return null;var o=a,c=X;X|=16;var d=Pj();(U!==s||W!==o)&&(wj(),Qj(s,o));do try{Rj();break}catch(k){Sj(s,k)}while(1);if(qg(),oj.current=d,X=c,Y!==null?o=0:(U=null,W=0,o=V),(tj&Hi)!==0)Qj(s,0);else if(o!==0){if(o===2&&(X|=64,s.hydrate&&(s.hydrate=!1,qf(s.containerInfo)),a=Wc(s),a!==0&&(o=Tj(s,a))),o===1)throw e=sj,Qj(s,0),Ii(s,a),Mj(s,O$1()),e;switch(s.finishedWork=s.current.alternate,s.finishedLanes=a,o){case 0:case 1:throw Error(y(345));case 2:Uj(s);break;case 3:if(Ii(s,a),(a&62914560)===a&&(o=jj+500-O$1(),10<o)){if(Uc(s,0)!==0)break;if(c=s.suspendedLanes,(c&a)!==a){Hg(),s.pingedLanes|=s.suspendedLanes&c;break}s.timeoutHandle=of(Uj.bind(null,s),o);break}Uj(s);break;case 4:if(Ii(s,a),(a&4186112)===a)break;for(o=s.eventTimes,c=-1;0<a;){var b=31-Vc(a);d=1<<b,b=o[b],b>c&&(c=b),a&=~d}if(a=c,a=O$1()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*nj(a/1960))-a,10<a){s.timeoutHandle=of(Uj.bind(null,s),a);break}Uj(s);break;case 5:Uj(s);break;default:throw Error(y(329))}}return Mj(s,O$1()),s.callbackNode===e?Nj.bind(null,s):null}function Ii(s,e){for(e&=~uj,e&=~Hi,s.suspendedLanes|=e,s.pingedLanes&=~e,s=s.expirationTimes;0<e;){var a=31-Vc(e),o=1<<a;s[a]=-1,e&=~o}}function Lj(s){if((X&48)!==0)throw Error(y(327));if(Oj(),s===U&&(s.expiredLanes&W)!==0){var e=W,a=Tj(s,e);(tj&Hi)!==0&&(e=Uc(s,e),a=Tj(s,e))}else e=Uc(s,0),a=Tj(s,e);if(s.tag!==0&&a===2&&(X|=64,s.hydrate&&(s.hydrate=!1,qf(s.containerInfo)),e=Wc(s),e!==0&&(a=Tj(s,e))),a===1)throw a=sj,Qj(s,0),Ii(s,e),Mj(s,O$1()),a;return s.finishedWork=s.current.alternate,s.finishedLanes=e,Uj(s),Mj(s,O$1()),null}function Vj(){if(Cj!==null){var s=Cj;Cj=null,s.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Mj(e,O$1())})}ig()}function Wj(s,e){var a=X;X|=1;try{return s(e)}finally{X=a,X===0&&(wj(),ig())}}function Xj(s,e){var a=X;X&=-2,X|=8;try{return s(e)}finally{X=a,X===0&&(wj(),ig())}}function ni(s,e){I(rj,qj),qj|=e,tj|=e}function Ki(){qj=rj.current,H(rj)}function Qj(s,e){s.finishedWork=null,s.finishedLanes=0;var a=s.timeoutHandle;if(a!==-1&&(s.timeoutHandle=-1,pf(a)),Y!==null)for(a=Y.return;a!==null;){var o=a;switch(o.tag){case 1:o=o.type.childContextTypes,o!=null&&Gf();break;case 3:fh(),H(N),H(M),uh();break;case 5:hh(o);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(o);break;case 23:case 24:Ki()}a=a.return}U=s,Y=Tg(s.current,null),W=qj=tj=e,V=0,sj=null,uj=Hi=Dg=0}function Sj(s,e){do{var a=Y;try{if(qg(),vh.current=Gh,yh){for(var o=R.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}yh=!1}if(xh=0,T=S=R=null,zh=!1,pj.current=null,a===null||a.return===null){V=1,sj=e,Y=null;break}e:{var d=s,b=a.return,k=a,$=e;if(e=W,k.flags|=2048,k.firstEffect=k.lastEffect=null,$!==null&&typeof $=="object"&&typeof $.then=="function"){var _=$;if((k.mode&2)===0){var j=k.alternate;j?(k.updateQueue=j.updateQueue,k.memoizedState=j.memoizedState,k.lanes=j.lanes):(k.updateQueue=null,k.memoizedState=null)}var _e=(P.current&1)!==0,tt=b;do{var it;if(it=tt.tag===13){var nt=tt.memoizedState;if(nt!==null)it=nt.dehydrated!==null;else{var at=tt.memoizedProps;it=at.fallback===void 0?!1:at.unstable_avoidThisFallback!==!0?!0:!_e}}if(it){var rt=tt.updateQueue;if(rt===null){var st=new Set;st.add(_),tt.updateQueue=st}else rt.add(_);if((tt.mode&2)===0){if(tt.flags|=64,k.flags|=16384,k.flags&=-2981,k.tag===1)if(k.alternate===null)k.tag=17;else{var ht=zg(-1,1);ht.tag=2,Ag(k,ht)}k.lanes|=1;break e}$=void 0,k=e;var gt=d.pingCache;if(gt===null?(gt=d.pingCache=new Oi,$=new Set,gt.set(_,$)):($=gt.get(_),$===void 0&&($=new Set,gt.set(_,$))),!$.has(k)){$.add(k);var ct=Yj.bind(null,d,_,k);_.then(ct,ct)}tt.flags|=4096,tt.lanes=e;break e}tt=tt.return}while(tt!==null);$=Error((Ra(k.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}V!==5&&(V=2),$=Mi($,k),tt=b;do{switch(tt.tag){case 3:d=$,tt.flags|=4096,e&=-e,tt.lanes|=e;var ft=Pi(tt,d,e);Bg(tt,ft);break e;case 1:d=$;var dt=tt.type,mt=tt.stateNode;if((tt.flags&64)===0&&(typeof dt.getDerivedStateFromError=="function"||mt!==null&&typeof mt.componentDidCatch=="function"&&(Ti===null||!Ti.has(mt)))){tt.flags|=4096,e&=-e,tt.lanes|=e;var Ot=Si(tt,d,e);Bg(tt,Ot);break e}}tt=tt.return}while(tt!==null)}Zj(a)}catch(yt){e=yt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(1)}function Pj(){var s=oj.current;return oj.current=Gh,s===null?Gh:s}function Tj(s,e){var a=X;X|=16;var o=Pj();U===s&&W===e||Qj(s,e);do try{ak();break}catch(c){Sj(s,c)}while(1);if(qg(),X=a,oj.current=o,Y!==null)throw Error(y(261));return U=null,W=0,V}function ak(){for(;Y!==null;)bk(Y)}function Rj(){for(;Y!==null&&!Qf();)bk(Y)}function bk(s){var e=ck(s.alternate,s,qj);s.memoizedProps=s.pendingProps,e===null?Zj(s):Y=e,pj.current=null}function Zj(s){var e=s;do{var a=e.alternate;if(s=e.return,(e.flags&2048)===0){if(a=Gi(a,e,qj),a!==null){Y=a;return}if(a=e,a.tag!==24&&a.tag!==23||a.memoizedState===null||(qj&1073741824)!==0||(a.mode&4)===0){for(var o=0,c=a.child;c!==null;)o|=c.lanes|c.childLanes,c=c.sibling;a.childLanes=o}s!==null&&(s.flags&2048)===0&&(s.firstEffect===null&&(s.firstEffect=e.firstEffect),e.lastEffect!==null&&(s.lastEffect!==null&&(s.lastEffect.nextEffect=e.firstEffect),s.lastEffect=e.lastEffect),1<e.flags&&(s.lastEffect!==null?s.lastEffect.nextEffect=e:s.firstEffect=e,s.lastEffect=e))}else{if(a=Li(e),a!==null){a.flags&=2047,Y=a;return}s!==null&&(s.firstEffect=s.lastEffect=null,s.flags|=2048)}if(e=e.sibling,e!==null){Y=e;return}Y=e=s}while(e!==null);V===0&&(V=5)}function Uj(s){var e=eg();return gg(99,dk.bind(null,s,e)),null}function dk(s,e){do Oj();while(yj!==null);if((X&48)!==0)throw Error(y(327));var a=s.finishedWork;if(a===null)return null;if(s.finishedWork=null,s.finishedLanes=0,a===s.current)throw Error(y(177));s.callbackNode=null;var o=a.lanes|a.childLanes,c=o,d=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;for(var b=s.eventTimes,k=s.expirationTimes;0<d;){var $=31-Vc(d),_=1<<$;c[$]=0,b[$]=-1,k[$]=-1,d&=~_}if(Cj!==null&&(o&24)===0&&Cj.has(s)&&Cj.delete(s),s===U&&(Y=U=null,W=0),1<a.flags?a.lastEffect!==null?(a.lastEffect.nextEffect=a,o=a.firstEffect):o=a:o=a.firstEffect,o!==null){if(c=X,X|=32,pj.current=null,kf=fd,b=Ne(),Oe(b)){if("selectionStart"in b)k={start:b.selectionStart,end:b.selectionEnd};else e:if(k=(k=b.ownerDocument)&&k.defaultView||window,(_=k.getSelection&&k.getSelection())&&_.rangeCount!==0){k=_.anchorNode,d=_.anchorOffset,$=_.focusNode,_=_.focusOffset;try{k.nodeType,$.nodeType}catch{k=null;break e}var j=0,_e=-1,tt=-1,it=0,nt=0,at=b,rt=null;t:for(;;){for(var st;at!==k||d!==0&&at.nodeType!==3||(_e=j+d),at!==$||_!==0&&at.nodeType!==3||(tt=j+_),at.nodeType===3&&(j+=at.nodeValue.length),(st=at.firstChild)!==null;)rt=at,at=st;for(;;){if(at===b)break t;if(rt===k&&++it===d&&(_e=j),rt===$&&++nt===_&&(tt=j),(st=at.nextSibling)!==null)break;at=rt,rt=at.parentNode}at=st}k=_e===-1||tt===-1?null:{start:_e,end:tt}}else k=null;k=k||{start:0,end:0}}else k=null;lf={focusedElem:b,selectionRange:k},fd=!1,Ij=null,Jj=!1,Z=o;do try{ek()}catch(yt){if(Z===null)throw Error(y(330));Wi(Z,yt),Z=Z.nextEffect}while(Z!==null);Ij=null,Z=o;do try{for(b=s;Z!==null;){var ht=Z.flags;if(ht&16&&pb(Z.stateNode,""),ht&128){var gt=Z.alternate;if(gt!==null){var ct=gt.ref;ct!==null&&(typeof ct=="function"?ct(null):ct.current=null)}}switch(ht&1038){case 2:fj(Z),Z.flags&=-3;break;case 6:fj(Z),Z.flags&=-3,ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025,ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:k=Z,cj(b,k);var ft=k.alternate;dj(k),ft!==null&&dj(ft)}Z=Z.nextEffect}}catch(yt){if(Z===null)throw Error(y(330));Wi(Z,yt),Z=Z.nextEffect}while(Z!==null);if(ct=lf,gt=Ne(),ht=ct.focusedElem,b=ct.selectionRange,gt!==ht&&ht&&ht.ownerDocument&&Me(ht.ownerDocument.documentElement,ht)){for(b!==null&&Oe(ht)&&(gt=b.start,ct=b.end,ct===void 0&&(ct=gt),"selectionStart"in ht?(ht.selectionStart=gt,ht.selectionEnd=Math.min(ct,ht.value.length)):(ct=(gt=ht.ownerDocument||document)&&gt.defaultView||window,ct.getSelection&&(ct=ct.getSelection(),k=ht.textContent.length,ft=Math.min(b.start,k),b=b.end===void 0?ft:Math.min(b.end,k),!ct.extend&&ft>b&&(k=b,b=ft,ft=k),k=Le(ht,ft),d=Le(ht,b),k&&d&&(ct.rangeCount!==1||ct.anchorNode!==k.node||ct.anchorOffset!==k.offset||ct.focusNode!==d.node||ct.focusOffset!==d.offset)&&(gt=gt.createRange(),gt.setStart(k.node,k.offset),ct.removeAllRanges(),ft>b?(ct.addRange(gt),ct.extend(d.node,d.offset)):(gt.setEnd(d.node,d.offset),ct.addRange(gt)))))),gt=[],ct=ht;ct=ct.parentNode;)ct.nodeType===1&&gt.push({element:ct,left:ct.scrollLeft,top:ct.scrollTop});for(typeof ht.focus=="function"&&ht.focus(),ht=0;ht<gt.length;ht++)ct=gt[ht],ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}fd=!!kf,lf=kf=null,s.current=a,Z=o;do try{for(ht=s;Z!==null;){var dt=Z.flags;if(dt&36&&Yi(ht,Z.alternate,Z),dt&128){gt=void 0;var mt=Z.ref;if(mt!==null){var Ot=Z.stateNode;switch(Z.tag){case 5:gt=Ot;break;default:gt=Ot}typeof mt=="function"?mt(gt):mt.current=gt}}Z=Z.nextEffect}}catch(yt){if(Z===null)throw Error(y(330));Wi(Z,yt),Z=Z.nextEffect}while(Z!==null);Z=null,$f(),X=c}else s.current=a;if(xj)xj=!1,yj=s,zj=e;else for(Z=o;Z!==null;)e=Z.nextEffect,Z.nextEffect=null,Z.flags&8&&(dt=Z,dt.sibling=null,dt.stateNode=null),Z=e;if(o=s.pendingLanes,o===0&&(Ti=null),o===1?s===Ej?Dj++:(Dj=0,Ej=s):Dj=0,a=a.stateNode,Mf&&typeof Mf.onCommitFiberRoot=="function")try{Mf.onCommitFiberRoot(Lf,a,void 0,(a.current.flags&64)===64)}catch{}if(Mj(s,O$1()),Qi)throw Qi=!1,s=Ri,Ri=null,s;return(X&8)!==0||ig(),null}function ek(){for(;Z!==null;){var s=Z.alternate;Jj||Ij===null||((Z.flags&8)!==0?dc(Z,Ij)&&(Jj=!0):Z.tag===13&&mj(s,Z)&&dc(Z,Ij)&&(Jj=!0));var e=Z.flags;(e&256)!==0&&Xi(s,Z),(e&512)===0||xj||(xj=!0,hg(97,function(){return Oj(),null})),Z=Z.nextEffect}}function Oj(){if(zj!==90){var s=97<zj?97:zj;return zj=90,gg(s,fk)}return!1}function $i(s,e){Aj.push(e,s),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function Zi(s,e){Bj.push(e,s),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function fk(){if(yj===null)return!1;var s=yj;if(yj=null,(X&48)!==0)throw Error(y(331));var e=X;X|=32;var a=Bj;Bj=[];for(var o=0;o<a.length;o+=2){var c=a[o],d=a[o+1],b=c.destroy;if(c.destroy=void 0,typeof b=="function")try{b()}catch($){if(d===null)throw Error(y(330));Wi(d,$)}}for(a=Aj,Aj=[],o=0;o<a.length;o+=2){c=a[o],d=a[o+1];try{var k=c.create;c.destroy=k()}catch($){if(d===null)throw Error(y(330));Wi(d,$)}}for(k=s.current.firstEffect;k!==null;)s=k.nextEffect,k.nextEffect=null,k.flags&8&&(k.sibling=null,k.stateNode=null),k=s;return X=e,ig(),!0}function gk(s,e,a){e=Mi(a,e),e=Pi(s,e,1),Ag(s,e),e=Hg(),s=Kj(s,1),s!==null&&($c(s,1,e),Mj(s,e))}function Wi(s,e){if(s.tag===3)gk(s,s,e);else for(var a=s.return;a!==null;){if(a.tag===3){gk(a,s,e);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ti===null||!Ti.has(o))){s=Mi(e,s);var c=Si(a,s,1);if(Ag(a,c),c=Hg(),a=Kj(a,1),a!==null)$c(a,1,c),Mj(a,c);else if(typeof o.componentDidCatch=="function"&&(Ti===null||!Ti.has(o)))try{o.componentDidCatch(e,s)}catch{}break}}a=a.return}}function Yj(s,e,a){var o=s.pingCache;o!==null&&o.delete(e),e=Hg(),s.pingedLanes|=s.suspendedLanes&a,U===s&&(W&a)===a&&(V===4||V===3&&(W&62914560)===W&&500>O$1()-jj?Qj(s,0):uj|=a),Mj(s,e)}function lj(s,e){var a=s.stateNode;a!==null&&a.delete(e),e=0,e===0&&(e=s.mode,(e&2)===0?e=1:(e&4)===0?e=eg()===99?1:2:(Gj===0&&(Gj=tj),e=Yc(62914560&~Gj),e===0&&(e=4194304))),a=Hg(),s=Kj(s,e),s!==null&&($c(s,e,a),Mj(s,a))}var ck;ck=function(s,e,a){var o=e.lanes;if(s!==null)if(s.memoizedProps!==e.pendingProps||N.current)ug=!0;else if((a&o)!==0)ug=(s.flags&16384)!==0;else{switch(ug=!1,e.tag){case 3:ri(e),sh();break;case 5:gh(e);break;case 1:Ff(e.type)&&Jf(e);break;case 4:eh(e,e.stateNode.containerInfo);break;case 10:o=e.memoizedProps.value;var c=e.type._context;I(mg,c._currentValue),c._currentValue=o;break;case 13:if(e.memoizedState!==null)return(a&e.child.childLanes)!==0?ti(s,e,a):(I(P,P.current&1),e=hi(s,e,a),e!==null?e.sibling:null);I(P,P.current&1);break;case 19:if(o=(a&e.childLanes)!==0,(s.flags&64)!==0){if(o)return Ai(s,e,a);e.flags|=64}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),I(P,P.current),o)break;return null;case 23:case 24:return e.lanes=0,mi(s,e,a)}return hi(s,e,a)}else ug=!1;switch(e.lanes=0,e.tag){case 2:if(o=e.type,s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2),s=e.pendingProps,c=Ef(e,M.current),tg(e,a),c=Ch(null,e,o,s,c,a),e.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ff(o)){var d=!0;Jf(e)}else d=!1;e.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,xg(e);var b=o.getDerivedStateFromProps;typeof b=="function"&&Gg(e,o,b,s),c.updater=Kg,e.stateNode=c,c._reactInternals=e,Og(e,o,s,a),e=qi(null,e,o,!0,d,a)}else e.tag=0,fi(null,e,c,a),e=e.child;return e;case 16:c=e.elementType;e:{switch(s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2),s=e.pendingProps,d=c._init,c=d(c._payload),e.type=c,d=e.tag=hk(c),s=lg(c,s),d){case 0:e=li(null,e,c,s,a);break e;case 1:e=pi(null,e,c,s,a);break e;case 11:e=gi(null,e,c,s,a);break e;case 14:e=ii(null,e,c,lg(c.type,s),o,a);break e}throw Error(y(306,c,""))}return e;case 0:return o=e.type,c=e.pendingProps,c=e.elementType===o?c:lg(o,c),li(s,e,o,c,a);case 1:return o=e.type,c=e.pendingProps,c=e.elementType===o?c:lg(o,c),pi(s,e,o,c,a);case 3:if(ri(e),o=e.updateQueue,s===null||o===null)throw Error(y(282));if(o=e.pendingProps,c=e.memoizedState,c=c!==null?c.element:null,yg(s,e),Cg(e,o,null,a),o=e.memoizedState.element,o===c)sh(),e=hi(s,e,a);else{if(c=e.stateNode,(d=c.hydrate)&&(kh=rf(e.stateNode.containerInfo.firstChild),jh=e,d=lh=!0),d){if(s=c.mutableSourceEagerHydrationData,s!=null)for(c=0;c<s.length;c+=2)d=s[c],d._workInProgressVersionPrimary=s[c+1],th.push(d);for(a=Zg(e,null,o,a),e.child=a;a;)a.flags=a.flags&-3|1024,a=a.sibling}else fi(s,e,o,a),sh();e=e.child}return e;case 5:return gh(e),s===null&&ph(e),o=e.type,c=e.pendingProps,d=s!==null?s.memoizedProps:null,b=c.children,nf(o,c)?b=null:d!==null&&nf(o,d)&&(e.flags|=16),oi(s,e),fi(s,e,b,a),e.child;case 6:return s===null&&ph(e),null;case 13:return ti(s,e,a);case 4:return eh(e,e.stateNode.containerInfo),o=e.pendingProps,s===null?e.child=Yg(e,null,o,a):fi(s,e,o,a),e.child;case 11:return o=e.type,c=e.pendingProps,c=e.elementType===o?c:lg(o,c),gi(s,e,o,c,a);case 7:return fi(s,e,e.pendingProps,a),e.child;case 8:return fi(s,e,e.pendingProps.children,a),e.child;case 12:return fi(s,e,e.pendingProps.children,a),e.child;case 10:e:{o=e.type._context,c=e.pendingProps,b=e.memoizedProps,d=c.value;var k=e.type._context;if(I(mg,k._currentValue),k._currentValue=d,b!==null)if(k=b.value,d=He(k,d)?0:(typeof o._calculateChangedBits=="function"?o._calculateChangedBits(k,d):1073741823)|0,d===0){if(b.children===c.children&&!N.current){e=hi(s,e,a);break e}}else for(k=e.child,k!==null&&(k.return=e);k!==null;){var $=k.dependencies;if($!==null){b=k.child;for(var _=$.firstContext;_!==null;){if(_.context===o&&(_.observedBits&d)!==0){k.tag===1&&(_=zg(-1,a&-a),_.tag=2,Ag(k,_)),k.lanes|=a,_=k.alternate,_!==null&&(_.lanes|=a),sg(k.return,a),$.lanes|=a;break}_=_.next}}else b=k.tag===10&&k.type===e.type?null:k.child;if(b!==null)b.return=k;else for(b=k;b!==null;){if(b===e){b=null;break}if(k=b.sibling,k!==null){k.return=b.return,b=k;break}b=b.return}k=b}fi(s,e,c.children,a),e=e.child}return e;case 9:return c=e.type,d=e.pendingProps,o=d.children,tg(e,a),c=vg(c,d.unstable_observedBits),o=o(c),e.flags|=1,fi(s,e,o,a),e.child;case 14:return c=e.type,d=lg(c,e.pendingProps),d=lg(c.type,d),ii(s,e,c,d,o,a);case 15:return ki(s,e,e.type,e.pendingProps,o,a);case 17:return o=e.type,c=e.pendingProps,c=e.elementType===o?c:lg(o,c),s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ff(o)?(s=!0,Jf(e)):s=!1,tg(e,a),Mg(e,o,c),Og(e,o,c,a),qi(null,e,o,!0,s,a);case 19:return Ai(s,e,a);case 23:return mi(s,e,a);case 24:return mi(s,e,a)}throw Error(y(156,e.tag))};function ik(s,e,a,o){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(s,e,a,o){return new ik(s,e,a,o)}function ji(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hk(s){if(typeof s=="function")return ji(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Aa)return 11;if(s===Da)return 14}return 2}function Tg(s,e){var a=s.alternate;return a===null?(a=nh(s.tag,e,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=e,a.type=s.type,a.flags=0,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null),a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a}function Vg(s,e,a,o,c,d){var b=2;if(o=s,typeof s=="function")ji(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case ua:return Xg(a.children,c,d,e);case Ha:b=8,c|=16;break;case wa:b=8,c|=1;break;case xa:return s=nh(12,a,e,c|8),s.elementType=xa,s.type=xa,s.lanes=d,s;case Ba:return s=nh(13,a,e,c),s.type=Ba,s.elementType=Ba,s.lanes=d,s;case Ca:return s=nh(19,a,e,c),s.elementType=Ca,s.lanes=d,s;case Ia:return vi(a,c,d,e);case Ja:return s=nh(24,a,e,c),s.elementType=Ja,s.lanes=d,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ya:b=10;break e;case za:b=9;break e;case Aa:b=11;break e;case Da:b=14;break e;case Ea:b=16,o=null;break e;case Fa:b=22;break e}throw Error(y(130,s==null?s:typeof s,""))}return e=nh(b,a,e,c),e.elementType=s,e.type=o,e.lanes=d,e}function Xg(s,e,a,o){return s=nh(7,s,o,e),s.lanes=a,s}function vi(s,e,a,o){return s=nh(23,s,o,e),s.elementType=Ia,s.lanes=a,s}function Ug(s,e,a){return s=nh(6,s,null,e),s.lanes=a,s}function Wg(s,e,a){return e=nh(4,s.children!==null?s.children:[],s.key,e),e.lanes=a,e.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},e}function jk(s,e,a){this.tag=e,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=a,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.mutableSourceEagerHydrationData=null}function kk(s,e,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:o==null?null:""+o,children:s,containerInfo:e,implementation:a}}function lk(s,e,a,o){var c=e.current,d=Hg(),b=Ig(c);e:if(a){a=a._reactInternals;t:{if(Zb(a)!==a||a.tag!==1)throw Error(y(170));var k=a;do{switch(k.tag){case 3:k=k.stateNode.context;break t;case 1:if(Ff(k.type)){k=k.stateNode.__reactInternalMemoizedMergedChildContext;break t}}k=k.return}while(k!==null);throw Error(y(171))}if(a.tag===1){var $=a.type;if(Ff($)){a=If(a,$,k);break e}}a=k}else a=Cf;return e.context===null?e.context=a:e.pendingContext=a,e=zg(d,b),e.payload={element:s},o=o===void 0?null:o,o!==null&&(e.callback=o),Ag(c,e),Jg(c,b,d),b}function mk(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function nk(s,e){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<e?a:e}}function ok(s,e){nk(s,e),(s=s.alternate)&&nk(s,e)}function pk(){return null}function qk(s,e,a){var o=a!=null&&a.hydrationOptions!=null&&a.hydrationOptions.mutableSources||null;if(a=new jk(s,e,a!=null&&a.hydrate===!0),e=nh(3,null,null,e===2?7:e===1?3:0),a.current=e,e.stateNode=a,xg(e),s[ff]=a.current,cf(s.nodeType===8?s.parentNode:s),o)for(s=0;s<o.length;s++){e=o[s];var c=e._getVersion;c=c(e._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[e,c]:a.mutableSourceEagerHydrationData.push(e,c)}this._internalRoot=a}qk.prototype.render=function(s){lk(s,this._internalRoot,null,null)};qk.prototype.unmount=function(){var s=this._internalRoot,e=s.containerInfo;lk(null,s,null,function(){e[ff]=null})};function rk(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function sk(s,e){if(e||(e=s?s.nodeType===9?s.documentElement:s.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var a;a=s.lastChild;)s.removeChild(a);return new qk(s,0,e?{hydrate:!0}:void 0)}function tk(s,e,a,o,c){var d=a._reactRootContainer;if(d){var b=d._internalRoot;if(typeof c=="function"){var k=c;c=function(){var _=mk(b);k.call(_)}}lk(e,b,s,c)}else{if(d=a._reactRootContainer=sk(a,o),b=d._internalRoot,typeof c=="function"){var $=c;c=function(){var _=mk(b);$.call(_)}}Xj(function(){lk(e,b,s,c)})}return mk(b)}ec=function(s){if(s.tag===13){var e=Hg();Jg(s,4,e),ok(s,4)}};fc=function(s){if(s.tag===13){var e=Hg();Jg(s,67108864,e),ok(s,67108864)}};gc=function(s){if(s.tag===13){var e=Hg(),a=Ig(s);Jg(s,a,e),ok(s,a)}};hc=function(s,e){return e()};yb=function(s,e,a){switch(e){case"input":if(ab(s,a),e=a.name,a.type==="radio"&&e!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<a.length;e++){var o=a[e];if(o!==s&&o.form===s.form){var c=Db(o);if(!c)throw Error(y(90));Wa(o),ab(o,c)}}}break;case"textarea":ib(s,a);break;case"select":e=a.value,e!=null&&fb(s,!!a.multiple,e,!1)}};Gb=Wj;Hb=function(s,e,a,o,c){var d=X;X|=4;try{return gg(98,s.bind(null,e,a,o,c))}finally{X=d,X===0&&(wj(),ig())}};Ib=function(){(X&49)===0&&(Vj(),Oj())};Jb=function(s,e){var a=X;X|=2;try{return s(e)}finally{X=a,X===0&&(wj(),ig())}};function uk(s,e){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rk(e))throw Error(y(200));return kk(s,e,null,a)}var vk={Events:[Cb,ue$1,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=cc(s),s===null?null:s.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;reactDom_production_min.createPortal=uk;reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var e=s._reactInternals;if(e===void 0)throw typeof s.render=="function"?Error(y(188)):Error(y(268,Object.keys(s)));return s=cc(e),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s,e){var a=X;if((a&48)!==0)return s(e);X|=1;try{if(s)return gg(99,s.bind(null,e))}finally{X=a,ig()}};reactDom_production_min.hydrate=function(s,e,a){if(!rk(e))throw Error(y(200));return tk(null,s,e,!0,a)};reactDom_production_min.render=function(s,e,a){if(!rk(e))throw Error(y(200));return tk(null,s,e,!1,a)};reactDom_production_min.unmountComponentAtNode=function(s){if(!rk(s))throw Error(y(40));return s._reactRootContainer?(Xj(function(){tk(null,null,s,!1,function(){s._reactRootContainer=null,s[ff]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Wj;reactDom_production_min.unstable_createPortal=function(s,e){return uk(s,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,e,a,o){if(!rk(a))throw Error(y(200));if(s==null||s._reactInternals===void 0)throw Error(y(38));return tk(s,e,a,!1,o)};reactDom_production_min.version="17.0.2";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom.exports=reactDom_production_min;var ReactDOM=reactDom.exports;function _defineProperty(s,e,a){return e in s?Object.defineProperty(s,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[e]=a,s}function ownKeys(s,e){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);e&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,o)}return a}function _objectSpread2(s){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(o){_defineProperty(s,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(a,o))})}return s}function _objectWithoutPropertiesLoose$1(s,e){if(s==null)return{};var a={},o=Object.keys(s),c,d;for(d=0;d<o.length;d++)c=o[d],!(e.indexOf(c)>=0)&&(a[c]=s[c]);return a}function _objectWithoutProperties(s,e){if(s==null)return{};var a=_objectWithoutPropertiesLoose$1(s,e),o,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);for(c=0;c<d.length;c++)o=d[c],!(e.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(s,o)||(a[o]=s[o]))}return a}var isFunction=function(e){return typeof e=="function"},MDXContext=React.createContext({}),useMDXComponents=function(e){var a=React.useContext(MDXContext),o=a;return e&&(o=isFunction(e)?e(a):_objectSpread2(_objectSpread2({},a),e)),o},TYPE_PROP_NAME="mdxType",DEFAULTS={inlineCode:"code",wrapper:function(e){var a=e.children;return React.createElement(React.Fragment,{},a)}},MDXCreateElement=React.forwardRef(function(s,e){var a=s.components,o=s.mdxType,c=s.originalType,d=s.parentName,b=_objectWithoutProperties(s,["components","mdxType","originalType","parentName"]),k=useMDXComponents(a),$=o,_=k["".concat(d,".").concat($)]||k[$]||DEFAULTS[$]||c;return a?React.createElement(_,_objectSpread2(_objectSpread2({ref:e},b),{},{components:a})):React.createElement(_,_objectSpread2({ref:e},b))});MDXCreateElement.displayName="MDXCreateElement";function createElement(s,e){var a=arguments,o=e&&e.mdxType;if(typeof s=="string"||o){var c=a.length,d=new Array(c);d[0]=MDXCreateElement;var b={};for(var k in e)hasOwnProperty.call(e,k)&&(b[k]=e[k]);b.originalType=s,b[TYPE_PROP_NAME]=typeof s=="string"?s:o,d[1]=b;for(var $=2;$<c;$++)d[$]=a[$];return React.createElement.apply(null,d)}return React.createElement.apply(null,a)}const scriptRel="modulepreload",seen={},base$1="/tutorial/",__vitePreload=function(e,a){return!a||a.length===0?e():Promise.all(a.map(o=>{if(o=`${base$1}${o}`,o in seen)return;seen[o]=!0;const c=o.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const b=document.createElement("link");if(b.rel=c?"stylesheet":scriptRel,c||(b.as="script",b.crossOrigin=""),b.href=o,document.head.appendChild(b),c)return new Promise((k,$)=>{b.addEventListener("load",k),b.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};var fraction$1={exports:{}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(s,e){(function(a){var o=2e3,c={s:1,n:0,d:1};function d(nt,at){if(isNaN(nt=parseInt(nt,10)))throw it.InvalidParameter;return nt*at}function b(nt,at){if(at===0)throw it.DivisionByZero;var rt=Object.create(it.prototype);rt.s=nt<0?-1:1,nt=nt<0?-nt:nt;var st=tt(nt,at);return rt.n=nt/st,rt.d=at/st,rt}function k(nt){for(var at={},rt=nt,st=2,ht=4;ht<=rt;){for(;rt%st===0;)rt/=st,at[st]=(at[st]||0)+1;ht+=1+2*st++}return rt!==nt?rt>1&&(at[rt]=(at[rt]||0)+1):at[nt]=(at[nt]||0)+1,at}var $=function(nt,at){var rt=0,st=1,ht=1,gt=0,ct=0,ft=0,dt=1,mt=1,Ot=0,yt=1,Ct=1,kt=1,bt=1e7,Et;if(nt!=null)if(at!==void 0){if(rt=nt,st=at,ht=rt*st,rt%1!==0||st%1!==0)throw it.NonIntegerParameter}else switch(typeof nt){case"object":{if("d"in nt&&"n"in nt)rt=nt.n,st=nt.d,"s"in nt&&(rt*=nt.s);else if(0 in nt)rt=nt[0],1 in nt&&(st=nt[1]);else throw it.InvalidParameter;ht=rt*st;break}case"number":{if(nt<0&&(ht=nt,nt=-nt),nt%1===0)rt=nt;else if(nt>0){for(nt>=1&&(mt=Math.pow(10,Math.floor(1+Math.log(nt)/Math.LN10)),nt/=mt);yt<=bt&&kt<=bt;)if(Et=(Ot+Ct)/(yt+kt),nt===Et){yt+kt<=bt?(rt=Ot+Ct,st=yt+kt):kt>yt?(rt=Ct,st=kt):(rt=Ot,st=yt);break}else nt>Et?(Ot+=Ct,yt+=kt):(Ct+=Ot,kt+=yt),yt>bt?(rt=Ct,st=kt):(rt=Ot,st=yt);rt*=mt}else(isNaN(nt)||isNaN(at))&&(st=rt=NaN);break}case"string":{if(yt=nt.match(/\d+|./g),yt===null)throw it.InvalidParameter;if(yt[Ot]==="-"?(ht=-1,Ot++):yt[Ot]==="+"&&Ot++,yt.length===Ot+1?ct=d(yt[Ot++],ht):yt[Ot+1]==="."||yt[Ot]==="."?(yt[Ot]!=="."&&(gt=d(yt[Ot++],ht)),Ot++,(Ot+1===yt.length||yt[Ot+1]==="("&&yt[Ot+3]===")"||yt[Ot+1]==="'"&&yt[Ot+3]==="'")&&(ct=d(yt[Ot],ht),dt=Math.pow(10,yt[Ot].length),Ot++),(yt[Ot]==="("&&yt[Ot+2]===")"||yt[Ot]==="'"&&yt[Ot+2]==="'")&&(ft=d(yt[Ot+1],ht),mt=Math.pow(10,yt[Ot+1].length)-1,Ot+=3)):yt[Ot+1]==="/"||yt[Ot+1]===":"?(ct=d(yt[Ot],ht),dt=d(yt[Ot+2],1),Ot+=3):yt[Ot+3]==="/"&&yt[Ot+1]===" "&&(gt=d(yt[Ot],ht),ct=d(yt[Ot+2],ht),dt=d(yt[Ot+4],1),Ot+=5),yt.length<=Ot){st=dt*mt,ht=rt=ft+st*gt+mt*ct;break}}default:throw it.InvalidParameter}if(st===0)throw it.DivisionByZero;c.s=ht<0?-1:1,c.n=Math.abs(rt),c.d=Math.abs(st)};function _(nt,at,rt){for(var st=1;at>0;nt=nt*nt%rt,at>>=1)at&1&&(st=st*nt%rt);return st}function j(nt,at){for(;at%2===0;at/=2);for(;at%5===0;at/=5);if(at===1)return 0;for(var rt=10%at,st=1;rt!==1;st++)if(rt=rt*10%at,st>o)return 0;return st}function _e(nt,at,rt){for(var st=1,ht=_(10,rt,at),gt=0;gt<300;gt++){if(st===ht)return gt;st=st*10%at,ht=ht*10%at}return 0}function tt(nt,at){if(!nt)return at;if(!at)return nt;for(;;){if(nt%=at,!nt)return at;if(at%=nt,!at)return nt}}function it(nt,at){if($(nt,at),this instanceof it)nt=tt(c.d,c.n),this.s=c.s,this.n=c.n/nt,this.d=c.d/nt;else return b(c.s*c.n,c.d)}it.DivisionByZero=new Error("Division by Zero"),it.InvalidParameter=new Error("Invalid argument"),it.NonIntegerParameter=new Error("Parameters must be integer"),it.prototype={s:1,n:0,d:1,abs:function(){return b(this.n,this.d)},neg:function(){return b(-this.s*this.n,this.d)},add:function(nt,at){return $(nt,at),b(this.s*this.n*c.d+c.s*this.d*c.n,this.d*c.d)},sub:function(nt,at){return $(nt,at),b(this.s*this.n*c.d-c.s*this.d*c.n,this.d*c.d)},mul:function(nt,at){return $(nt,at),b(this.s*c.s*this.n*c.n,this.d*c.d)},div:function(nt,at){return $(nt,at),b(this.s*c.s*this.n*c.d,this.d*c.n)},clone:function(){return b(this.s*this.n,this.d)},mod:function(nt,at){if(isNaN(this.n)||isNaN(this.d))return new it(NaN);if(nt===void 0)return b(this.s*this.n%this.d,1);if($(nt,at),c.n===0&&this.d===0)throw it.DivisionByZero;return b(this.s*(c.d*this.n)%(c.n*this.d),c.d*this.d)},gcd:function(nt,at){return $(nt,at),b(tt(c.n,this.n)*tt(c.d,this.d),c.d*this.d)},lcm:function(nt,at){return $(nt,at),c.n===0&&this.n===0?b(0,1):b(c.n*this.n,tt(c.n,this.n)*tt(c.d,this.d))},ceil:function(nt){return nt=Math.pow(10,nt||0),isNaN(this.n)||isNaN(this.d)?new it(NaN):b(Math.ceil(nt*this.s*this.n/this.d),nt)},floor:function(nt){return nt=Math.pow(10,nt||0),isNaN(this.n)||isNaN(this.d)?new it(NaN):b(Math.floor(nt*this.s*this.n/this.d),nt)},round:function(nt){return nt=Math.pow(10,nt||0),isNaN(this.n)||isNaN(this.d)?new it(NaN):b(Math.round(nt*this.s*this.n/this.d),nt)},inverse:function(){return b(this.s*this.d,this.n)},pow:function(nt,at){if($(nt,at),c.d===1)return c.s<0?b(Math.pow(this.s*this.d,c.n),Math.pow(this.n,c.n)):b(Math.pow(this.s*this.n,c.n),Math.pow(this.d,c.n));if(this.s<0)return null;var rt=k(this.n),st=k(this.d),ht=1,gt=1;for(var ct in rt)if(ct!=="1"){if(ct==="0"){ht=0;break}if(rt[ct]*=c.n,rt[ct]%c.d===0)rt[ct]/=c.d;else return null;ht*=Math.pow(ct,rt[ct])}for(var ct in st)if(ct!=="1"){if(st[ct]*=c.n,st[ct]%c.d===0)st[ct]/=c.d;else return null;gt*=Math.pow(ct,st[ct])}return c.s<0?b(gt,ht):b(ht,gt)},equals:function(nt,at){return $(nt,at),this.s*this.n*c.d===c.s*c.n*this.d},compare:function(nt,at){$(nt,at);var rt=this.s*this.n*c.d-c.s*c.n*this.d;return(0<rt)-(rt<0)},simplify:function(nt){if(isNaN(this.n)||isNaN(this.d))return this;nt=nt||.001;for(var at=this.abs(),rt=at.toContinued(),st=1;st<rt.length;st++){for(var ht=b(rt[st-1],1),gt=st-2;gt>=0;gt--)ht=ht.inverse().add(rt[gt]);if(ht.sub(at).abs().valueOf()<nt)return ht.mul(this.s)}return this},divisible:function(nt,at){return $(nt,at),!(!(c.n*this.d)||this.n*c.d%(c.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(nt){var at,rt="",st=this.n,ht=this.d;return this.s<0&&(rt+="-"),ht===1?rt+=st:(nt&&(at=Math.floor(st/ht))>0&&(rt+=at,rt+=" ",st%=ht),rt+=st,rt+="/",rt+=ht),rt},toLatex:function(nt){var at,rt="",st=this.n,ht=this.d;return this.s<0&&(rt+="-"),ht===1?rt+=st:(nt&&(at=Math.floor(st/ht))>0&&(rt+=at,st%=ht),rt+="\\frac{",rt+=st,rt+="}{",rt+=ht,rt+="}"),rt},toContinued:function(){var nt,at=this.n,rt=this.d,st=[];if(isNaN(at)||isNaN(rt))return st;do st.push(Math.floor(at/rt)),nt=at%rt,at=rt,rt=nt;while(at!==1);return st},toString:function(nt){var at=this.n,rt=this.d;if(isNaN(at)||isNaN(rt))return"NaN";nt=nt||15;var st=j(at,rt),ht=_e(at,rt,st),gt=this.s<0?"-":"";if(gt+=at/rt|0,at%=rt,at*=10,at&&(gt+="."),st){for(var ct=ht;ct--;)gt+=at/rt|0,at%=rt,at*=10;gt+="(";for(var ct=st;ct--;)gt+=at/rt|0,at%=rt,at*=10;gt+=")"}else for(var ct=nt;at&&ct--;)gt+=at/rt|0,at%=rt,at*=10;return gt}},Object.defineProperty(it,"__esModule",{value:!0}),it.default=it,it.Fraction=it,s.exports=it})()})(fraction$1);var Fraction=getDefaultExportFromCjs(fraction$1.exports);Fraction.prototype.sam=function(){return this.floor()};Fraction.prototype.nextSam=function(){return this.sam().add(1)};Fraction.prototype.wholeCycle=function(){return new TimeSpan$1(this.sam(),this.nextSam())};Fraction.prototype.cyclePos=function(){return this.sub(this.sam())};Fraction.prototype.lt=function(s){return this.compare(s)<0};Fraction.prototype.gt=function(s){return this.compare(s)>0};Fraction.prototype.lte=function(s){return this.compare(s)<=0};Fraction.prototype.gte=function(s){return this.compare(s)>=0};Fraction.prototype.eq=function(s){return this.compare(s)==0};Fraction.prototype.max=function(s){return this.gt(s)?this:s};Fraction.prototype.min=function(s){return this.lt(s)?this:s};Fraction.prototype.show=function(){return this.s*this.n+"/"+this.d};Fraction.prototype.or=function(s){return this.eq(0)?s:this};const fraction=s=>Fraction(s),gcd=(...s)=>s.reduce((e,a)=>e.gcd(a),fraction(1));fraction._original=Fraction;class TimeSpan$1{constructor(e,a){this.begin=fraction(e),this.end=fraction(a)}get spanCycles(){const e=[];var a=this.begin;const o=this.end,c=o.sam();if(a.equals(o))return[new TimeSpan$1(a,o)];for(;o.gt(a);){if(a.sam().equals(c)){e.push(new TimeSpan$1(a,this.end));break}const d=a.nextSam();e.push(new TimeSpan$1(a,d)),a=d}return e}get duration(){return this.end.sub(this.begin)}cycleArc(){const e=this.begin.cyclePos(),a=e.add(this.duration);return new TimeSpan$1(e,a)}withTime(e){return new TimeSpan$1(e(this.begin),e(this.end))}withEnd(e){return new TimeSpan$1(this.begin,e(this.end))}withCycle(e){const a=this.begin.sam(),o=a.add(e(this.begin.sub(a))),c=a.add(e(this.end.sub(a)));return new TimeSpan$1(o,c)}intersection(e){const a=this.begin.max(e.begin),o=this.end.min(e.end);if(!a.gt(o)&&!(a.equals(o)&&(a.equals(this.end)&&this.begin.lt(this.end)||a.equals(e.end)&&e.begin.lt(e.end))))return new TimeSpan$1(a,o)}intersection_e(e){const a=this.intersection(e);if(a==null)throw"TimeSpans do not intersect";return a}midpoint(){return this.begin.add(this.duration.div(fraction(2)))}equals(e){return this.begin.equals(e.begin)&&this.end.equals(e.end)}show(){return this.begin.show()+" -> "+this.end.show()}}class Hap{constructor(e,a,o,c={},d=!1){this.whole=e,this.part=a,this.value=o,this.context=c,this.stateful=d,d&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){return this.whole.end.sub(this.whole.begin)}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(e){const a=this.whole?e(this.whole):void 0;return new Hap(a,e(this.part),this.value,this.context)}withValue(e){return new Hap(this.whole,this.part,e(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}resolveState(e){if(this.stateful&&this.hasOnset()){console.log("stateful");const a=this.value,[o,c]=a(e);return[o,new Hap(this.whole,this.part,c,this.context,!1)]}return[e,this]}spanEquals(e){return this.whole==null&&e.whole==null||this.whole.equals(e.whole)}equals(e){return this.spanEquals(e)&&this.part.equals(e.part)&&this.value===e.value}show(){return"("+(this.whole==null?"~":this.whole.show())+", "+this.part.show()+", "+this.value+")"}showWhole(e=!1){return`${this.whole==null?"~":this.whole.show()}: ${typeof this.value=="object"?e?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value}`}combineContext(e){const a=this;return nn(Jt(Jt({},a.context),e.context),{locations:(a.context.locations||[]).concat(e.context.locations||[])})}setContext(e){return new Hap(this.whole,this.part,this.value,e)}}class State$1{constructor(e,a={}){this.span=e,this.controls=a}setSpan(e){return new State$1(e,this.controls)}withSpan(e){return this.setSpan(e(this.span))}setControls(e){return new State$1(this.span,e)}}const isNote=s=>/^[a-gA-G][#bs]*[0-9]$/.test(s),tokenizeNote=s=>{var c;if(typeof s!="string")return[];const[e,a="",o]=((c=s.match(/^([a-gA-G])([#bs]*)([0-9])?$/))==null?void 0:c.slice(1))||[];return e?[e,a,o?Number(o):void 0]:[]},toMidi$1=s=>{const[e,a,o]=tokenizeNote(s);if(!e)throw new Error('not a note: "'+s+'"');const c={c:0,d:2,e:4,f:5,g:7,a:9,b:11}[e.toLowerCase()],d=(a==null?void 0:a.split("").reduce((b,k)=>b+{"#":1,b:-1,s:1}[k],0))||0;return(Number(o)+1)*12+c+d},fromMidi=s=>Math.pow(2,(s-69)/12)*440,getFreq=s=>fromMidi(typeof s=="number"?s:toMidi$1(s)),midi2note=s=>{const e=Math.floor(s/12)-1;return["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"][s%12]+e},mod=(s,e)=>(s%e+e)%e,getPlayableNoteValue=s=>{let{value:e,context:a}=s,o=e;if(typeof o=="object"&&!Array.isArray(o)&&(o=o.note||o.n||o.value,o===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(e)}`);if(typeof o=="number"&&a.type!=="frequency")o=fromMidi(s.value);else if(typeof o=="number"&&a.type==="frequency")o=s.value;else if(typeof o!="string"||!isNote(o))throw new Error("not a note: "+JSON.stringify(o));return o},getFrequency=s=>{let{value:e,context:a}=s;if(typeof e=="object")return e.freq?e.freq:getFreq(e.note||e.n||e.value);if(typeof e=="number"&&a.type!=="frequency")e=fromMidi(s.value);else if(typeof e=="string"&&isNote(e))e=fromMidi(toMidi$1(s.value));else if(typeof e!="number")throw new Error("not a note or frequency: "+e);return e},rotate=(s,e)=>s.slice(e).concat(s.slice(0,e)),pipe=(...s)=>s.reduce((e,a)=>(...o)=>e(a(...o)),e=>e),compose=(...s)=>pipe(...s.reverse()),removeUndefineds=s=>s.filter(e=>e!=null),flatten$1=s=>[].concat(...s),id$1=s=>s,constant=(s,e)=>s,listRange=(s,e)=>Array.from({length:e-s+1},(a,o)=>o+s);function curry(s,e){const a=function o(...c){if(c.length>=s.length)return s.apply(this,c);{const d=function(...b){return o.apply(this,c.concat(b))};return e&&e(d,c),d}};return e&&e(a,[]),a}function parseNumeral(s){const e=Number(s);if(!isNaN(e))return e;if(isNote(s))return toMidi$1(s);throw new Error(`cannot parse as numeral: "${s}"`)}function mapArgs(s,e){return(...a)=>s(...a.map(e))}function numeralArgs(s){return mapArgs(s,parseNumeral)}function parseFractional(s){const e=Number(s);if(!isNaN(e))return e;const a={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[s];if(typeof a!="undefined")return a;throw new Error(`cannot parse as fractional: "${s}"`)}const fractionalArgs=s=>mapArgs(s,parseFractional);function unionWithObj(s,e,a){const o=Object.keys(s).filter(c=>Object.keys(e).includes(c));return Object.assign({},s,e,Object.fromEntries(o.map(c=>[c,a(s[c],e[c])])))}curry((s,e)=>s*e);curry((s,e)=>e.map(s));function drawLine(s,e=60){let a=0,o=fraction(0),c=[""],d="";for(;c[0].length<e;){const b=s.queryArc(a,a+1),k=b.filter(j=>j.hasOnset()).map(j=>j.duration),$=gcd(...k),_=$.inverse();c=c.map(j=>j+"|"),d+="|";for(let j=0;j<_;j++){const[_e,tt]=[o,o.add($)],it=b.filter(at=>at.whole.begin.lte(_e)&&at.whole.end.gte(tt)),nt=it.length-c.length;nt>0&&(c=c.concat(Array(nt).fill(d))),c=c.map((at,rt)=>{const st=it[rt];if(st){const gt=st.whole.begin.eq(_e)?""+st.value:"-";return at+gt}return at+"."}),d+=".",o=o.add($)}a++}return c.join(`
`)}const logKey="strudel.log";function logger(s,e,a={}){console.log(`%c${s}`,"background-color: black;color:white;border-radius:15px"),typeof CustomEvent!="undefined"&&document.dispatchEvent(new CustomEvent(logKey,{detail:{message:s,type:e,data:a}}))}logger.key=logKey;let stringParser;const setStringParser=s=>stringParser=s;class Pattern$1{constructor(e){cn(this,"_Pattern",!0);this.query=e}withValue(e){return new Pattern$1(a=>this.query(a).map(o=>o.withValue(e)))}fmap(e){return this.withValue(e)}appWhole(e,a){const o=this,c=function(d){const b=o.query(d),k=a.query(d),$=function(_,j){const _e=_.part.intersection(j.part);if(_e!=null)return new Hap(e(_.whole,j.whole),_e,_.value(j.value),j.combineContext(_))};return flatten$1(b.map(_=>removeUndefineds(k.map(j=>$(_,j)))))};return new Pattern$1(c)}appBoth(e){const a=function(o,c){if(!(o==null||c==null))return o.intersection_e(c)};return this.appWhole(a,e)}appLeft(e){const a=this,o=function(c){const d=[];for(const b of a.query(c)){const k=e.query(c.setSpan(b.wholeOrPart()));for(const $ of k){const _=b.whole,j=b.part.intersection($.part);if(j){const _e=b.value($.value),tt=$.combineContext(b),it=new Hap(_,j,_e,tt);d.push(it)}}}return d};return new Pattern$1(o)}appRight(e){const a=this,o=function(c){const d=[];for(const b of e.query(c)){const k=a.query(c.setSpan(b.wholeOrPart()));for(const $ of k){const _=b.whole,j=$.part.intersection(b.part);if(j){const _e=$.value(b.value),tt=b.combineContext($),it=new Hap(_,j,_e,tt);d.push(it)}}}return d};return new Pattern$1(o)}bindWhole(e,a){const o=this,c=function(d){const b=function($,_){return new Hap(e($.whole,_.whole),_.part,_.value,Object.assign({},$.context,_.context,{locations:($.context.locations||[]).concat(_.context.locations||[])}))},k=function($){return a($.value).query(d.setSpan($.part)).map(_=>b($,_))};return flatten$1(o.query(d).map($=>k($)))};return new Pattern$1(c)}bind(e){const a=function(o,c){if(!(o==null||c==null))return o.intersection_e(c)};return this.bindWhole(a,e)}join(){return this.bind(id$1)}outerBind(e){return this.bindWhole((a,o)=>a,e)}outerJoin(){return this.outerBind(id$1)}innerBind(e){return this.bindWhole((a,o)=>o,e)}innerJoin(){return this.innerBind(id$1)}trigJoin(e=!1){const a=this;return new Pattern$1(o=>a.discreteOnly().query(o).map(c=>c.value.late(e?c.whole.begin:c.whole.begin.cyclePos()).query(o).map(d=>new Hap(d.whole?d.whole.intersection(c.whole):void 0,d.part.intersection(c.part),d.value).setContext(c.combineContext(d))).filter(d=>d.part)).flat())}trigzeroJoin(){return this.trigJoin(!0)}squeezeJoin(){const e=this;function a(o){const c=e.discreteOnly().query(o);function d(k){const _=k.value._focusSpan(k.wholeOrPart()).query(o.setSpan(k.part));function j(_e,tt){let it;if(tt.whole&&_e.whole&&(it=tt.whole.intersection(_e.whole),!it))return;const nt=tt.part.intersection(_e.part);if(!nt)return;const at=tt.combineContext(_e);return new Hap(it,nt,tt.value,at)}return _.map(_e=>j(k,_e))}return flatten$1(c.map(d)).filter(k=>k)}return new Pattern$1(a)}squeezeBind(e){return this.fmap(e).squeezeJoin()}queryArc(e,a){return this.query(new State$1(new TimeSpan$1(e,a)))}splitQueries(){const e=this,a=o=>flatten$1(o.span.spanCycles.map(c=>e.query(o.setSpan(c))));return new Pattern$1(a)}withQuerySpan(e){return new Pattern$1(a=>this.query(a.withSpan(e)))}withQuerySpanMaybe(e){const a=this;return new Pattern$1(o=>{const c=o.withSpan(e);return c.span?a.query(c):[]})}withQueryTime(e){return new Pattern$1(a=>this.query(a.withSpan(o=>o.withTime(e))))}withHapSpan(e){return new Pattern$1(a=>this.query(a).map(o=>o.withSpan(e)))}withHapTime(e){return this.withHapSpan(a=>a.withTime(e))}withHaps(e){return new Pattern$1(a=>e(this.query(a)))}withHap(e){return this.withHaps(a=>a.map(e))}setContext(e){return this.withHap(a=>a.setContext(e))}withContext(e){return this.withHap(a=>a.setContext(e(a.context)))}stripContext(){return this.withHap(e=>e.setContext({}))}withLocation(e,a){const o={start:{line:e[0],column:e[1],offset:e[2]},end:{line:a[0],column:a[1],offset:a[2]}};return this.withContext(c=>{const d=(c.locations||[]).concat([o]);return nn(Jt({},c),{locations:d})})}withMiniLocation(e,a){const o={start:{line:e[0],column:e[1],offset:e[2]},end:{line:a[0],column:a[1],offset:a[2]}};return this.withContext(c=>{let d=c.locations||[];return d=d.map(({start:b,end:k})=>{const $=b.line===1?o.start.column:0;return{start:nn(Jt({},b),{line:b.line-1+(o.start.line-1)+1,column:b.column-1+$}),end:nn(Jt({},k),{line:k.line-1+(o.start.line-1)+1,column:k.column-1+$})}}),nn(Jt({},c),{locations:d})})}filterHaps(e){return new Pattern$1(a=>this.query(a).filter(e))}filterValues(e){return new Pattern$1(a=>this.query(a).filter(o=>e(o.value)))}removeUndefineds(){return this.filterValues(e=>e!=null)}onsetsOnly(){return this.filterHaps(e=>e.hasOnset())}discreteOnly(){return this.filterHaps(e=>e.whole)}firstCycle(e=!1){var a=this;return e||(a=a.stripContext()),a.query(new State$1(new TimeSpan$1(fraction(0),fraction(1))))}get firstCycleValues(){return this.firstCycle().map(e=>e.value)}get showFirstCycle(){return this.firstCycle().map(e=>`${e.value}: ${e.whole.begin.toFraction()} - ${e.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(e=>e.sort((a,o)=>a.part.begin.sub(o.part.begin).or(a.part.end.sub(o.part.end)).or(a.whole.begin.sub(o.whole.begin).or(a.whole.end.sub(o.whole.end)))))}patternify(e,a){const o=this;return function(...c){c=c.map(b=>isPattern(b)?b.fmap(k=>k.value||k):b);const d=sequence(...c);return e(d.fmap(b=>a.call(o,b)))}}asNumber(){return this.fmap(parseNumeral)}_opIn(e,a){return this.fmap(a).appLeft(reify$1(e))}_opOut(e,a){return this.fmap(a).appRight(reify$1(e))}_opMix(e,a){return this.fmap(a).appBoth(reify$1(e))}_opSqueeze(e,a){const o=reify$1(e);return this.fmap(c=>o.fmap(d=>a(c)(d))).squeezeJoin()}_opSqueezeOut(e,a){const o=this;return reify$1(e).fmap(d=>o.fmap(b=>a(b)(d))).squeezeJoin()}_opTrig(e,a){return reify$1(e).fmap(c=>this.fmap(d=>a(d)(c))).trigJoin()}_opTrigzero(e,a){return reify$1(e).fmap(c=>this.fmap(d=>a(d)(c))).trigzeroJoin()}round(){return this.asNumber().fmap(e=>Math.round(e))}floor(){return this.asNumber().fmap(e=>Math.floor(e))}ceil(){return this.asNumber().fmap(e=>Math.ceil(e))}toBipolar(){return this.fmap(e=>e*2-1)}fromBipolar(){return this.fmap(e=>(e+1)/2)}_range(e,a){return this.mul(a-e).add(e)}_rangex(e,a){return this._range(Math.log(e),Math.log(a)).fmap(Math.exp)}_range2(e,a){return this.fromBipolar()._range(e,a)}_apply(e){return e(this)}layer(...e){return stack(...e.map(a=>a(this)))}_ply(e){return this.fmap(a=>pure(a)._fast(e)).squeezeJoin()}_fastGap(e){const a=function(c){const d=c.begin.sam(),b=c.begin.sub(d).mul(e).min(1),k=c.end.sub(d).mul(e).min(1);if(!(b>=1))return new TimeSpan$1(d.add(b),d.add(k))},o=function(c){const d=c.part.begin,b=c.part.end,k=d.sam(),$=d.sub(k).div(e).min(1),_=b.sub(k).div(e).min(1),j=new TimeSpan$1(k.add($),k.add(_)),_e=c.whole?new TimeSpan$1(j.begin.sub(d.sub(c.whole.begin).div(e)),j.end.add(c.whole.end.sub(b).div(e))):void 0;return new Hap(_e,j,c.value,c.context)};return this.withQuerySpanMaybe(a).withHap(o).splitQueries()}_compress(e,a){return e.gt(a)||e.gt(1)||a.gt(1)||e.lt(0)||a.lt(0)?silence:this._fastGap(fraction(1).div(a.sub(e)))._late(e)}_compressSpan(e){return this._compress(e.begin,e.end)}_focus(e,a){return this._fast(fraction(1).div(a.sub(e))).late(e.cyclePos())}_focusSpan(e){return this._focus(e.begin,e.end)}_fast(e){return e=fraction(e),this.withQueryTime(o=>o.mul(e)).withHapTime(o=>o.div(e))}_slow(e){return this._fast(fraction(1).div(e))}_inside(e,a){return a(this._slow(e))._fast(e)}_outside(e,a){return a(this._fast(e))._slow(e)}_cpm(e){return this._fast(e/60)}_early(e){return e=fraction(e),this.withQueryTime(a=>a.add(e)).withHapTime(a=>a.sub(e))}_late(e){return e=fraction(e),this._early(fraction(0).sub(e))}_zoom(e,a){a=fraction(a),e=fraction(e);const o=a.sub(e);return this.withQuerySpan(c=>c.withCycle(d=>d.mul(o).add(e))).withHapSpan(c=>c.withCycle(d=>d.sub(e).div(o))).splitQueries()}_zoomArc(e){return this.zoom(e.begin,e.end)}_linger(e){return e==0?silence:e<0?this._zoom(e.add(1),1)._slow(e):this._zoom(0,e)._slow(e)}_segment(e){return this.struct(pure(!0)._fast(e))}invert(){return this.fmap(e=>!e)}inv(){return this.invert()}when(e,a){const o=e.filterValues(id$1),c=e.filterValues(k=>!k),d=o.fmap(k=>$=>$).appRight(a(this)),b=c.fmap(k=>$=>$).appRight(this);return stack(d,b)}off(e,a){return stack(this,a(this.late(e)))}firstOf(e,a){const o=this,c=Array(e-1).fill(o);return c.unshift(a(o)),slowcatPrime(...c)}lastOf(e,a){const o=this,c=Array(e-1).fill(o);return c.push(a(o)),slowcatPrime(...c)}every(e,a){return this.firstOf(e,a)}brak(){return this.when(slowcat(!1,!0),e=>fastcat(e,silence)._late(.25))}rev(){const e=this,a=function(o){const c=o.span,d=c.begin.sam(),b=c.begin.nextSam(),k=function(_){const j=_.withTime(tt=>d.add(b.sub(tt))),_e=j.begin;return j.begin=j.end,j.end=_e,j};return e.query(o.setSpan(k(c))).map(_=>_.withSpan(k))};return new Pattern$1(a).splitQueries()}palindrome(){return this.every(2,rev)}juxBy(e,a){e/=2;const o=function(b,k,$){return k in b?b[k]:$},c=this.withValue(b=>Object.assign({},b,{pan:o(b,"pan",.5)-e})),d=this.withValue(b=>Object.assign({},b,{pan:o(b,"pan",.5)+e}));return stack(c,a(d))}_jux(e){return this.juxBy(1,e)}stack(...e){return stack(this,...e)}sequence(...e){return sequence(this,...e)}seq(...e){return sequence(this,...e)}cat(...e){return cat(this,...e)}fastcat(...e){return fastcat(this,...e)}slowcat(...e){return slowcat(this,...e)}superimpose(...e){return this.stack(...e.map(a=>a(this)))}stutWith(e,a,o){return stack(...listRange(0,e-1).map(c=>o(this.late(fraction(a).mul(c)),c)))}stut(e,a,o){return this.stutWith(e,o,(c,d)=>c.velocity(Math.pow(a,d)))}_echoWith(e,a,o){return stack(...listRange(0,e-1).map(c=>o(this.late(fraction(a).mul(c)),c)))}_echo(e,a,o){return this._echoWith(e,a,(c,d)=>c.velocity(Math.pow(o,d)))}_iter(e,a=!1){return e=fraction(e),slowcat(...listRange(0,e.sub(1)).map(o=>a?this.late(fraction(o).div(e)):this.early(fraction(o).div(e))))}_iterBack(e){return this._iter(e,!0)}_chunk(e,a,o=!1){const c=Array(e-1).fill(!1);c.unshift(!0);const d=sequence(...c)._iter(e,o);return this.when(d,a)}_chunkBack(e,a){return this._chunk(e,a,!0)}_bypass(e){return e=Boolean(parseInt(e)),e?silence:this}_chop(e){const o=Array.from({length:e},(d,b)=>b).map(d=>({begin:d/e,end:(d+1)/e})),c=function(d){return sequence(o.map(b=>Object.assign({},d,b)))};return this.squeezeBind(c)}_striate(e){const o=Array.from({length:e},(d,b)=>b).map(d=>({begin:d/e,end:(d+1)/e})),c=slowcat(...o);return this.set(c)._fast(e)}_loopAt(e,a=1){return this.speed(1/e*a).unit("c").slow(e)}_color(e){return this.withContext(a=>nn(Jt({},a),{color:e}))}log(){return this.withHap(e=>{var a;return e.setContext(nn(Jt({},e.context),{logs:(((a=e.context)==null?void 0:a.logs)||[]).concat([e.show()])}))})}_velocity(e){return this.withContext(a=>nn(Jt({},a),{velocity:(a.velocity||1)*e}))}onTrigger(e,a=!0){return this.withHap(o=>o.setContext(nn(Jt({},o.context),{onTrigger:(...c)=>{!a&&o.context.onTrigger&&o.context.onTrigger(...c),e(...c)},dominantTrigger:a})))}log(e=(a,o)=>`[hap] ${o.showWhole(!0)}`){return this.onTrigger((...a)=>logger(e(...a)),!1)}logValues(e=id$1){return this.log((a,o)=>e(o.value))}drawLine(){return console.log(drawLine(this)),this}hush(){return silence}_duration(e){return this.withHapSpan(a=>new TimeSpan$1(a.begin,a.begin.add(e)))}_legato(e){return this.withHapSpan(a=>new TimeSpan$1(a.begin,a.begin.add(a.end.sub(a.begin).mul(e))))}}function _composeOp(s,e,a){function o(c){return c instanceof Object&&!(c instanceof Function)}return o(s)||o(e)?(o(s)||(s={value:s}),o(e)||(e={value:e}),unionWithObj(s,e,a)):a(s,e)}(function(){const s={set:[(a,o)=>o],keep:[(a,o)=>a],keepif:[(a,o)=>o?a:void 0],add:[numeralArgs((a,o)=>a+o)],sub:[numeralArgs((a,o)=>a-o)],mul:[numeralArgs((a,o)=>a*o)],div:[numeralArgs((a,o)=>a/o)],mod:[numeralArgs(mod)],pow:[numeralArgs(Math.pow)],_and:[numeralArgs((a,o)=>a&o)],_or:[numeralArgs((a,o)=>a|o)],_xor:[numeralArgs((a,o)=>a^o)],_lshift:[numeralArgs((a,o)=>a<<o)],_rshift:[numeralArgs((a,o)=>a>>o)],lt:[(a,o)=>a<o],gt:[(a,o)=>a>o],lte:[(a,o)=>a<=o],gte:[(a,o)=>a>=o],eq:[(a,o)=>a==o],eqt:[(a,o)=>a===o],ne:[(a,o)=>a!=o],net:[(a,o)=>a!==o],and:[(a,o)=>a&&o],or:[(a,o)=>a||o],func:[(a,o)=>o(a)]},e=["In","Out","Mix","Squeeze","SqueezeOut","Trig","Trigzero"];for(const[a,[o,c]]of Object.entries(s))for(const d of e)Pattern$1.prototype[a+d]=function(...b){var k=this;b=sequence(b),c&&(k=c(k),b=c(b));var $;return a==="keepif"?($=k["_op"+d](b,_=>j=>o(_,j)),$=$.removeUndefineds()):$=k["_op"+d](b,_=>j=>_composeOp(_,j,o)),$},d==="Squeeze"&&(Pattern$1.prototype[a+"SqueezeIn"]=Pattern$1.prototype[a+d]),d==="In"?Object.defineProperty(Pattern$1.prototype,a,{get:function(){const b=this,k=(...$)=>b[a+"In"](...$);for(const $ of e)k[$.toLowerCase()]=(..._)=>b[a+$](..._);return k}}):a==="set"&&(Pattern$1.prototype[d.toLowerCase()]=Pattern$1.prototype[a+d]);Pattern$1.prototype.struct=Pattern$1.prototype.keepifOut,Pattern$1.prototype.structAll=Pattern$1.prototype.keepOut,Pattern$1.prototype.mask=Pattern$1.prototype.keepifIn,Pattern$1.prototype.maskAll=Pattern$1.prototype.keepIn,Pattern$1.prototype.reset=Pattern$1.prototype.keepifTrig,Pattern$1.prototype.resetAll=Pattern$1.prototype.keepTrig,Pattern$1.prototype.restart=Pattern$1.prototype.keepifTrigzero,Pattern$1.prototype.restartAll=Pattern$1.prototype.keepTrigzero})();Pattern$1.prototype.patternified=["apply","chop","color","cpm","duration","early","fast","iter","iterBack","jux","late","legato","linger","ply","segment","striate","slow","velocity"];const polyrhythm=stack,pr=stack;Pattern$1.prototype.factories={pure,stack,slowcat,fastcat,cat,timeCat,sequence,seq,polymeter,pm,polyrhythm,pr};const silence=new Pattern$1(s=>[]);function pure(s){function e(a){return a.span.spanCycles.map(o=>new Hap(fraction(o.begin).wholeCycle(),o,s))}return new Pattern$1(e)}function isPattern(s){const e=s instanceof Pattern$1||(s==null?void 0:s._Pattern);return!s instanceof Pattern$1&&console.warn(`Found Pattern that fails "instanceof Pattern" check.
      This may happen if you are using multiple versions of @strudel.cycles/core. 
      Please check by running "npm ls @strudel.cycles/core".`),e}function reify$1(s){return isPattern(s)?s:stringParser&&typeof s=="string"?stringParser(s):pure(s)}function stack(...s){s=s.map(a=>Array.isArray(a)?sequence(...a):reify$1(a));const e=a=>flatten$1(s.map(o=>o.query(a)));return new Pattern$1(e)}function slowcat(...s){s=s.map(a=>Array.isArray(a)?sequence(...a):reify$1(a));const e=function(a){const o=a.span,c=mod(o.begin.sam(),s.length),d=s[c];if(!d)return[];const b=o.begin.floor().sub(o.begin.div(s.length).floor());return d.withHapTime(k=>k.add(b)).query(a.setSpan(o.withTime(k=>k.sub(b))))};return new Pattern$1(e).splitQueries()}function slowcatPrime(...s){s=s.map(reify$1);const e=function(a){const o=Math.floor(a.span.begin)%s.length,c=s[o];return(c==null?void 0:c.query(a))||[]};return new Pattern$1(e).splitQueries()}function fastcat(...s){return slowcat(...s)._fast(s.length)}function cat(...s){return slowcat(...s)}function timeCat(...s){const e=s.map(c=>c[0]).reduce((c,d)=>c.add(d),fraction(0));let a=fraction(0);const o=[];for(const[c,d]of s){const b=a.add(c);o.push(reify$1(d)._compress(a.div(e),b.div(e))),a=b}return stack(...o)}function sequence(...s){return fastcat(...s)}function seq(...s){return fastcat(...s)}function _sequenceCount(s){return Array.isArray(s)?s.length==0?[silence,0]:s.length==1?_sequenceCount(s[0]):[fastcat(...s.map(e=>_sequenceCount(e)[0])),s.length]:[reify$1(s),1]}function polymeterSteps(s,...e){const a=e.map(c=>_sequenceCount(c));if(a.length==0)return silence;s==0&&(s=a[0][1]);const o=[];for(const c of a)c[1]==0&&next,s==c[1]?o.push(c[0]):o.push(c[0]._fast(fraction(s).div(fraction(c[1]))));return stack(...o)}function polymeter(...s){return polymeterSteps(0,...s)}function pm(...s){polymeter(...s)}const add$1=curry((s,e)=>e.add(s)),chop=curry((s,e)=>e.chop(s)),chunk=curry((s,e)=>e.chunk(s)),chunkBack=curry((s,e)=>e.chunkBack(s)),div=curry((s,e)=>e.div(s)),early=curry((s,e)=>e.early(s)),echo=curry((s,e,a,o)=>o.echo(s,e,a)),every=curry((s,e,a)=>a.every(s,e)),fast=curry((s,e)=>e.fast(s)),inv=s=>s.inv(),invert=s=>s.invert(),iter=curry((s,e)=>e.iter(s)),iterBack=curry((s,e)=>e.iterBack(s)),jux=curry((s,e)=>e.jux(s)),juxBy=curry((s,e,a)=>a.juxBy(s,e)),late=curry((s,e)=>e.late(s)),linger=curry((s,e)=>e.linger(s)),mask=curry((s,e)=>e.mask(s)),mul=curry((s,e)=>e.mul(s)),off=curry((s,e,a)=>a.off(s,e)),ply=curry((s,e)=>e.ply(s)),range=curry((s,e,a)=>a.range(s,e)),rangex=curry((s,e,a)=>a.rangex(s,e)),range2=curry((s,e,a)=>a.range2(s,e)),rev=s=>s.rev(),slow=curry((s,e)=>e.slow(s)),struct=curry((s,e)=>e.struct(s)),sub=curry((s,e)=>e.sub(s)),superimpose=curry((s,e)=>e.superimpose(...s)),set=curry((s,e)=>e.set(s)),when=curry((s,e,a)=>a.when(s,e));Pattern$1.prototype.composable={fast,slow,early,late,superimpose};function makeComposable(s){return Object.entries(Pattern$1.prototype.composable).forEach(([e,a])=>{s[e]=(...o)=>{const c=compose(s,a(...o));return makeComposable(c)}}),s}const patternify2=s=>(e,a,o)=>e.fmap(c=>d=>s.call(o,c,d)).appLeft(a).innerJoin(),patternify3=s=>(e,a,o,c)=>e.fmap(d=>b=>k=>s.call(c,d,b,k)).appLeft(a).appLeft(o).innerJoin(),patternify4=s=>(e,a,o,c,d)=>e.fmap(b=>k=>$=>_=>s.call(d,b,k,$,_)).appLeft(a).appLeft(o).appLeft(c).innerJoin();Pattern$1.prototype.echo=function(...s){return s=s.map(reify$1),patternify3(Pattern$1.prototype._echo)(...s,this)};Pattern$1.prototype.echoWith=function(...s){return s=s.map(reify$1),patternify3(Pattern$1.prototype._echoWith)(...s,this)};Pattern$1.prototype.chunk=function(...s){return s=s.map(reify$1),patternify2(Pattern$1.prototype._chunk)(...s,this)};Pattern$1.prototype.chunkBack=function(...s){return s=s.map(reify$1),patternify2(Pattern$1.prototype._chunkBack)(...s,this)};Pattern$1.prototype.loopAt=function(...s){return s=s.map(reify$1),patternify2(Pattern$1.prototype._loopAt)(...s,this)};Pattern$1.prototype.zoom=function(...s){return s=s.map(reify$1),patternify2(Pattern$1.prototype._zoom)(...s,this)};Pattern$1.prototype.compress=function(...s){return s=s.map(reify$1),patternify2(Pattern$1.prototype._compress)(...s,this)};Pattern$1.prototype.outside=function(...s){return s=s.map(reify$1),patternify2(Pattern$1.prototype._outside)(...s,this)};Pattern$1.prototype.inside=function(...s){return s=s.map(reify$1),patternify2(Pattern$1.prototype._inside)(...s,this)};Pattern$1.prototype.range=function(...s){return s=s.map(reify$1),patternify2(Pattern$1.prototype._range)(...s,this)};Pattern$1.prototype.rangex=function(...s){return s=s.map(reify$1),patternify2(Pattern$1.prototype._rangex)(...s,this)};Pattern$1.prototype.range2=function(...s){return s=s.map(reify$1),patternify2(Pattern$1.prototype._range2)(...s,this)};Pattern$1.prototype.bootstrap=function(){const s=Object.fromEntries(Object.entries(Pattern$1.prototype.composable).map(([e,a])=>(Pattern$1.prototype[e],[e,curry(a,makeComposable)])));return this.patternified.forEach(e=>{Pattern$1.prototype[e]=function(...a){return this.patternify(o=>o.innerJoin(),Pattern$1.prototype["_"+e])(...a)}}),s};Pattern$1.prototype.define=(s,e,a={})=>{a.composable&&(Pattern$1.prototype.composable[s]=e),a.patternified&&(Pattern$1.prototype.patternified=Pattern$1.prototype.patternified.concat([s])),Pattern$1.prototype.bootstrap()};Pattern$1.prototype.define("hush",s=>s.hush(),{patternified:!1,composable:!0});Pattern$1.prototype.define("bypass",s=>s.bypass(on),{patternified:!0,composable:!0});const controls={},generic_params=[["s","s","sound"],["f","n","The note or sample number to choose for a synth or sampleset"],["f","note","The note or pitch to play a sound or synth with"],["f","accelerate","a pattern of numbers that speed up (or slow down) samples while they play."],["f","gain","a pattern of numbers that specify volume. Values less than 1 make the sound quieter. Values greater than 1 make the sound louder. For the linear equivalent, see @amp@."],["f","amp","like @gain@, but linear."],["f","attack","a pattern of numbers to specify the attack time (in seconds) of an envelope applied to each sample."],["f","bank","selects sound bank to use"],["f","decay",""],["f","sustain",""],["f","release","a pattern of numbers to specify the release time (in seconds) of an envelope applied to each sample."],["f","hold","a pattern of numbers to specify the hold time (in seconds) of an envelope applied to each sample. Only takes effect if `attack` and `release` are also specified."],["f","bandf","A pattern of numbers from 0 to 1. Sets the center frequency of the band-pass filter."],["f","bandq","a pattern of anumbers from 0 to 1. Sets the q-factor of the band-pass filter."],["f","begin","a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. `0.25` to cut off the first quarter from each sample."],["f","end","the same as `begin`, but cuts the end off samples, shortening them; e.g. `0.75` to cut off the last quarter of each sample."],["f","loop","loops the sample (from `begin` to `end`) the specified number of times."],["f","legato","controls the amount of overlap between two adjacent sounds"],["f","crush","bit crushing, a pattern of numbers from 1 (for drastic reduction in bit-depth) to 16 (for barely no reduction)."],["f","coarse","fake-resampling, a pattern of numbers for lowering the sample rate, i.e. 1 for original 2 for half, 3 for a third and so on."],["i","channel","choose the channel the pattern is sent to in superdirt"],["i","cut","In the style of classic drum-machines, `cut` will stop a playing sample as soon as another samples with in same cutgroup is to be played. An example would be an open hi-hat followed by a closed one, essentially muting the open."],["f","cutoff","a pattern of numbers from 0 to 1. Applies the cutoff frequency of the low-pass filter."],["f","hcutoff","a pattern of numbers from 0 to 1. Applies the cutoff frequency of the high-pass filter. Also has alias @hpf@"],["f","hresonance","a pattern of numbers from 0 to 1. Applies the resonance of the high-pass filter. Has alias @hpq@"],["f","resonance","a pattern of numbers from 0 to 1. Specifies the resonance of the low-pass filter."],["f","djf","DJ filter, below 0.5 is low pass filter, above is high pass filter."],["f","delay","a pattern of numbers from 0 to 1. Sets the level of the delay signal."],["f","delayfeedback","a pattern of numbers from 0 to 1. Sets the amount of delay feedback."],["f","delaytime","a pattern of numbers from 0 to 1. Sets the length of the delay."],["f","lock","A pattern of numbers. Specifies whether delaytime is calculated relative to cps. When set to 1, delaytime is a direct multiple of a cycle."],["f","detune",""],["f","dry","when set to `1` will disable all reverb for this pattern. See `room` and `size` for more information about reverb."],["f","fadeTime","Used when using begin/end or chop/striate and friends, to change the fade out time of the 'grain' envelope."],["f","fadeInTime","As with fadeTime, but controls the fade in time of the grain envelope. Not used if the grain begins at position 0 in the sample."],["f","freq",""],["f","gate",""],["f","leslie",""],["f","lrate",""],["f","lsize",""],["f","degree",""],["f","mtranspose",""],["f","ctranspose",""],["f","harmonic",""],["f","stepsPerOctave",""],["f","octaveR",""],["f","nudge","Nudges events into the future by the specified number of seconds. Negative numbers work up to a point as well (due to internal latency)"],["i","octave",""],["f","offset",""],["i","orbit","a pattern of numbers. An `orbit` is a global parameter context for patterns. Patterns with the same orbit will share hardware output bus offset and global effects, e.g. reverb and delay. The maximum number of orbits is specified in the superdirt startup, numbers higher than maximum will wrap around."],["f","overgain",""],["f","overshape",""],["f","pan","a pattern of numbers between 0 and 1, from left to right (assuming stereo), once round a circle (assuming multichannel)"],["f","panspan","a pattern of numbers between -inf and inf, which controls how much multichannel output is fanned out (negative is backwards ordering)"],["f","pansplay","a pattern of numbers between 0.0 and 1.0, which controls the multichannel spread range (multichannel only)"],["f","panwidth","a pattern of numbers between 0.0 and inf, which controls how much each channel is distributed over neighbours (multichannel only)"],["f","panorient","a pattern of numbers between -1.0 and 1.0, which controls the relative position of the centre pan in a pair of adjacent speakers (multichannel only)"],["f","rate","used in SuperDirt softsynths as a control rate or 'speed'"],["f","slide",""],["f","semitone",""],["f","velocity",""],["f","voice",""],["f","room","a pattern of numbers from 0 to 1. Sets the level of reverb."],["f","size","a pattern of numbers from 0 to 1. Sets the perceptual size (reverb time) of the `room` to be used in reverb."],["f","roomsize","a pattern of numbers from 0 to 1. Sets the perceptual size (reverb time) of the `room` to be used in reverb."],["f","shape","wave shaping distortion, a pattern of numbers from 0 for no distortion up to 1 for loads of distortion."],["f","speed","a pattern of numbers which changes the speed of sample playback, i.e. a cheap way of changing pitch. Negative values will play the sample backwards!"],["s","unit",'used in conjunction with `speed`, accepts values of "r" (rate, default behavior), "c" (cycles), or "s" (seconds). Using `unit "c"` means `speed` will be interpreted in units of cycles, e.g. `speed "1"` means samples will be stretched to fill a cycle. Using `unit "s"` means the playback speed will be adjusted so that the duration is the number of seconds specified by `speed`.'],["f","squiz",""],["f","stutterdepth",""],["f","stuttertime",""],["f","timescale",""],["f","timescalewin",""],["s","vowel","formant filter to make things sound like vowels, a pattern of either `a`, `e`, `i`, `o` or `u`. Use a rest (`~`) for no effect."],["f","waveloss",""],["f","dur",""],["f","expression",""],["f","sustainpedal",""],["f","tremolodepth","Tremolo Audio DSP effect | params are 'tremolorate' and 'tremolodepth'"],["f","tremolorate","Tremolo Audio DSP effect | params are 'tremolorate' and 'tremolodepth'"],["f","phaserdepth","Phaser Audio DSP effect | params are 'phaserrate' and 'phaserdepth'"],["f","phaserrate","Phaser Audio DSP effect | params are 'phaserrate' and 'phaserdepth'"],["f","fshift","frequency shifter"],["f","fshiftnote","frequency shifter"],["f","fshiftphase","frequency shifter"],["f","triode","tube distortion"],["f","krush","shape/bass enhancer"],["f","kcutoff",""],["f","octer","octaver effect"],["f","octersub","octaver effect"],["f","octersubsub","octaver effect"],["f","ring","ring modulation"],["f","ringf","ring modulation"],["f","ringdf","ring modulation"],["f","distort","noisy fuzzy distortion"],["f","freeze","Spectral freeze"],["f","xsdelay",""],["f","tsdelay",""],["f","real","Spectral conform"],["f","imag",""],["f","enhance","Spectral enhance"],["f","partials",""],["f","comb","Spectral comb"],["f","smear","Spectral smear"],["f","scram","Spectral scramble"],["f","binshift","Spectral binshift"],["f","hbrick","High pass sort of spectral filter"],["f","lbrick","Low pass sort of spectral filter"],["f","midichan",""],["f","control",""],["f","ccn",""],["f","ccv",""],["f","polyTouch",""],["f","midibend",""],["f","miditouch",""],["f","ctlNum",""],["f","frameRate",""],["f","frames",""],["f","hours",""],["s","midicmd",""],["f","minutes",""],["f","progNum",""],["f","seconds",""],["f","songPtr",""],["f","uid",""],["f","val",""],["f","cps",""],["f","clip",""]],_name=(s,...e)=>sequence(...e).withValue(a=>({[s]:a})),_setter=(s,e)=>function(...a){return a.length?this.set(s(...a)):this.fmap(o=>({[e]:o}))};generic_params.forEach(([s,e,a])=>{controls[e]=(...o)=>_name(e,...o),Pattern$1.prototype[e]=_setter(controls[e],e)});controls.createParam=s=>{const e=(...a)=>_name(s,...a);return Pattern$1.prototype[s]=_setter(e,s),(...a)=>_name(s,...a)};controls.createParams=(...s)=>s.reduce((e,a)=>Object.assign(e,{[a]:createParam(a)}),{});function bjorklund(s,e){for(var a=[],o=[],c=[e],d=s-e,b=0,k=function($){if($==-1)a.push(0);else if($==-2)a.push(1);else{for(var _=0;_<o[$];_++)k($-1);c[$]&&k($-2)}};c[b]>1;)o.push(Math.floor(d/c[b])),c.push(d%c[b]),d=c[b],b++;return o.push(d),k(b),a.reverse()}var bjork=function(s,e){return s>e?bjorklund(s,e):bjorklund(e,s)};const euclid=(s,e,a=0)=>{const o=bjork(e,s);return a?rotate(o,-a):o};Pattern$1.prototype.euclid=function(s,e,a=0){return this.struct(euclid(s,e,a))};Pattern$1.prototype.euclidLegato=function(s,e,a=0){const o=euclid(s,e,a),c=o.indexOf(1),d=rotate(o,c).join("").split("1").slice(1).map(b=>[b.length+1,!0]);return this.struct(timeCat(...d)).late(fraction(c).div(e))};function steady(s){return new Pattern$1(e=>[new Hap(void 0,e.span,s)])}const signal=s=>{const e=a=>[new Hap(void 0,a.span,s(a.span.midpoint()))];return new Pattern$1(e)},isaw=signal(s=>1-s%1),isaw2=isaw.toBipolar(),saw=signal(s=>s%1),saw2=saw.toBipolar(),sine2=signal(s=>Math.sin(Math.PI*2*s)),sine=sine2.fromBipolar(),cosine=sine._early(fraction(1).div(4)),cosine2=sine2._early(fraction(1).div(4)),square=signal(s=>Math.floor(s*2%2)),square2=square.toBipolar(),tri=fastcat(isaw,saw),tri2=fastcat(isaw2,saw2),time$1=signal(id$1),xorwise=s=>{const e=s<<13^s,a=e>>17^e;return a<<5^a},_frac=s=>s-Math.trunc(s),timeToIntSeed=s=>xorwise(Math.trunc(_frac(s/300)*536870912)),intSeedToRand=s=>s%536870912/536870912,timeToRand=s=>Math.abs(intSeedToRand(timeToIntSeed(s))),rand=signal(timeToRand),rand2=rand.toBipolar(),_brandBy=s=>rand.fmap(e=>e<s),brandBy=s=>reify$1(s).fmap(_brandBy).innerJoin(),brand=_brandBy(.5),_irand=s=>rand.fmap(e=>Math.trunc(e*s)),irand=s=>reify$1(s).fmap(_irand).innerJoin(),__chooseWith=(s,e)=>(e=e.map(reify$1),e.length==0?silence:s.range(0,e.length).fmap(a=>e[Math.floor(a)])),chooseWith=(s,e)=>__chooseWith(s,e).outerJoin(),chooseInWith=(s,e)=>__chooseWith(s,e).innerJoin(),choose=(...s)=>chooseWith(rand,s);Pattern$1.prototype.choose=function(...s){return chooseWith(this,s)};Pattern$1.prototype.choose2=function(...s){return chooseWith(this.fromBipolar(),s)};const chooseCycles=(...s)=>chooseInWith(rand.segment(1),s),randcat=chooseCycles,_wchooseWith=function(s,...e){const a=e.map(k=>reify$1(k[0])),o=[];let c=0;for(const k of e)c+=k[1],o.push(c);const d=c,b=function(k){const $=k*d;return a[o.findIndex(_=>_>$,o)]};return s.fmap(b)},wchooseWith=(...s)=>_wchooseWith(...s).outerJoin(),wchoose=(...s)=>wchooseWith(rand,...s),wchooseCycles=(...s)=>_wchooseWith(rand,...s).innerJoin(),perlinWith=s=>{const e=s.fmap(Math.floor),a=s.fmap(d=>Math.floor(d)+1),o=d=>6*d**5-15*d**4+10*d**3,c=d=>b=>k=>b+o(d)*(k-b);return s.sub(e).fmap(c).appBoth(e.fmap(timeToRand)).appBoth(a.fmap(timeToRand))},perlin=perlinWith(time$1.fmap(s=>Number(s)));Pattern$1.prototype._degradeByWith=function(s,e){return this.fmap(a=>o=>a).appLeft(s.filterValues(a=>a>e))};Pattern$1.prototype._degradeBy=function(s){return this._degradeByWith(rand,s)};Pattern$1.prototype.degrade=function(){return this._degradeBy(.5)};Pattern$1.prototype._undegradeBy=function(s){return this._degradeByWith(rand.fmap(e=>1-e),s)};Pattern$1.prototype.undegrade=function(){return this._undegradeBy(.5)};Pattern$1.prototype._sometimesBy=function(s,e){return stack(this._degradeBy(s),e(this._undegradeBy(1-s)))};Pattern$1.prototype.sometimesBy=function(s,e){const a=this;return reify$1(s).fmap(o=>a._sometimesBy(o,e)).innerJoin()};Pattern$1.prototype._sometimesByPre=function(s,e){return stack(this._degradeBy(s),e(this).undegradeBy(1-s))};Pattern$1.prototype.sometimesByPre=function(s,e){const a=this;return reify$1(s).fmap(o=>a._sometimesByPre(o,e)).innerJoin()};Pattern$1.prototype.sometimes=function(s){return this._sometimesBy(.5,s)};Pattern$1.prototype.sometimesPre=function(s){return this._sometimesByPre(.5,s)};Pattern$1.prototype._someCyclesBy=function(s,e){return stack(this._degradeByWith(rand._segment(1),s),e(this._degradeByWith(rand.fmap(a=>1-a)._segment(1),1-s)))};Pattern$1.prototype.someCyclesBy=function(s,e){const a=this;return reify$1(s).fmap(o=>a._someCyclesBy(o,e)).innerJoin()};Pattern$1.prototype.someCycles=function(s){return this._someCyclesBy(.5,s)};Pattern$1.prototype.often=function(s){return this.sometimesBy(.75,s)};Pattern$1.prototype.rarely=function(s){return this.sometimesBy(.25,s)};Pattern$1.prototype.almostNever=function(s){return this.sometimesBy(.1,s)};Pattern$1.prototype.almostAlways=function(s){return this.sometimesBy(.9,s)};Pattern$1.prototype.never=function(s){return this};Pattern$1.prototype.always=function(s){return s(this)};Pattern$1.prototype.patternified.push("degradeBy","undegradeBy");let synth;try{synth=window==null?void 0:window.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let allVoices=synth==null?void 0:synth.getVoices();function speak(s,e,a){synth.cancel();const o=new SpeechSynthesisUtterance(s);o.lang=e,allVoices=synth.getVoices();const c=allVoices.filter(d=>d.lang.includes(e));typeof a=="number"?o.voice=c[a%c.length]:typeof a=="string"&&(o.voice=c.find(d=>d.name===d)),speechSynthesis.speak(o)}Pattern$1.prototype._speak=function(s,e){return this.onTrigger((a,o)=>{speak(o.value,s,e)})};Pattern$1.prototype.speak=function(s,e){return patternify2(Pattern$1.prototype._speak)(reify(s),reify(e),this)};let scoped=!1;const evalScope=async(...s)=>{scoped&&console.warn("evalScope was called more than once."),scoped=!0;const e=await Promise.allSettled(s),a=e.filter(o=>o.status==="fulfilled").map(o=>o.value);e.forEach((o,c)=>{o.status==="rejected"&&console.warn(`evalScope: module with index ${c} could not be loaded:`,o.reason)}),Object.assign(globalThis,...a,Pattern$1.prototype.bootstrap())};function safeEval(s,e={}){const{wrapExpression:a=!0,wrapAsync:o=!0}=e;a&&(s=`{${s}}`),o&&(s=`(async ()=>${s})()`);const c=`"use strict";return (${s})`;return Function(c)()}const evaluate=async(s,e)=>{scoped||await evalScope(),e&&(s=e(s));let o=await safeEval(s,{wrapExpression:!!e});if(!isPattern(o)){console.log("evaluated",o);const c=`got "${typeof o}" instead of pattern`;throw new Error(c+(typeof o=="function"?", did you forget to call a function?":"."))}return{mode:"javascript",pattern:o}};function createClock(s,e,a=.05,o=.1,c=.1){let d=0,b=0,k=10**4,$=.01;const _=st=>a=st(a);c=c||o/2;const j=()=>{const st=s(),ht=st+o+c;for(b===0&&(b=st+$);b<ht;)b=Math.round(b*k)/k,b>=st&&e(b,a,d),b<st&&console.log("TOO LATE",b),b+=a,d++};let _e;const tt=()=>{it(),j(),_e=setInterval(j,o*1e3)},it=()=>_e!==void 0&&clearInterval(_e);return{setDuration:_,start:tt,stop:()=>{d=0,b=0,it()},pause:()=>it(),duration:a,getPhase:()=>b}}class Cyclist{constructor({interval:e,onTrigger:a,onToggle:o,onError:c,getTime:d,latency:b=.1}){cn(this,"worker");cn(this,"pattern");cn(this,"started",!1);cn(this,"cps",1);cn(this,"getTime");cn(this,"phase",0);this.getTime=d,this.onToggle=o,this.latency=b;const k=$=>Math.round($*1e3)/1e3;this.clock=createClock(d,($,_,j)=>{j===0&&(this.origin=$);const _e=k($-this.origin);this.phase=_e-b;const tt=k(_e+_),it=d();try{this.pattern.queryArc(_e,tt).forEach(at=>{if(at.part.begin.equals(at.whole.begin)){const rt=at.whole.begin+this.origin-it+b,st=at.duration*1;a==null||a(at,rt,st)}})}catch(nt){logger(`[cyclist] error: ${nt.message}`),c==null||c(nt)}},e)}getPhase(){return this.getTime()-this.origin-this.latency}setStarted(e){var a;this.started=e,(a=this.onToggle)==null||a.call(this,e)}start(){if(!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");logger("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){logger("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){logger("[cyclist] stop"),this.clock.stop(),this.setStarted(!1)}setPattern(e,a=!1){this.pattern=e,a&&!this.started&&this.start()}setCps(e=1){this.cps=e}log(e,a,o){const c=o.filter(d=>d.hasOnset());console.log(`${e.toFixed(4)} - ${a.toFixed(4)} ${Array(c.length).fill("I").join("")}`)}}let time;function getTime(){if(!time)throw new Error("no time set! use setTime to define a time source");return time()}function setTime(s){time=s}function repl({interval:s,defaultOutput:e,onSchedulerError:a,onEvalError:o,beforeEval:c,afterEval:d,getTime:b,transpiler:k,onToggle:$}){const _=new Cyclist({interval:s,onTrigger:async(nt,at,rt)=>{try{(!nt.context.onTrigger||!nt.context.dominantTrigger)&&await e(nt,at,rt),nt.context.onTrigger&&await nt.context.onTrigger(b()+at,nt,b(),1)}catch(st){logger(`[cyclist] error: ${st.message}`,"error")}},onError:a,getTime:b,onToggle:$});return setTime(()=>_.getPhase()),{scheduler:_,evaluate:async(nt,at=!0)=>{if(!nt)throw new Error("no code to evaluate");try{c({code:nt});const{pattern:rt}=await evaluate(nt,k);return logger("[eval] code updated"),_.setPattern(rt,at),d({code:nt,pattern:rt}),rt}catch(rt){logger(`[eval] error: ${rt.message}`,"error"),o==null||o(rt)}},start:()=>_.start(),stop:()=>_.stop(),pause:()=>_.pause()}}const getDrawContext$1=(s="test-canvas")=>{let e=document.querySelector("#"+s);return e||(e=document.createElement("canvas"),e.id=s,e.width=window.innerWidth,e.height=window.innerHeight,e.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0;z-index:5",document.body.prepend(e)),e.getContext("2d")};Pattern$1.prototype.draw=function(s,{from:e,to:a,onQuery:o}){window.strudelAnimation&&cancelAnimationFrame(window.strudelAnimation);const c=getDrawContext$1();let d,b=[];const k=$=>{const _=getTime();if(e!==void 0&&a!==void 0){const j=Math.floor(_);if(d!==j){d=j;const _e=j+e,tt=j+a;setTimeout(()=>{b=this.query(new State(new TimeSpan(_e,tt))).filter(Boolean).filter(it=>it.part.begin.equals(it.whole.begin)),o==null||o(b)},0)}}s(c,b,_,$),window.strudelAnimation=requestAnimationFrame(k)};return requestAnimationFrame(k),this};const cleanupDraw=(s=!0)=>{const e=getDrawContext$1();s&&e.clearRect(0,0,window.innerWidth,window.innerHeight),window.strudelAnimation&&cancelAnimationFrame(window.strudelAnimation),window.strudelScheduler&&clearInterval(window.strudelScheduler)},scale=(s,e,a)=>s*(a-e)+e,getValue=s=>{var a;let e=typeof s.value=="object"?(a=s.value.note)!=null?a:s.value.n:s.value;return typeof e=="string"&&(e=toMidi(e)),e};Pattern$1.prototype.pianoroll=function({cycles:s=4,playhead:e=.5,overscan:a=1,flipTime:o=0,flipValues:c=0,hideNegative:d=!1,inactive:b="#7491D2",active:k="#FFCA28",background:$="transparent",smear:_=0,playheadColor:j="white",minMidi:_e=10,maxMidi:tt=90,autorange:it=0,timeframe:nt,fold:at=0,vertical:rt=0}={}){const st=getDrawContext(),ht=st.canvas.width,gt=st.canvas.height;let ct=-s*e,ft=s*(1-e);nt&&(console.warn("timeframe is deprecated! use from/to instead"),ct=0,ft=nt),!it&&at&&console.warn("disabling autorange has no effect when fold is enabled");const dt=rt?gt:ht,mt=rt?ht:gt;let Ot=rt?[dt,0]:[0,dt];const yt=ft-ct,Ct=rt?[0,mt]:[mt,0];let kt=tt-_e+1,bt=mt/kt,Et=[];return o&&Ot.reverse(),c&&Ct.reverse(),this.draw((At,Rt,Dt)=>{At.fillStyle=$,At.globalAlpha=1,_||(At.clearRect(0,0,ht,gt),At.fillRect(0,0,ht,gt));const Bt=Qt=>(!d||Qt.whole.begin>=0)&&Qt.whole.begin<=Dt+ft&&Qt.whole.end>=Dt+ct;Rt.filter(Bt).forEach(Qt=>{var qt,Ht,an;const jt=Qt.whole.begin<=Dt&&Qt.whole.end>Dt;At.fillStyle=((qt=Qt.context)==null?void 0:qt.color)||b,At.strokeStyle=((Ht=Qt.context)==null?void 0:Ht.color)||k,At.globalAlpha=(an=Qt.context.velocity)!=null?an:1;const vt=scale((Qt.whole.begin-(o?ft:ct))/yt,...Ot);let $t=scale(Qt.duration/yt,0,dt);const Pt=getValue(Qt),Mt=scale(at?Et.indexOf(Pt)/Et.length:(Number(Pt)-_e)/kt,...Ct);let Ft=0;const Wt=scale(Dt/yt,...Ot);let zt;rt?zt=[Mt+1-(c?bt:0),dt-Wt+vt+Ft+1-(o?0:$t),bt-2,$t-2]:zt=[vt-Wt+Ft+1-(o?$t:0),Mt+1-(c?0:bt),$t-2,bt-2],jt?At.strokeRect(...zt):At.fillRect(...zt)}),At.globalAlpha=1;const Tt=scale(-ct/yt,...Ot);At.strokeStyle=j,At.beginPath(),rt?(At.moveTo(0,Tt),At.lineTo(mt,Tt)):(At.moveTo(Tt,0),At.lineTo(Tt,mt)),At.stroke()},{from:ct-a,to:ft+a,onQuery:At=>{const{min:Rt,max:Dt,values:Bt}=At.reduce(({min:Tt,max:Qt,values:jt},vt)=>{const $t=getValue(vt);return{min:$t<Tt?$t:Tt,max:$t>Qt?$t:Qt,values:jt.includes($t)?jt:[...jt,$t]}},{min:1/0,max:-1/0,values:[]});it&&(_e=Rt,tt=Dt,kt=tt-_e+1),Et=Bt.sort((Tt,Qt)=>Tt-Qt),bt=at?mt/Et.length:mt/kt}}),this};function frame(s){window.strudelAnimation&&cancelAnimationFrame(window.strudelAnimation);const e=a=>{s(a,getTime()),window.strudelAnimation=requestAnimationFrame(e)};requestAnimationFrame(e)}const backgroundImage=function(s,e={}){const a=document.getElementById("code"),o="background-image:url("+s+");background-size:contain;";a.style=o;const{className:c}=a,d=($,_)=>{({style:()=>a.style=o+";"+_,className:()=>a.className=_+" "+c})[$]()},b=Object.entries(e).filter(([$,_])=>typeof _=="function");Object.entries(e).filter(([$,_])=>typeof _=="string").forEach(([$,_])=>d($,_)),b.length!==0&&frame(($,_)=>b.forEach(([j,_e])=>{d(j,_e(_))}))},cleanupUi=()=>{const s=document.getElementById("code");s&&(s.style="",s.className="grow flex text-gray-100 relative overflow-auto cursor-text pb-0")};var gist=(route,cache=!0)=>fetch(`https://gist.githubusercontent.com/${route}?cachebust=${cache?"":Date.now()}`).then(s=>s.text()).then(code=>eval(code));logger("\u{1F300} @strudel.cycles/core loaded \u{1F300}");globalThis._strudelLoaded&&console.warn(`@strudel.cycles/core was loaded more than once...
This might happen when you have multiple versions of strudel installed. 
Please check with "npm ls @strudel.cycles/core".`);globalThis._strudelLoaded=!0;var strudel=Object.freeze(Object.defineProperty({__proto__:null,Fraction:fraction,controls,drawLine,gist,Hap,setStringParser,Pattern:Pattern$1,polyrhythm,pr,silence,pure,isPattern,reify:reify$1,stack,slowcat,slowcatPrime,fastcat,cat,timeCat,sequence,seq,polymeterSteps,polymeter,pm,add:add$1,chop,chunk,chunkBack,div,early,echo,every,fast,inv,invert,iter,iterBack,jux,juxBy,late,linger,mask,mul,off,ply,range,rangex,range2,rev,slow,struct,sub,superimpose,set,when,makeComposable,patternify2,patternify3,patternify4,steady,signal,isaw,isaw2,saw,saw2,sine2,sine,cosine,cosine2,square,square2,tri,tri2,time:time$1,rand,rand2,_brandBy,brandBy,brand,_irand,irand,__chooseWith,chooseWith,chooseInWith,choose,chooseCycles,randcat,wchoose,wchooseCycles,perlinWith,perlin,State:State$1,TimeSpan:TimeSpan$1,isNote,tokenizeNote,toMidi:toMidi$1,fromMidi,getFreq,midi2note,mod,getPlayableNoteValue,getFrequency,rotate,pipe,compose,removeUndefineds,flatten:flatten$1,id:id$1,constant,listRange,curry,parseNumeral,mapArgs,numeralArgs,parseFractional,fractionalArgs,evalScope,evaluate,repl,logKey,logger,getTime,setTime,getDrawContext:getDrawContext$1,cleanupDraw,backgroundImage,cleanupUi},Symbol.toStringTag,{value:"Module"}));function _extends(){return _extends=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(s,e){if(s==null)return{};var a={},o=Object.keys(s),c,d;for(d=0;d<o.length;d++)c=o[d],!(e.indexOf(c)>=0)&&(a[c]=s[c]);return a}class Text{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,a,o){let c=[];return this.decompose(0,e,c,2),o.length&&o.decompose(0,o.length,c,3),this.decompose(a,this.length,c,1),TextNode.from(c,this.length-(a-e)+o.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,a=this.length){let o=[];return this.decompose(e,a,o,0),TextNode.from(o,a-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let a=this.scanIdentical(e,1),o=this.length-this.scanIdentical(e,-1),c=new RawTextCursor(this),d=new RawTextCursor(e);for(let b=a,k=a;;){if(c.next(b),d.next(b),b=0,c.lineBreak!=d.lineBreak||c.done!=d.done||c.value!=d.value)return!1;if(k+=c.value.length,c.done||k>=o)return!0}}iter(e=1){return new RawTextCursor(this,e)}iterRange(e,a=this.length){return new PartialTextCursor(this,e,a)}iterLines(e,a){let o;if(e==null)o=this.iter();else{a==null&&(a=this.lines+1);let c=this.line(e).from;o=this.iterRange(c,Math.max(c,a==this.lines+1?this.length:a<=1?0:this.line(a-1).to))}return new LineCursor(o)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Text.empty:e.length<=32?new TextLeaf(e):TextNode.from(TextLeaf.split(e,[]))}}class TextLeaf extends Text{constructor(e,a=textLength(e)){super(),this.text=e,this.length=a}get lines(){return this.text.length}get children(){return null}lineInner(e,a,o,c){for(let d=0;;d++){let b=this.text[d],k=c+b.length;if((a?o:k)>=e)return new Line(c,k,o,b);c=k+1,o++}}decompose(e,a,o,c){let d=e<=0&&a>=this.length?this:new TextLeaf(sliceText(this.text,e,a),Math.min(a,this.length)-Math.max(0,e));if(c&1){let b=o.pop(),k=appendText(d.text,b.text.slice(),0,d.length);if(k.length<=32)o.push(new TextLeaf(k,b.length+d.length));else{let $=k.length>>1;o.push(new TextLeaf(k.slice(0,$)),new TextLeaf(k.slice($)))}}else o.push(d)}replace(e,a,o){if(!(o instanceof TextLeaf))return super.replace(e,a,o);let c=appendText(this.text,appendText(o.text,sliceText(this.text,0,e)),a),d=this.length+o.length-(a-e);return c.length<=32?new TextLeaf(c,d):TextNode.from(TextLeaf.split(c,[]),d)}sliceString(e,a=this.length,o=`
`){let c="";for(let d=0,b=0;d<=a&&b<this.text.length;b++){let k=this.text[b],$=d+k.length;d>e&&b&&(c+=o),e<$&&a>d&&(c+=k.slice(Math.max(0,e-d),a-d)),d=$+1}return c}flatten(e){for(let a of this.text)e.push(a)}scanIdentical(){return 0}static split(e,a){let o=[],c=-1;for(let d of e)o.push(d),c+=d.length+1,o.length==32&&(a.push(new TextLeaf(o,c)),o=[],c=-1);return c>-1&&a.push(new TextLeaf(o,c)),a}}class TextNode extends Text{constructor(e,a){super(),this.children=e,this.length=a,this.lines=0;for(let o of e)this.lines+=o.lines}lineInner(e,a,o,c){for(let d=0;;d++){let b=this.children[d],k=c+b.length,$=o+b.lines-1;if((a?$:k)>=e)return b.lineInner(e,a,o,c);c=k+1,o=$+1}}decompose(e,a,o,c){for(let d=0,b=0;b<=a&&d<this.children.length;d++){let k=this.children[d],$=b+k.length;if(e<=$&&a>=b){let _=c&((b<=e?1:0)|($>=a?2:0));b>=e&&$<=a&&!_?o.push(k):k.decompose(e-b,a-b,o,_)}b=$+1}}replace(e,a,o){if(o.lines<this.lines)for(let c=0,d=0;c<this.children.length;c++){let b=this.children[c],k=d+b.length;if(e>=d&&a<=k){let $=b.replace(e-d,a-d,o),_=this.lines-b.lines+$.lines;if($.lines<_>>5-1&&$.lines>_>>5+1){let j=this.children.slice();return j[c]=$,new TextNode(j,this.length-(a-e)+o.length)}return super.replace(d,k,$)}d=k+1}return super.replace(e,a,o)}sliceString(e,a=this.length,o=`
`){let c="";for(let d=0,b=0;d<this.children.length&&b<=a;d++){let k=this.children[d],$=b+k.length;b>e&&d&&(c+=o),e<$&&a>b&&(c+=k.sliceString(e-b,a-b,o)),b=$+1}return c}flatten(e){for(let a of this.children)a.flatten(e)}scanIdentical(e,a){if(!(e instanceof TextNode))return 0;let o=0,[c,d,b,k]=a>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;c+=a,d+=a){if(c==b||d==k)return o;let $=this.children[c],_=e.children[d];if($!=_)return o+$.scanIdentical(_,a);o+=$.length+1}}static from(e,a=e.reduce((o,c)=>o+c.length+1,-1)){let o=0;for(let it of e)o+=it.lines;if(o<32){let it=[];for(let nt of e)nt.flatten(it);return new TextLeaf(it,a)}let c=Math.max(32,o>>5),d=c<<1,b=c>>1,k=[],$=0,_=-1,j=[];function _e(it){let nt;if(it.lines>d&&it instanceof TextNode)for(let at of it.children)_e(at);else it.lines>b&&($>b||!$)?(tt(),k.push(it)):it instanceof TextLeaf&&$&&(nt=j[j.length-1])instanceof TextLeaf&&it.lines+nt.lines<=32?($+=it.lines,_+=it.length+1,j[j.length-1]=new TextLeaf(nt.text.concat(it.text),nt.length+1+it.length)):($+it.lines>c&&tt(),$+=it.lines,_+=it.length+1,j.push(it))}function tt(){$!=0&&(k.push(j.length==1?j[0]:TextNode.from(j,_)),_=-1,$=j.length=0)}for(let it of e)_e(it);return tt(),k.length==1?k[0]:new TextNode(k,a)}}Text.empty=new TextLeaf([""],0);function textLength(s){let e=-1;for(let a of s)e+=a.length+1;return e}function appendText(s,e,a=0,o=1e9){for(let c=0,d=0,b=!0;d<s.length&&c<=o;d++){let k=s[d],$=c+k.length;$>=a&&($>o&&(k=k.slice(0,o-c)),c<a&&(k=k.slice(a-c)),b?(e[e.length-1]+=k,b=!1):e.push(k)),c=$+1}return e}function sliceText(s,e,a){return appendText(s,[""],e,a)}class RawTextCursor{constructor(e,a=1){this.dir=a,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[a>0?1:(e instanceof TextLeaf?e.text.length:e.children.length)<<1]}nextInner(e,a){for(this.done=this.lineBreak=!1;;){let o=this.nodes.length-1,c=this.nodes[o],d=this.offsets[o],b=d>>1,k=c instanceof TextLeaf?c.text.length:c.children.length;if(b==(a>0?k:0)){if(o==0)return this.done=!0,this.value="",this;a>0&&this.offsets[o-1]++,this.nodes.pop(),this.offsets.pop()}else if((d&1)==(a>0?0:1)){if(this.offsets[o]+=a,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(c instanceof TextLeaf){let $=c.text[b+(a<0?-1:0)];if(this.offsets[o]+=a,$.length>Math.max(0,e))return this.value=e==0?$:a>0?$.slice(e):$.slice(0,$.length-e),this;e-=$.length}else{let $=c.children[b+(a<0?-1:0)];e>$.length?(e-=$.length,this.offsets[o]+=a):(a<0&&this.offsets[o]--,this.nodes.push($),this.offsets.push(a>0?1:($ instanceof TextLeaf?$.text.length:$.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class PartialTextCursor{constructor(e,a,o){this.value="",this.done=!1,this.cursor=new RawTextCursor(e,a>o?-1:1),this.pos=a>o?e.length:0,this.from=Math.min(a,o),this.to=Math.max(a,o)}nextInner(e,a){if(a<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,a<0?this.pos-this.to:this.from-this.pos);let o=a<0?this.pos-this.from:this.to-this.pos;e>o&&(e=o),o-=e;let{value:c}=this.cursor.next(e);return this.pos+=(c.length+e)*a,this.value=c.length<=o?c:a<0?c.slice(c.length-o):c.slice(0,o),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:a,lineBreak:o,value:c}=this.inner.next(e);return a?(this.done=!0,this.value=""):o?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=c,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(e,a,o,c){this.from=e,this.to=a,this.number=o,this.text=c}get length(){return this.to-this.from}}let extend="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(s=>s?parseInt(s,36):1);for(let s=1;s<extend.length;s++)extend[s]+=extend[s-1];function isExtendingChar(s){for(let e=1;e<extend.length;e+=2)if(extend[e]>s)return extend[e-1]<=s;return!1}function isRegionalIndicator(s){return s>=127462&&s<=127487}const ZWJ=8205;function findClusterBreak(s,e,a=!0,o=!0){return(a?nextClusterBreak:prevClusterBreak)(s,e,o)}function nextClusterBreak(s,e,a){if(e==s.length)return e;e&&surrogateLow(s.charCodeAt(e))&&surrogateHigh(s.charCodeAt(e-1))&&e--;let o=codePointAt(s,e);for(e+=codePointSize(o);e<s.length;){let c=codePointAt(s,e);if(o==ZWJ||c==ZWJ||a&&isExtendingChar(c))e+=codePointSize(c),o=c;else if(isRegionalIndicator(c)){let d=0,b=e-2;for(;b>=0&&isRegionalIndicator(codePointAt(s,b));)d++,b-=2;if(d%2==0)break;e+=2}else break}return e}function prevClusterBreak(s,e,a){for(;e>0;){let o=nextClusterBreak(s,e-2,a);if(o<e)return o;e--}return 0}function surrogateLow(s){return s>=56320&&s<57344}function surrogateHigh(s){return s>=55296&&s<56320}function codePointAt(s,e){let a=s.charCodeAt(e);if(!surrogateHigh(a)||e+1==s.length)return a;let o=s.charCodeAt(e+1);return surrogateLow(o)?(a-55296<<10)+(o-56320)+65536:a}function fromCodePoint(s){return s<=65535?String.fromCharCode(s):(s-=65536,String.fromCharCode((s>>10)+55296,(s&1023)+56320))}function codePointSize(s){return s<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(s){return s[s.Simple=0]="Simple",s[s.TrackDel=1]="TrackDel",s[s.TrackBefore=2]="TrackBefore",s[s.TrackAfter=3]="TrackAfter",s}(MapMode||(MapMode={}));class ChangeDesc{constructor(e){this.sections=e}get length(){let e=0;for(let a=0;a<this.sections.length;a+=2)e+=this.sections[a];return e}get newLength(){let e=0;for(let a=0;a<this.sections.length;a+=2){let o=this.sections[a+1];e+=o<0?this.sections[a]:o}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let a=0,o=0,c=0;a<this.sections.length;){let d=this.sections[a++],b=this.sections[a++];b<0?(e(o,c,d),c+=d):c+=b,o+=d}}iterChangedRanges(e,a=!1){iterChanges(this,e,a)}get invertedDesc(){let e=[];for(let a=0;a<this.sections.length;){let o=this.sections[a++],c=this.sections[a++];c<0?e.push(o,c):e.push(c,o)}return new ChangeDesc(e)}composeDesc(e){return this.empty?e:e.empty?this:composeSets(this,e)}mapDesc(e,a=!1){return e.empty?this:mapSet(this,e,a)}mapPos(e,a=-1,o=MapMode.Simple){let c=0,d=0;for(let b=0;b<this.sections.length;){let k=this.sections[b++],$=this.sections[b++],_=c+k;if($<0){if(_>e)return d+(e-c);d+=k}else{if(o!=MapMode.Simple&&_>=e&&(o==MapMode.TrackDel&&c<e&&_>e||o==MapMode.TrackBefore&&c<e||o==MapMode.TrackAfter&&_>e))return null;if(_>e||_==e&&a<0&&!k)return e==c||a<0?d:d+$;d+=$}c=_}if(e>c)throw new RangeError(`Position ${e} is out of range for changeset of length ${c}`);return d}touchesRange(e,a=e){for(let o=0,c=0;o<this.sections.length&&c<=a;){let d=this.sections[o++],b=this.sections[o++],k=c+d;if(b>=0&&c<=a&&k>=e)return c<e&&k>a?"cover":!0;c=k}return!1}toString(){let e="";for(let a=0;a<this.sections.length;){let o=this.sections[a++],c=this.sections[a++];e+=(e?" ":"")+o+(c>=0?":"+c:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(a=>typeof a!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(e)}static create(e){return new ChangeDesc(e)}}class ChangeSet extends ChangeDesc{constructor(e,a){super(e),this.inserted=a}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(a,o,c,d,b)=>e=e.replace(c,c+(o-a),b),!1),e}mapDesc(e,a=!1){return mapSet(this,e,a,!0)}invert(e){let a=this.sections.slice(),o=[];for(let c=0,d=0;c<a.length;c+=2){let b=a[c],k=a[c+1];if(k>=0){a[c]=k,a[c+1]=b;let $=c>>1;for(;o.length<$;)o.push(Text.empty);o.push(b?e.slice(d,d+b):Text.empty)}d+=b}return new ChangeSet(a,o)}compose(e){return this.empty?e:e.empty?this:composeSets(this,e,!0)}map(e,a=!1){return e.empty?this:mapSet(this,e,a,!0)}iterChanges(e,a=!1){iterChanges(this,e,a)}get desc(){return ChangeDesc.create(this.sections)}filter(e){let a=[],o=[],c=[],d=new SectionIter(this);e:for(let b=0,k=0;;){let $=b==e.length?1e9:e[b++];for(;k<$||k==$&&d.len==0;){if(d.done)break e;let j=Math.min(d.len,$-k);addSection(c,j,-1);let _e=d.ins==-1?-1:d.off==0?d.ins:0;addSection(a,j,_e),_e>0&&addInsert(o,a,d.text),d.forward(j),k+=j}let _=e[b++];for(;k<_;){if(d.done)break e;let j=Math.min(d.len,_-k);addSection(a,j,-1),addSection(c,j,d.ins==-1?-1:d.off==0?d.ins:0),d.forward(j),k+=j}}return{changes:new ChangeSet(a,o),filtered:ChangeDesc.create(c)}}toJSON(){let e=[];for(let a=0;a<this.sections.length;a+=2){let o=this.sections[a],c=this.sections[a+1];c<0?e.push(o):c==0?e.push([o]):e.push([o].concat(this.inserted[a>>1].toJSON()))}return e}static of(e,a,o){let c=[],d=[],b=0,k=null;function $(j=!1){if(!j&&!c.length)return;b<a&&addSection(c,a-b,-1);let _e=new ChangeSet(c,d);k=k?k.compose(_e.map(k)):_e,c=[],d=[],b=0}function _(j){if(Array.isArray(j))for(let _e of j)_(_e);else if(j instanceof ChangeSet){if(j.length!=a)throw new RangeError(`Mismatched change set length (got ${j.length}, expected ${a})`);$(),k=k?k.compose(j.map(k)):j}else{let{from:_e,to:tt=_e,insert:it}=j;if(_e>tt||_e<0||tt>a)throw new RangeError(`Invalid change range ${_e} to ${tt} (in doc of length ${a})`);let nt=it?typeof it=="string"?Text.of(it.split(o||DefaultSplit)):it:Text.empty,at=nt.length;if(_e==tt&&at==0)return;_e<b&&$(),_e>b&&addSection(c,_e-b,-1),addSection(c,tt-_e,at),addInsert(d,c,nt),b=tt}}return _(e),$(!k),k}static empty(e){return new ChangeSet(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let a=[],o=[];for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="number")a.push(d,-1);else{if(!Array.isArray(d)||typeof d[0]!="number"||d.some((b,k)=>k&&typeof b!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(d.length==1)a.push(d[0],0);else{for(;o.length<c;)o.push(Text.empty);o[c]=Text.of(d.slice(1)),a.push(d[0],o[c].length)}}}return new ChangeSet(a,o)}static createSet(e,a){return new ChangeSet(e,a)}}function addSection(s,e,a,o=!1){if(e==0&&a<=0)return;let c=s.length-2;c>=0&&a<=0&&a==s[c+1]?s[c]+=e:e==0&&s[c]==0?s[c+1]+=a:o?(s[c]+=e,s[c+1]+=a):s.push(e,a)}function addInsert(s,e,a){if(a.length==0)return;let o=e.length-2>>1;if(o<s.length)s[s.length-1]=s[s.length-1].append(a);else{for(;s.length<o;)s.push(Text.empty);s.push(a)}}function iterChanges(s,e,a){let o=s.inserted;for(let c=0,d=0,b=0;b<s.sections.length;){let k=s.sections[b++],$=s.sections[b++];if($<0)c+=k,d+=k;else{let _=c,j=d,_e=Text.empty;for(;_+=k,j+=$,$&&o&&(_e=_e.append(o[b-2>>1])),!(a||b==s.sections.length||s.sections[b+1]<0);)k=s.sections[b++],$=s.sections[b++];e(c,_,d,j,_e),c=_,d=j}}}function mapSet(s,e,a,o=!1){let c=[],d=o?[]:null,b=new SectionIter(s),k=new SectionIter(e);for(let $=-1;;)if(b.ins==-1&&k.ins==-1){let _=Math.min(b.len,k.len);addSection(c,_,-1),b.forward(_),k.forward(_)}else if(k.ins>=0&&(b.ins<0||$==b.i||b.off==0&&(k.len<b.len||k.len==b.len&&!a))){let _=k.len;for(addSection(c,k.ins,-1);_;){let j=Math.min(b.len,_);b.ins>=0&&$<b.i&&b.len<=j&&(addSection(c,0,b.ins),d&&addInsert(d,c,b.text),$=b.i),b.forward(j),_-=j}k.next()}else if(b.ins>=0){let _=0,j=b.len;for(;j;)if(k.ins==-1){let _e=Math.min(j,k.len);_+=_e,j-=_e,k.forward(_e)}else if(k.ins==0&&k.len<j)j-=k.len,k.next();else break;addSection(c,_,$<b.i?b.ins:0),d&&$<b.i&&addInsert(d,c,b.text),$=b.i,b.forward(b.len-j)}else{if(b.done&&k.done)return d?ChangeSet.createSet(c,d):ChangeDesc.create(c);throw new Error("Mismatched change set lengths")}}function composeSets(s,e,a=!1){let o=[],c=a?[]:null,d=new SectionIter(s),b=new SectionIter(e);for(let k=!1;;){if(d.done&&b.done)return c?ChangeSet.createSet(o,c):ChangeDesc.create(o);if(d.ins==0)addSection(o,d.len,0,k),d.next();else if(b.len==0&&!b.done)addSection(o,0,b.ins,k),c&&addInsert(c,o,b.text),b.next();else{if(d.done||b.done)throw new Error("Mismatched change set lengths");{let $=Math.min(d.len2,b.len),_=o.length;if(d.ins==-1){let j=b.ins==-1?-1:b.off?0:b.ins;addSection(o,$,j,k),c&&j&&addInsert(c,o,b.text)}else b.ins==-1?(addSection(o,d.off?0:d.len,$,k),c&&addInsert(c,o,d.textBit($))):(addSection(o,d.off?0:d.len,b.off?0:b.ins,k),c&&!b.off&&addInsert(c,o,b.text));k=(d.ins>$||b.ins>=0&&b.len>$)&&(k||o.length>_),d.forward2($),b.forward($)}}}}class SectionIter{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,a=this.i-2>>1;return a>=e.length?Text.empty:e[a]}textBit(e){let{inserted:a}=this.set,o=this.i-2>>1;return o>=a.length&&!e?Text.empty:a[o].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class SelectionRange{constructor(e,a,o){this.from=e,this.to=a,this.flags=o}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,a=-1){let o,c;return this.empty?o=c=e.mapPos(this.from,a):(o=e.mapPos(this.from,1),c=e.mapPos(this.to,-1)),o==this.from&&c==this.to?this:new SelectionRange(o,c,this.flags)}extend(e,a=e){if(e<=this.anchor&&a>=this.anchor)return EditorSelection.range(e,a);let o=Math.abs(e-this.anchor)>Math.abs(a-this.anchor)?e:a;return EditorSelection.range(this.anchor,o)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(e.anchor,e.head)}static create(e,a,o){return new SelectionRange(e,a,o)}}class EditorSelection{constructor(e,a){this.ranges=e,this.mainIndex=a}map(e,a=-1){return e.empty?this:EditorSelection.create(this.ranges.map(o=>o.map(e,a)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let a=0;a<this.ranges.length;a++)if(!this.ranges[a].eq(e.ranges[a]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(e,a=!0){return EditorSelection.create([e].concat(this.ranges),a?0:this.mainIndex+1)}replaceRange(e,a=this.mainIndex){let o=this.ranges.slice();return o[a]=e,EditorSelection.create(o,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(e.ranges.map(a=>SelectionRange.fromJSON(a)),e.main)}static single(e,a=e){return new EditorSelection([EditorSelection.range(e,a)],0)}static create(e,a=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let o=0,c=0;c<e.length;c++){let d=e[c];if(d.empty?d.from<=o:d.from<o)return EditorSelection.normalized(e.slice(),a);o=d.to}return new EditorSelection(e,a)}static cursor(e,a=0,o,c){return SelectionRange.create(e,e,(a==0?0:a<0?4:8)|(o==null?3:Math.min(2,o))|(c!=null?c:33554431)<<5)}static range(e,a,o){let c=(o!=null?o:33554431)<<5;return a<e?SelectionRange.create(a,e,16|c|8):SelectionRange.create(e,a,c|(a>e?4:0))}static normalized(e,a=0){let o=e[a];e.sort((c,d)=>c.from-d.from),a=e.indexOf(o);for(let c=1;c<e.length;c++){let d=e[c],b=e[c-1];if(d.empty?d.from<=b.to:d.from<b.to){let k=b.from,$=Math.max(d.to,b.to);c<=a&&a--,e.splice(--c,2,d.anchor>d.head?EditorSelection.range($,k):EditorSelection.range(k,$))}}return new EditorSelection(e,a)}}function checkSelection(s,e){for(let a of s.ranges)if(a.to>e)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(e,a,o,c,d){this.combine=e,this.compareInput=a,this.compare=o,this.isStatic=c,this.id=nextID++,this.default=e([]),this.extensions=typeof d=="function"?d(this):d}static define(e={}){return new Facet(e.combine||(a=>a),e.compareInput||((a,o)=>a===o),e.compare||(e.combine?(a,o)=>a===o:sameArray$1),!!e.static,e.enables)}of(e){return new FacetProvider([],this,0,e)}compute(e,a){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,1,a)}computeN(e,a){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,2,a)}from(e,a){return a||(a=o=>o),this.compute([e],o=>a(o.field(e)))}}function sameArray$1(s,e){return s==e||s.length==e.length&&s.every((a,o)=>a===e[o])}class FacetProvider{constructor(e,a,o,c){this.dependencies=e,this.facet=a,this.type=o,this.value=c,this.id=nextID++}dynamicSlot(e){var a;let o=this.value,c=this.facet.compareInput,d=this.id,b=e[d]>>1,k=this.type==2,$=!1,_=!1,j=[];for(let _e of this.dependencies)_e=="doc"?$=!0:_e=="selection"?_=!0:(((a=e[_e.id])!==null&&a!==void 0?a:1)&1)==0&&j.push(e[_e.id]);return{create(_e){return _e.values[b]=o(_e),1},update(_e,tt){if($&&tt.docChanged||_&&(tt.docChanged||tt.selection)||ensureAll(_e,j)){let it=o(_e);if(k?!compareArray(it,_e.values[b],c):!c(it,_e.values[b]))return _e.values[b]=it,1}return 0},reconfigure:(_e,tt)=>{let it=o(_e),nt=tt.config.address[d];if(nt!=null){let at=getAddr(tt,nt);if(this.dependencies.every(rt=>rt instanceof Facet?tt.facet(rt)===_e.facet(rt):rt instanceof StateField?tt.field(rt,!1)==_e.field(rt,!1):!0)||(k?compareArray(it,at,c):c(it,at)))return _e.values[b]=at,0}return _e.values[b]=it,1}}}}function compareArray(s,e,a){if(s.length!=e.length)return!1;for(let o=0;o<s.length;o++)if(!a(s[o],e[o]))return!1;return!0}function ensureAll(s,e){let a=!1;for(let o of e)ensureAddr(s,o)&1&&(a=!0);return a}function dynamicFacetSlot(s,e,a){let o=a.map($=>s[$.id]),c=a.map($=>$.type),d=o.filter($=>!($&1)),b=s[e.id]>>1;function k($){let _=[];for(let j=0;j<o.length;j++){let _e=getAddr($,o[j]);if(c[j]==2)for(let tt of _e)_.push(tt);else _.push(_e)}return e.combine(_)}return{create($){for(let _ of o)ensureAddr($,_);return $.values[b]=k($),1},update($,_){if(!ensureAll($,d))return 0;let j=k($);return e.compare(j,$.values[b])?0:($.values[b]=j,1)},reconfigure($,_){let j=ensureAll($,o),_e=_.config.facets[e.id],tt=_.facet(e);if(_e&&!j&&sameArray$1(a,_e))return $.values[b]=tt,0;let it=k($);return e.compare(it,tt)?($.values[b]=tt,0):($.values[b]=it,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(e,a,o,c,d){this.id=e,this.createF=a,this.updateF=o,this.compareF=c,this.spec=d,this.provides=void 0}static define(e){let a=new StateField(nextID++,e.create,e.update,e.compare||((o,c)=>o===c),e);return e.provide&&(a.provides=e.provide(a)),a}create(e){let a=e.facet(initField).find(o=>o.field==this);return((a==null?void 0:a.create)||this.createF)(e)}slot(e){let a=e[this.id]>>1;return{create:o=>(o.values[a]=this.create(o),1),update:(o,c)=>{let d=o.values[a],b=this.updateF(d,c);return this.compareF(d,b)?0:(o.values[a]=b,1)},reconfigure:(o,c)=>c.config.address[this.id]!=null?(o.values[a]=c.field(this),0):(o.values[a]=this.create(o),1)}}init(e){return[this,initField.of({field:this,create:e})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(s){return e=>new PrecExtension(e,s)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(e,a){this.inner=e,this.prec=a}}class Compartment{of(e){return new CompartmentInstance(this,e)}reconfigure(e){return Compartment.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CompartmentInstance{constructor(e,a){this.compartment=e,this.inner=a}}class Configuration{constructor(e,a,o,c,d,b){for(this.base=e,this.compartments=a,this.dynamicSlots=o,this.address=c,this.staticValues=d,this.facets=b,this.statusTemplate=[];this.statusTemplate.length<o.length;)this.statusTemplate.push(0)}staticFacet(e){let a=this.address[e.id];return a==null?e.default:this.staticValues[a>>1]}static resolve(e,a,o){let c=[],d=Object.create(null),b=new Map;for(let tt of flatten(e,a,b))tt instanceof StateField?c.push(tt):(d[tt.facet.id]||(d[tt.facet.id]=[])).push(tt);let k=Object.create(null),$=[],_=[];for(let tt of c)k[tt.id]=_.length<<1,_.push(it=>tt.slot(it));let j=o==null?void 0:o.config.facets;for(let tt in d){let it=d[tt],nt=it[0].facet,at=j&&j[tt]||[];if(it.every(rt=>rt.type==0))if(k[nt.id]=$.length<<1|1,sameArray$1(at,it))$.push(o.facet(nt));else{let rt=nt.combine(it.map(st=>st.value));$.push(o&&nt.compare(rt,o.facet(nt))?o.facet(nt):rt)}else{for(let rt of it)rt.type==0?(k[rt.id]=$.length<<1|1,$.push(rt.value)):(k[rt.id]=_.length<<1,_.push(st=>rt.dynamicSlot(st)));k[nt.id]=_.length<<1,_.push(rt=>dynamicFacetSlot(rt,nt,it))}}let _e=_.map(tt=>tt(k));return new Configuration(e,b,_e,k,$,d)}}function flatten(s,e,a){let o=[[],[],[],[],[]],c=new Map;function d(b,k){let $=c.get(b);if($!=null){if($<=k)return;let _=o[$].indexOf(b);_>-1&&o[$].splice(_,1),b instanceof CompartmentInstance&&a.delete(b.compartment)}if(c.set(b,k),Array.isArray(b))for(let _ of b)d(_,k);else if(b instanceof CompartmentInstance){if(a.has(b.compartment))throw new RangeError("Duplicate use of compartment in extensions");let _=e.get(b.compartment)||b.inner;a.set(b.compartment,_),d(_,k)}else if(b instanceof PrecExtension)d(b.inner,b.prec);else if(b instanceof StateField)o[k].push(b),b.provides&&d(b.provides,k);else if(b instanceof FacetProvider)o[k].push(b),b.facet.extensions&&d(b.facet.extensions,Prec_.default);else{let _=b.extension;if(!_)throw new Error(`Unrecognized extension value in extension set (${b}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);d(_,k)}}return d(s,Prec_.default),o.reduce((b,k)=>b.concat(k))}function ensureAddr(s,e){if(e&1)return 2;let a=e>>1,o=s.status[a];if(o==4)throw new Error("Cyclic dependency between fields and/or facets");if(o&2)return o;s.status[a]=4;let c=s.computeSlot(s,s.config.dynamicSlots[a]);return s.status[a]=2|c}function getAddr(s,e){return e&1?s.config.staticValues[e>>1]:s.values[e>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:s=>s.some(e=>e),static:!0}),lineSeparator=Facet.define({combine:s=>s.length?s[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:s=>s.length?s[0]:!1});class Annotation{constructor(e,a){this.type=e,this.value=a}static define(){return new AnnotationType}}class AnnotationType{of(e){return new Annotation(this,e)}}class StateEffectType{constructor(e){this.map=e}of(e){return new StateEffect(this,e)}}class StateEffect{constructor(e,a){this.type=e,this.value=a}map(e){let a=this.type.map(this.value,e);return a===void 0?void 0:a==this.value?this:new StateEffect(this.type,a)}is(e){return this.type==e}static define(e={}){return new StateEffectType(e.map||(a=>a))}static mapEffects(e,a){if(!e.length)return e;let o=[];for(let c of e){let d=c.map(a);d&&o.push(d)}return o}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(e,a,o,c,d,b){this.startState=e,this.changes=a,this.selection=o,this.effects=c,this.annotations=d,this.scrollIntoView=b,this._doc=null,this._state=null,o&&checkSelection(o,a.newLength),d.some(k=>k.type==Transaction.time)||(this.annotations=d.concat(Transaction.time.of(Date.now())))}static create(e,a,o,c,d,b){return new Transaction(e,a,o,c,d,b)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let a of this.annotations)if(a.type==e)return a.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let a=this.annotation(Transaction.userEvent);return!!(a&&(a==e||a.length>e.length&&a.slice(0,e.length)==e&&a[e.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(s,e){let a=[];for(let o=0,c=0;;){let d,b;if(o<s.length&&(c==e.length||e[c]>=s[o]))d=s[o++],b=s[o++];else if(c<e.length)d=e[c++],b=e[c++];else return a;!a.length||a[a.length-1]<d?a.push(d,b):a[a.length-1]<b&&(a[a.length-1]=b)}}function mergeTransaction(s,e,a){var o;let c,d,b;return a?(c=e.changes,d=ChangeSet.empty(e.changes.length),b=s.changes.compose(e.changes)):(c=e.changes.map(s.changes),d=s.changes.mapDesc(e.changes,!0),b=s.changes.compose(c)),{changes:b,selection:e.selection?e.selection.map(d):(o=s.selection)===null||o===void 0?void 0:o.map(c),effects:StateEffect.mapEffects(s.effects,c).concat(StateEffect.mapEffects(e.effects,d)),annotations:s.annotations.length?s.annotations.concat(e.annotations):e.annotations,scrollIntoView:s.scrollIntoView||e.scrollIntoView}}function resolveTransactionInner(s,e,a){let o=e.selection,c=asArray$1(e.annotations);return e.userEvent&&(c=c.concat(Transaction.userEvent.of(e.userEvent))),{changes:e.changes instanceof ChangeSet?e.changes:ChangeSet.of(e.changes||[],a,s.facet(lineSeparator)),selection:o&&(o instanceof EditorSelection?o:EditorSelection.single(o.anchor,o.head)),effects:asArray$1(e.effects),annotations:c,scrollIntoView:!!e.scrollIntoView}}function resolveTransaction(s,e,a){let o=resolveTransactionInner(s,e.length?e[0]:{},s.doc.length);e.length&&e[0].filter===!1&&(a=!1);for(let d=1;d<e.length;d++){e[d].filter===!1&&(a=!1);let b=!!e[d].sequential;o=mergeTransaction(o,resolveTransactionInner(s,e[d],b?o.changes.newLength:s.doc.length),b)}let c=Transaction.create(s,o.changes,o.selection,o.effects,o.annotations,o.scrollIntoView);return extendTransaction(a?filterTransaction(c):c)}function filterTransaction(s){let e=s.startState,a=!0;for(let c of e.facet(changeFilter)){let d=c(s);if(d===!1){a=!1;break}Array.isArray(d)&&(a=a===!0?d:joinRanges(a,d))}if(a!==!0){let c,d;if(a===!1)d=s.changes.invertedDesc,c=ChangeSet.empty(e.doc.length);else{let b=s.changes.filter(a);c=b.changes,d=b.filtered.mapDesc(b.changes).invertedDesc}s=Transaction.create(e,c,s.selection&&s.selection.map(d),StateEffect.mapEffects(s.effects,d),s.annotations,s.scrollIntoView)}let o=e.facet(transactionFilter);for(let c=o.length-1;c>=0;c--){let d=o[c](s);d instanceof Transaction?s=d:Array.isArray(d)&&d.length==1&&d[0]instanceof Transaction?s=d[0]:s=resolveTransaction(e,asArray$1(d),!1)}return s}function extendTransaction(s){let e=s.startState,a=e.facet(transactionExtender),o=s;for(let c=a.length-1;c>=0;c--){let d=a[c](s);d&&Object.keys(d).length&&(o=mergeTransaction(s,resolveTransactionInner(e,d,s.changes.newLength),!0))}return o==s?s:Transaction.create(e,s.changes,s.selection,o.effects,o.annotations,o.scrollIntoView)}const none$2=[];function asArray$1(s){return s==null?none$2:Array.isArray(s)?s:[s]}var CharCategory=function(s){return s[s.Word=0]="Word",s[s.Space=1]="Space",s[s.Other=2]="Other",s}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(s){}function hasWordChar(s){if(wordChar)return wordChar.test(s);for(let e=0;e<s.length;e++){let a=s[e];if(/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||nonASCIISingleCaseWordChar.test(a)))return!0}return!1}function makeCategorizer(s){return e=>{if(!/\S/.test(e))return CharCategory.Space;if(hasWordChar(e))return CharCategory.Word;for(let a=0;a<s.length;a++)if(e.indexOf(s[a])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(e,a,o,c,d,b){this.config=e,this.doc=a,this.selection=o,this.values=c,this.status=e.statusTemplate.slice(),this.computeSlot=d,b&&(b._state=this);for(let k=0;k<this.config.dynamicSlots.length;k++)ensureAddr(this,k<<1);this.computeSlot=null}field(e,a=!0){let o=this.config.address[e.id];if(o==null){if(a)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,o),getAddr(this,o)}update(...e){return resolveTransaction(this,e,!0)}applyTransaction(e){let a=this.config,{base:o,compartments:c}=a;for(let b of e.effects)b.is(Compartment.reconfigure)?(a&&(c=new Map,a.compartments.forEach((k,$)=>c.set($,k)),a=null),c.set(b.value.compartment,b.value.extension)):b.is(StateEffect.reconfigure)?(a=null,o=b.value):b.is(StateEffect.appendConfig)&&(a=null,o=asArray$1(o).concat(b.value));let d;a?d=e.startState.values.slice():(a=Configuration.resolve(o,c,this),d=new EditorState(a,this.doc,this.selection,a.dynamicSlots.map(()=>null),(k,$)=>$.reconfigure(k,this),null).values),new EditorState(a,e.newDoc,e.newSelection,d,(b,k)=>k.update(b,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:e},range:EditorSelection.cursor(a.from+e.length)}))}changeByRange(e){let a=this.selection,o=e(a.ranges[0]),c=this.changes(o.changes),d=[o.range],b=asArray$1(o.effects);for(let k=1;k<a.ranges.length;k++){let $=e(a.ranges[k]),_=this.changes($.changes),j=_.map(c);for(let tt=0;tt<k;tt++)d[tt]=d[tt].map(j);let _e=c.mapDesc(_,!0);d.push($.range.map(_e)),c=c.compose(j),b=StateEffect.mapEffects(b,j).concat(StateEffect.mapEffects(asArray$1($.effects),_e))}return{changes:c,selection:EditorSelection.create(d,a.mainIndex),effects:b}}changes(e=[]){return e instanceof ChangeSet?e:ChangeSet.of(e,this.doc.length,this.facet(EditorState.lineSeparator))}toText(e){return Text.of(e.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(e=0,a=this.doc.length){return this.doc.sliceString(e,a,this.lineBreak)}facet(e){let a=this.config.address[e.id];return a==null?e.default:(ensureAddr(this,a),getAddr(this,a))}toJSON(e){let a={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let o in e){let c=e[o];c instanceof StateField&&this.config.address[c.id]!=null&&(a[o]=c.spec.toJSON(this.field(e[o]),this))}return a}static fromJSON(e,a={},o){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let c=[];if(o){for(let d in o)if(Object.prototype.hasOwnProperty.call(e,d)){let b=o[d],k=e[d];c.push(b.init($=>b.spec.fromJSON(k,$)))}}return EditorState.create({doc:e.doc,selection:EditorSelection.fromJSON(e.selection),extensions:a.extensions?c.concat([a.extensions]):c})}static create(e={}){let a=Configuration.resolve(e.extensions||[],new Map),o=e.doc instanceof Text?e.doc:Text.of((e.doc||"").split(a.staticFacet(EditorState.lineSeparator)||DefaultSplit)),c=e.selection?e.selection instanceof EditorSelection?e.selection:EditorSelection.single(e.selection.anchor,e.selection.head):EditorSelection.single(0);return checkSelection(c,o.length),a.staticFacet(allowMultipleSelections)||(c=c.asSingle()),new EditorState(a,o,c,a.dynamicSlots.map(()=>null),(d,b)=>b.create(d),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(e,...a){for(let o of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(o,e)){e=o[e];break}return a.length&&(e=e.replace(/\$(\$|\d*)/g,(o,c)=>{if(c=="$")return"$";let d=+(c||1);return!d||d>a.length?o:a[d-1]})),e}languageDataAt(e,a,o=-1){let c=[];for(let d of this.facet(languageData))for(let b of d(this,a,o))Object.prototype.hasOwnProperty.call(b,e)&&c.push(b[e]);return c}charCategorizer(e){return makeCategorizer(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:a,from:o,length:c}=this.doc.lineAt(e),d=this.charCategorizer(e),b=e-o,k=e-o;for(;b>0;){let $=findClusterBreak(a,b,!1);if(d(a.slice($,b))!=CharCategory.Word)break;b=$}for(;k<c;){let $=findClusterBreak(a,k);if(d(a.slice(k,$))!=CharCategory.Word)break;k=$}return b==k?null:EditorSelection.range(b+o,k+o)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:s=>s.length?s[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(s,e){let a=Object.keys(s),o=Object.keys(e);return a.length==o.length&&a.every(c=>s[c]==e[c])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(s,e,a={}){let o={};for(let c of s)for(let d of Object.keys(c)){let b=c[d],k=o[d];if(k===void 0)o[d]=b;else if(!(k===b||b===void 0))if(Object.hasOwnProperty.call(a,d))o[d]=a[d](k,b);else throw new Error("Config merge conflict for field "+d)}for(let c in e)o[c]===void 0&&(o[c]=e[c]);return o}class RangeValue{eq(e){return this==e}range(e,a=e){return Range$1.create(e,a,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;class Range$1{constructor(e,a,o){this.from=e,this.to=a,this.value=o}static create(e,a,o){return new Range$1(e,a,o)}}function cmpRange(s,e){return s.from-e.from||s.value.startSide-e.value.startSide}class Chunk{constructor(e,a,o,c){this.from=e,this.to=a,this.value=o,this.maxPoint=c}get length(){return this.to[this.to.length-1]}findIndex(e,a,o,c=0){let d=o?this.to:this.from;for(let b=c,k=d.length;;){if(b==k)return b;let $=b+k>>1,_=d[$]-e||(o?this.value[$].endSide:this.value[$].startSide)-a;if($==b)return _>=0?b:k;_>=0?k=$:b=$+1}}between(e,a,o,c){for(let d=this.findIndex(a,-1e9,!0),b=this.findIndex(o,1e9,!1,d);d<b;d++)if(c(this.from[d]+e,this.to[d]+e,this.value[d])===!1)return!1}map(e,a){let o=[],c=[],d=[],b=-1,k=-1;for(let $=0;$<this.value.length;$++){let _=this.value[$],j=this.from[$]+e,_e=this.to[$]+e,tt,it;if(j==_e){let nt=a.mapPos(j,_.startSide,_.mapMode);if(nt==null||(tt=it=nt,_.startSide!=_.endSide&&(it=a.mapPos(j,_.endSide),it<tt)))continue}else if(tt=a.mapPos(j,_.startSide),it=a.mapPos(_e,_.endSide),tt>it||tt==it&&_.startSide>0&&_.endSide<=0)continue;(it-tt||_.endSide-_.startSide)<0||(b<0&&(b=tt),_.point&&(k=Math.max(k,it-tt)),o.push(_),c.push(tt-b),d.push(it-b))}return{mapped:o.length?new Chunk(c,d,o,k):null,pos:b}}}class RangeSet{constructor(e,a,o,c){this.chunkPos=e,this.chunk=a,this.nextLayer=o,this.maxPoint=c}static create(e,a,o,c){return new RangeSet(e,a,o,c)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let a of this.chunk)e+=a.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:a=[],sort:o=!1,filterFrom:c=0,filterTo:d=this.length}=e,b=e.filter;if(a.length==0&&!b)return this;if(o&&(a=a.slice().sort(cmpRange)),this.isEmpty)return a.length?RangeSet.of(a):this;let k=new LayerCursor(this,null,-1).goto(0),$=0,_=[],j=new RangeSetBuilder;for(;k.value||$<a.length;)if($<a.length&&(k.from-a[$].from||k.startSide-a[$].value.startSide)>=0){let _e=a[$++];j.addInner(_e.from,_e.to,_e.value)||_.push(_e)}else k.rangeIndex==1&&k.chunkIndex<this.chunk.length&&($==a.length||this.chunkEnd(k.chunkIndex)<a[$].from)&&(!b||c>this.chunkEnd(k.chunkIndex)||d<this.chunkPos[k.chunkIndex])&&j.addChunk(this.chunkPos[k.chunkIndex],this.chunk[k.chunkIndex])?k.nextChunk():((!b||c>k.to||d<k.from||b(k.from,k.to,k.value))&&(j.addInner(k.from,k.to,k.value)||_.push(Range$1.create(k.from,k.to,k.value))),k.next());return j.finishInner(this.nextLayer.isEmpty&&!_.length?RangeSet.empty:this.nextLayer.update({add:_,filter:b,filterFrom:c,filterTo:d}))}map(e){if(e.empty||this.isEmpty)return this;let a=[],o=[],c=-1;for(let b=0;b<this.chunk.length;b++){let k=this.chunkPos[b],$=this.chunk[b],_=e.touchesRange(k,k+$.length);if(_===!1)c=Math.max(c,$.maxPoint),a.push($),o.push(e.mapPos(k));else if(_===!0){let{mapped:j,pos:_e}=$.map(k,e);j&&(c=Math.max(c,j.maxPoint),a.push(j),o.push(_e))}}let d=this.nextLayer.map(e);return a.length==0?d:new RangeSet(o,a,d||RangeSet.empty,c)}between(e,a,o){if(!this.isEmpty){for(let c=0;c<this.chunk.length;c++){let d=this.chunkPos[c],b=this.chunk[c];if(a>=d&&e<=d+b.length&&b.between(d,e-d,a-d,o)===!1)return}this.nextLayer.between(e,a,o)}}iter(e=0){return HeapCursor.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,a=0){return HeapCursor.from(e).goto(a)}static compare(e,a,o,c,d=-1){let b=e.filter(_e=>_e.maxPoint>0||!_e.isEmpty&&_e.maxPoint>=d),k=a.filter(_e=>_e.maxPoint>0||!_e.isEmpty&&_e.maxPoint>=d),$=findSharedChunks(b,k,o),_=new SpanCursor(b,$,d),j=new SpanCursor(k,$,d);o.iterGaps((_e,tt,it)=>compare(_,_e,j,tt,it,c)),o.empty&&o.length==0&&compare(_,0,j,0,0,c)}static eq(e,a,o=0,c){c==null&&(c=1e9);let d=e.filter(j=>!j.isEmpty&&a.indexOf(j)<0),b=a.filter(j=>!j.isEmpty&&e.indexOf(j)<0);if(d.length!=b.length)return!1;if(!d.length)return!0;let k=findSharedChunks(d,b),$=new SpanCursor(d,k,0).goto(o),_=new SpanCursor(b,k,0).goto(o);for(;;){if($.to!=_.to||!sameValues($.active,_.active)||$.point&&(!_.point||!$.point.eq(_.point)))return!1;if($.to>c)return!0;$.next(),_.next()}}static spans(e,a,o,c,d=-1){let b=new SpanCursor(e,null,d).goto(a),k=a,$=b.openStart;for(;;){let _=Math.min(b.to,o);if(b.point?(c.point(k,_,b.point,b.activeForPoint(b.to),$,b.pointRank),$=b.openEnd(_)+(b.to>_?1:0)):_>k&&(c.span(k,_,b.active,$),$=b.openEnd(_)),b.to>o)break;k=b.to,b.next()}return $}static of(e,a=!1){let o=new RangeSetBuilder;for(let c of e instanceof Range$1?[e]:a?lazySort(e):e)o.add(c.from,c.to,c.value);return o.finish()}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(s){if(s.length>1)for(let e=s[0],a=1;a<s.length;a++){let o=s[a];if(cmpRange(e,o)>0)return s.slice().sort(cmpRange);e=o}return s}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,a,o){this.addInner(e,a,o)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(e,a,o)}addInner(e,a,o){let c=e-this.lastTo||o.startSide-this.last.endSide;if(c<=0&&(e-this.lastFrom||o.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return c<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(a-this.chunkStart),this.last=o,this.lastFrom=e,this.lastTo=a,this.value.push(o),o.point&&(this.maxPoint=Math.max(this.maxPoint,a-e)),!0)}addChunk(e,a){if((e-this.lastTo||a.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,a.maxPoint),this.chunks.push(a),this.chunkPos.push(e);let o=a.value.length-1;return this.last=a.value[o],this.lastFrom=a.from[o]+e,this.lastTo=a.to[o]+e,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let a=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,a}}function findSharedChunks(s,e,a){let o=new Map;for(let d of s)for(let b=0;b<d.chunk.length;b++)d.chunk[b].maxPoint<=0&&o.set(d.chunk[b],d.chunkPos[b]);let c=new Set;for(let d of e)for(let b=0;b<d.chunk.length;b++){let k=o.get(d.chunk[b]);k!=null&&(a?a.mapPos(k):k)==d.chunkPos[b]&&!(a!=null&&a.touchesRange(k,k+d.chunk[b].length))&&c.add(d.chunk[b])}return c}class LayerCursor{constructor(e,a,o,c=0){this.layer=e,this.skip=a,this.minPoint=o,this.rank=c}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,a=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,a,!1),this}gotoInner(e,a,o){for(;this.chunkIndex<this.layer.chunk.length;){let c=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(c)||this.layer.chunkEnd(this.chunkIndex)<e||c.maxPoint<this.minPoint))break;this.chunkIndex++,o=!1}if(this.chunkIndex<this.layer.chunk.length){let c=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],a,!0);(!o||this.rangeIndex<c)&&this.setRangeIndex(c)}this.next()}forward(e,a){(this.to-e||this.endSide-a)<0&&this.gotoInner(e,a,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],a=this.layer.chunk[this.chunkIndex],o=e+a.from[this.rangeIndex];if(this.from=o,this.to=e+a.to[this.rangeIndex],this.value=a.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class HeapCursor{constructor(e){this.heap=e}static from(e,a=null,o=-1){let c=[];for(let d=0;d<e.length;d++)for(let b=e[d];!b.isEmpty;b=b.nextLayer)b.maxPoint>=o&&c.push(new LayerCursor(b,a,o,d));return c.length==1?c[0]:new HeapCursor(c)}get startSide(){return this.value?this.value.startSide:0}goto(e,a=-1e9){for(let o of this.heap)o.goto(e,a);for(let o=this.heap.length>>1;o>=0;o--)heapBubble(this.heap,o);return this.next(),this}forward(e,a){for(let o of this.heap)o.forward(e,a);for(let o=this.heap.length>>1;o>=0;o--)heapBubble(this.heap,o);(this.to-e||this.value.endSide-a)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),heapBubble(this.heap,0)}}}function heapBubble(s,e){for(let a=s[e];;){let o=(e<<1)+1;if(o>=s.length)break;let c=s[o];if(o+1<s.length&&c.compare(s[o+1])>=0&&(c=s[o+1],o++),a.compare(c)<0)break;s[o]=a,s[e]=c,e=o}}class SpanCursor{constructor(e,a,o){this.minPoint=o,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(e,a,o)}goto(e,a=-1e9){return this.cursor.goto(e,a),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=a,this.openStart=-1,this.next(),this}forward(e,a){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-a)<0;)this.removeActive(this.minActive);this.cursor.forward(e,a)}removeActive(e){remove(this.active,e),remove(this.activeTo,e),remove(this.activeRank,e),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(e){let a=0,{value:o,to:c,rank:d}=this.cursor;for(;a<this.activeRank.length&&this.activeRank[a]<=d;)a++;insert(this.active,a,o),insert(this.activeTo,a,c),insert(this.activeRank,a,d),e&&insert(e,a,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let e=this.to,a=this.point;this.point=null;let o=this.openStart<0?[]:null,c=0;for(;;){let d=this.minActive;if(d>-1&&(this.activeTo[d]-this.cursor.from||this.active[d].endSide-this.cursor.startSide)<0){if(this.activeTo[d]>e){this.to=this.activeTo[d],this.endSide=this.active[d].endSide;break}this.removeActive(d),o&&remove(o,d)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let b=this.cursor.value;if(!b.point)this.addActive(o),this.cursor.from<e&&this.cursor.to>e&&c++,this.cursor.next();else if(a&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=b,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=b.endSide,this.cursor.from<e&&(c=1),this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(o){let d=0;for(;d<o.length&&o[d]<e;)d++;this.openStart=d+c}}activeForPoint(e){if(!this.active.length)return this.active;let a=[];for(let o=this.active.length-1;o>=0&&!(this.activeRank[o]<this.pointRank);o--)(this.activeTo[o]>e||this.activeTo[o]==e&&this.active[o].endSide>=this.point.endSide)&&a.push(this.active[o]);return a.reverse()}openEnd(e){let a=0;for(let o=this.activeTo.length-1;o>=0&&this.activeTo[o]>e;o--)a++;return a}}function compare(s,e,a,o,c,d){s.goto(e),a.goto(o);let b=o+c,k=o,$=o-e;for(;;){let _=s.to+$-a.to||s.endSide-a.endSide,j=_<0?s.to+$:a.to,_e=Math.min(j,b);if(s.point||a.point?s.point&&a.point&&(s.point==a.point||s.point.eq(a.point))&&sameValues(s.activeForPoint(s.to+$),a.activeForPoint(a.to))||d.comparePoint(k,_e,s.point,a.point):_e>k&&!sameValues(s.active,a.active)&&d.compareRange(k,_e,s.active,a.active),j>b)break;k=j,_<=0&&s.next(),_>=0&&a.next()}}function sameValues(s,e){if(s.length!=e.length)return!1;for(let a=0;a<s.length;a++)if(s[a]!=e[a]&&!s[a].eq(e[a]))return!1;return!0}function remove(s,e){for(let a=e,o=s.length-1;a<o;a++)s[a]=s[a+1];s.pop()}function insert(s,e,a){for(let o=s.length-1;o>=e;o--)s[o+1]=s[o];s[e]=a}function findMinIndex(s,e){let a=-1,o=1e9;for(let c=0;c<e.length;c++)(e[c]-o||s[c].endSide-s[a].endSide)<0&&(a=c,o=e[c]);return a}function countColumn(s,e,a=s.length){let o=0;for(let c=0;c<a;)s.charCodeAt(c)==9?(o+=e-o%e,c++):(o++,c=findClusterBreak(s,c));return o}function findColumn(s,e,a,o){for(let c=0,d=0;;){if(d>=e)return c;if(c==s.length)break;d+=s.charCodeAt(c)==9?a-d%a:1,c=findClusterBreak(s,c)}return o===!0?-1:s.length}const C="\u037C",COUNT=typeof Symbol=="undefined"?"__"+C:Symbol.for(C),SET=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class StyleModule{constructor(e,a){this.rules=[];let{finish:o}=a||{};function c(b){return/^@/.test(b)?[b]:b.split(/,\s*/)}function d(b,k,$,_){let j=[],_e=/^@(\w+)\b/.exec(b[0]),tt=_e&&_e[1]=="keyframes";if(_e&&k==null)return $.push(b[0]+";");for(let it in k){let nt=k[it];if(/&/.test(it))d(it.split(/,\s*/).map(at=>b.map(rt=>at.replace(/&/,rt))).reduce((at,rt)=>at.concat(rt)),nt,$);else if(nt&&typeof nt=="object"){if(!_e)throw new RangeError("The value of a property ("+it+") should be a primitive value.");d(c(it),nt,j,tt)}else nt!=null&&j.push(it.replace(/_.*/,"").replace(/[A-Z]/g,at=>"-"+at.toLowerCase())+": "+nt+";")}(j.length||tt)&&$.push((o&&!_e&&!_?b.map(o):b).join(", ")+" {"+j.join(" ")+"}")}for(let b in e)d(c(b),e[b],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=top[COUNT]||1;return top[COUNT]=e+1,C+e.toString(36)}static mount(e,a){(e[SET]||new StyleSet(e)).mount(Array.isArray(a)?a:[a])}}let adoptedSet=null;class StyleSet{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet!="undefined"){if(adoptedSet)return e.adoptedStyleSheets=[adoptedSet.sheet].concat(e.adoptedStyleSheets),e[SET]=adoptedSet;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),adoptedSet=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let a=e.head||e;a.insertBefore(this.styleTag,a.firstChild)}this.modules=[],e[SET]=this}mount(e){let a=this.sheet,o=0,c=0;for(let d=0;d<e.length;d++){let b=e[d],k=this.modules.indexOf(b);if(k<c&&k>-1&&(this.modules.splice(k,1),c--,k=-1),k==-1){if(this.modules.splice(c++,0,b),a)for(let $=0;$<b.rules.length;$++)a.insertRule(b.rules[$],o++)}else{for(;c<k;)o+=this.modules[c++].rules.length;o+=b.rules.length,c++}}if(!a){let d="";for(let b=0;b<this.modules.length;b++)d+=this.modules[b].getRules()+`
`;this.styleTag.textContent=d}}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},chrome$1=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),safari$1=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),gecko$1=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),mac=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),ie$2=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),brokenModifierNames=chrome$1&&(mac||+chrome$1[1]<57)||gecko$1&&mac;for(var i$1=0;i$1<10;i$1++)base[48+i$1]=base[96+i$1]=String(i$1);for(var i$1=1;i$1<=24;i$1++)base[i$1+111]="F"+i$1;for(var i$1=65;i$1<=90;i$1++)base[i$1]=String.fromCharCode(i$1+32),shift[i$1]=String.fromCharCode(i$1);for(var code$1 in base)shift.hasOwnProperty(code$1)||(shift[code$1]=base[code$1]);function keyName(s){var e=brokenModifierNames&&(s.ctrlKey||s.altKey||s.metaKey)||(safari$1||ie$2)&&s.shiftKey&&s.key&&s.key.length==1,a=!e&&s.key||(s.shiftKey?shift:base)[s.keyCode]||s.key||"Unidentified";return a=="Esc"&&(a="Escape"),a=="Del"&&(a="Delete"),a=="Left"&&(a="ArrowLeft"),a=="Up"&&(a="ArrowUp"),a=="Right"&&(a="ArrowRight"),a=="Down"&&(a="ArrowDown"),a}function getSelection(s){let e;return s.nodeType==11?e=s.getSelection?s:s.ownerDocument:e=s,e.getSelection()}function contains(s,e){return e?s==e||s.contains(e.nodeType!=1?e.parentNode:e):!1}function deepActiveElement(){let s=document.activeElement;for(;s&&s.shadowRoot;)s=s.shadowRoot.activeElement;return s}function hasSelection(s,e){if(!e.anchorNode)return!1;try{return contains(s,e.anchorNode)}catch{return!1}}function clientRectsFor(s){return s.nodeType==3?textRange(s,0,s.nodeValue.length).getClientRects():s.nodeType==1?s.getClientRects():[]}function isEquivalentPosition(s,e,a,o){return a?scanFor(s,e,a,o,-1)||scanFor(s,e,a,o,1):!1}function domIndex(s){for(var e=0;;e++)if(s=s.previousSibling,!s)return e}function scanFor(s,e,a,o,c){for(;;){if(s==a&&e==o)return!0;if(e==(c<0?0:maxOffset(s))){if(s.nodeName=="DIV")return!1;let d=s.parentNode;if(!d||d.nodeType!=1)return!1;e=domIndex(s)+(c<0?0:1),s=d}else if(s.nodeType==1){if(s=s.childNodes[e+(c<0?-1:0)],s.nodeType==1&&s.contentEditable=="false")return!1;e=c<0?maxOffset(s):0}else return!1}}function maxOffset(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}const Rect0={left:0,right:0,top:0,bottom:0};function flattenRect(s,e){let a=e?s.left:s.right;return{left:a,right:a,top:s.top,bottom:s.bottom}}function windowRect(s){return{left:0,right:s.innerWidth,top:0,bottom:s.innerHeight}}function scrollRectIntoView(s,e,a,o,c,d,b,k){let $=s.ownerDocument,_=$.defaultView;for(let j=s;j;)if(j.nodeType==1){let _e,tt=j==$.body;if(tt)_e=windowRect(_);else{if(j.scrollHeight<=j.clientHeight&&j.scrollWidth<=j.clientWidth){j=j.parentNode;continue}let at=j.getBoundingClientRect();_e={left:at.left,right:at.left+j.clientWidth,top:at.top,bottom:at.top+j.clientHeight}}let it=0,nt=0;if(c=="nearest")e.top<_e.top?(nt=-(_e.top-e.top+b),a>0&&e.bottom>_e.bottom+nt&&(nt=e.bottom-_e.bottom+nt+b)):e.bottom>_e.bottom&&(nt=e.bottom-_e.bottom+b,a<0&&e.top-nt<_e.top&&(nt=-(_e.top+nt-e.top+b)));else{let at=e.bottom-e.top,rt=_e.bottom-_e.top;nt=(c=="center"&&at<=rt?e.top+at/2-rt/2:c=="start"||c=="center"&&a<0?e.top-b:e.bottom-rt+b)-_e.top}if(o=="nearest"?e.left<_e.left?(it=-(_e.left-e.left+d),a>0&&e.right>_e.right+it&&(it=e.right-_e.right+it+d)):e.right>_e.right&&(it=e.right-_e.right+d,a<0&&e.left<_e.left+it&&(it=-(_e.left+it-e.left+d))):it=(o=="center"?e.left+(e.right-e.left)/2-(_e.right-_e.left)/2:o=="start"==k?e.left-d:e.right-(_e.right-_e.left)+d)-_e.left,it||nt)if(tt)_.scrollBy(it,nt);else{if(nt){let at=j.scrollTop;j.scrollTop+=nt,nt=j.scrollTop-at}if(it){let at=j.scrollLeft;j.scrollLeft+=it,it=j.scrollLeft-at}e={left:e.left-it,top:e.top-nt,right:e.right-it,bottom:e.bottom-nt}}if(tt)break;j=j.assignedSlot||j.parentNode,o=c="nearest"}else if(j.nodeType==11)j=j.host;else break}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,a,o,c){this.anchorNode=e,this.anchorOffset=a,this.focusNode=o,this.focusOffset=c}}let preventScrollSupported=null;function focusPreventScroll(s){if(s.setActive)return s.setActive();if(preventScrollSupported)return s.focus(preventScrollSupported);let e=[];for(let a=s;a&&(e.push(a,a.scrollTop,a.scrollLeft),a!=a.ownerDocument);a=a.parentNode);if(s.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let a=0;a<e.length;){let o=e[a++],c=e[a++],d=e[a++];o.scrollTop!=c&&(o.scrollTop=c),o.scrollLeft!=d&&(o.scrollLeft=d)}}}let scratchRange;function textRange(s,e,a=e){let o=scratchRange||(scratchRange=document.createRange());return o.setEnd(s,a),o.setStart(s,e),o}function dispatchKey(s,e,a){let o={key:e,code:e,keyCode:a,which:a,cancelable:!0},c=new KeyboardEvent("keydown",o);c.synthetic=!0,s.dispatchEvent(c);let d=new KeyboardEvent("keyup",o);return d.synthetic=!0,s.dispatchEvent(d),c.defaultPrevented||d.defaultPrevented}function getRoot(s){for(;s;){if(s&&(s.nodeType==9||s.nodeType==11&&s.host))return s;s=s.assignedSlot||s.parentNode}return null}function clearAttributes(s){for(;s.attributes.length;)s.removeAttributeNode(s.attributes[0])}function atElementStart(s,e){let a=e.focusNode,o=e.focusOffset;if(!a||e.anchorNode!=a||e.anchorOffset!=o)return!1;for(;;)if(o){if(a.nodeType!=1)return!1;let c=a.childNodes[o-1];c.contentEditable=="false"?o--:(a=c,o=maxOffset(a))}else{if(a==s)return!0;o=domIndex(a),a=a.parentNode}}class DOMPos{constructor(e,a,o=!0){this.node=e,this.offset=a,this.precise=o}static before(e,a){return new DOMPos(e.parentNode,domIndex(e),a)}static after(e,a){return new DOMPos(e.parentNode,domIndex(e)+1,a)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let a=this.posAtStart;for(let o of this.children){if(o==e)return a;a+=o.length+o.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,a){return null}sync(e){if(this.dirty&2){let a=this.dom,o=null,c;for(let d of this.children){if(d.dirty){if(!d.dom&&(c=o?o.nextSibling:a.firstChild)){let b=ContentView.get(c);(!b||!b.parent&&b.constructor==d.constructor)&&d.reuseDOM(c)}d.sync(e),d.dirty=0}if(c=o?o.nextSibling:a.firstChild,e&&!e.written&&e.node==a&&c!=d.dom&&(e.written=!0),d.dom.parentNode==a)for(;c&&c!=d.dom;)c=rm$1(c);else a.insertBefore(d.dom,c);o=d.dom}for(c=o?o.nextSibling:a.firstChild,c&&e&&e.node==a&&(e.written=!0);c;)c=rm$1(c)}else if(this.dirty&1)for(let a of this.children)a.dirty&&(a.sync(e),a.dirty=0)}reuseDOM(e){}localPosFromDOM(e,a){let o;if(e==this.dom)o=this.dom.childNodes[a];else{let c=maxOffset(e)==0?0:a==0?-1:1;for(;;){let d=e.parentNode;if(d==this.dom)break;c==0&&d.firstChild!=d.lastChild&&(e==d.firstChild?c=-1:c=1),e=d}c<0?o=e:o=e.nextSibling}if(o==this.dom.firstChild)return 0;for(;o&&!ContentView.get(o);)o=o.nextSibling;if(!o)return this.length;for(let c=0,d=0;;c++){let b=this.children[c];if(b.dom==o)return d;d+=b.length+b.breakAfter}}domBoundsAround(e,a,o=0){let c=-1,d=-1,b=-1,k=-1;for(let $=0,_=o,j=o;$<this.children.length;$++){let _e=this.children[$],tt=_+_e.length;if(_<e&&tt>a)return _e.domBoundsAround(e,a,_);if(tt>=e&&c==-1&&(c=$,d=_),_>a&&_e.dom.parentNode==this.dom){b=$,k=j;break}j=tt,_=tt+_e.breakAfter}return{from:d,to:k<0?o+this.length:k,startDOM:(c?this.children[c-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:b<this.children.length&&b>=0?this.children[b].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let a=this.parent;a;a=a.parent){if(e&&(a.dirty|=2),a.dirty&1)return;a.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let a=e.parent;if(!a)return e;e=a}}replaceChildren(e,a,o=noChildren){this.markDirty();for(let c=e;c<a;c++){let d=this.children[c];d.parent==this&&d.destroy()}this.children.splice(e,a-e,...o);for(let c=0;c<o.length;c++)o[c].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ChildCursor(this.children,e,this.children.length)}childPos(e,a=1){return this.childCursor().findPos(e,a)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,a,o,c,d,b){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(s){let e=s.nextSibling;return s.parentNode.removeChild(s),e}class ChildCursor{constructor(e,a,o){this.children=e,this.pos=a,this.i=o,this.off=0}findPos(e,a=1){for(;;){if(e>this.pos||e==this.pos&&(a>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let o=this.children[--this.i];this.pos-=o.length+o.breakAfter}}}function replaceRange(s,e,a,o,c,d,b,k,$){let{children:_}=s,j=_.length?_[e]:null,_e=d.length?d[d.length-1]:null,tt=_e?_e.breakAfter:b;if(!(e==o&&j&&!b&&!tt&&d.length<2&&j.merge(a,c,d.length?_e:null,a==0,k,$))){if(o<_.length){let it=_[o];it&&c<it.length?(e==o&&(it=it.split(c),c=0),!tt&&_e&&it.merge(0,c,_e,!0,0,$)?d[d.length-1]=it:(c&&it.merge(0,c,null,!1,0,$),d.push(it))):it!=null&&it.breakAfter&&(_e?_e.breakAfter=1:b=1),o++}for(j&&(j.breakAfter=b,a>0&&(!b&&d.length&&j.merge(a,j.length,d[0],!1,k,0)?j.breakAfter=d.shift().breakAfter:(a<j.length||j.children.length&&j.children[j.children.length-1].length==0)&&j.merge(a,j.length,null,!1,k,0),e++));e<o&&d.length;)if(_[o-1].become(d[d.length-1]))o--,d.pop(),$=d.length?0:k;else if(_[e].become(d[0]))e++,d.shift(),k=d.length?0:$;else break;!d.length&&e&&o<_.length&&!_[e-1].breakAfter&&_[o].merge(0,0,_[e-1],!1,k,$)&&e--,(e<o||d.length)&&s.replaceChildren(e,o,d)}}function mergeChildrenInto(s,e,a,o,c,d){let b=s.childCursor(),{i:k,off:$}=b.findPos(a,1),{i:_,off:j}=b.findPos(e,-1),_e=e-a;for(let tt of o)_e+=tt.length;s.length+=_e,replaceRange(s,_,j,k,$,o,0,c,d)}let nav=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document!="undefined"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie$1=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie$1&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie$1&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie$1&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie:ie$1,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,a,o){return o&&(!(o instanceof TextView)||this.length-(a-e)+o.length>MaxJoinLen)?!1:(this.text=this.text.slice(0,e)+(o?o.text:"")+this.text.slice(a),this.markDirty(),!0)}split(e){let a=new TextView(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),a}localPosFromDOM(e,a){return e==this.dom?a:a?this.text.length:0}domAtPos(e){return new DOMPos(this.dom,e)}domBoundsAround(e,a,o){return{from:o,to:o+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,a){return textCoords(this.dom,e,a)}}class MarkView extends ContentView{constructor(e,a=[],o=0){super(),this.mark=e,this.children=a,this.length=o;for(let c of a)c.setParent(this)}setAttrs(e){if(clearAttributes(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let a in this.mark.attrs)e.setAttribute(a,this.mark.attrs[a]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,a,o,c,d,b){return o&&(!(o instanceof MarkView&&o.mark.eq(this.mark))||e&&d<=0||a<this.length&&b<=0)?!1:(mergeChildrenInto(this,e,a,o?o.children:[],d-1,b-1),this.markDirty(),!0)}split(e){let a=[],o=0,c=-1,d=0;for(let k of this.children){let $=o+k.length;$>e&&a.push(o<e?k.split(e-o):k),c<0&&o>=e&&(c=d),o=$,d++}let b=this.length-e;return this.length=e,c>-1&&(this.children.length=c,this.markDirty()),new MarkView(this.mark,a,b)}domAtPos(e){return inlineDOMAtPos(this.dom,this.children,e)}coordsAt(e,a){return coordsInChildren(this,e,a)}}function textCoords(s,e,a){let o=s.nodeValue.length;e>o&&(e=o);let c=e,d=e,b=0;e==0&&a<0||e==o&&a>=0?browser.chrome||browser.gecko||(e?(c--,b=1):d<o&&(d++,b=-1)):a<0?c--:d<o&&d++;let k=textRange(s,c,d).getClientRects();if(!k.length)return Rect0;let $=k[(b?b<0:a>=0)?0:k.length-1];return browser.safari&&!b&&$.width==0&&($=Array.prototype.find.call(k,_=>_.width)||$),b?flattenRect($,b<0):$||null}class WidgetView extends ContentView{constructor(e,a,o){super(),this.widget=e,this.length=a,this.side=o,this.prevWidget=null}static create(e,a,o){return new(e.customView||WidgetView)(e,a,o)}split(e){let a=WidgetView.create(this.widget,this.length-e,this.side);return this.length-=e,a}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,a,o,c,d,b){return o&&(!(o instanceof WidgetView)||!this.widget.compare(o.widget)||e>0&&d<=0||a<this.length&&b<=0)?!1:(this.length=e+(o?o.length:0)+(this.length-a),!0)}become(e){return e.length==this.length&&e instanceof WidgetView&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Text.empty;let e=this;for(;e.parent;)e=e.parent;let a=e.editorView,o=a&&a.state.doc,c=this.posAtStart;return o?o.slice(c,c+this.length):Text.empty}domAtPos(e){return e==0?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,a){let o=this.dom.getClientRects(),c=null;if(!o.length)return Rect0;for(let d=e>0?o.length-1:0;c=o[d],!(e>0?d==0:d==o.length-1||c.top<c.bottom);d+=e>0?-1:1);return e==0&&a>0||e==this.length&&a<=0?c:flattenRect(c,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class CompositionView extends WidgetView{domAtPos(e){let{topView:a,text:o}=this.widget;return a?scanCompositionTree(e,0,a,o,(c,d)=>c.domAtPos(d),c=>new DOMPos(o,Math.min(c,o.nodeValue.length))):new DOMPos(o,Math.min(e,o.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,a){let{topView:o,text:c}=this.widget;return o?posFromDOMInCompositionTree(e,a,o,c):Math.min(a,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,a){let{topView:o,text:c}=this.widget;return o?scanCompositionTree(e,a,o,c,(d,b,k)=>d.coordsAt(b,k),(d,b)=>textCoords(c,d,b)):textCoords(c,e,a)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}}function scanCompositionTree(s,e,a,o,c,d){if(a instanceof MarkView){for(let b of a.children){let k=contains(b.dom,o),$=k?o.nodeValue.length:b.length;if(s<$||s==$&&b.getSide()<=0)return k?scanCompositionTree(s,e,b,o,c,d):c(b,s,e);s-=$}return c(a,a.length,-1)}else return a.dom==o?d(s,e):c(a,s,e)}function posFromDOMInCompositionTree(s,e,a,o){if(a instanceof MarkView)for(let c of a.children){let d=0,b=contains(c.dom,o);if(contains(c.dom,s))return d+(b?posFromDOMInCompositionTree(s,e,c,o):c.localPosFromDOM(s,e));d+=b?o.nodeValue.length:c.length}else if(a.dom==o)return Math.min(e,o.nodeValue.length);return a.localPosFromDOM(s,e)}class WidgetBufferView extends ContentView{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof WidgetBufferView&&e.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return DOMPos.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let a=this.dom.getBoundingClientRect(),o=inlineSiblingRect(this,this.side>0?-1:1);return o&&o.top<a.bottom&&o.bottom>a.top?{left:a.left,right:a.right,top:o.top,bottom:o.bottom}:a}get overrideDOMText(){return Text.empty}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineSiblingRect(s,e){let a=s.parent,o=a?a.children.indexOf(s):-1;for(;a&&o>=0;)if(e<0?o>0:o<a.children.length){let c=a.children[o+e];if(c instanceof TextView){let d=c.coordsAt(e<0?c.length:0,e);if(d)return d}o+=e}else if(a instanceof MarkView&&a.parent)o=a.parent.children.indexOf(a)+(e<0?0:1),a=a.parent;else{let c=a.dom.lastChild;if(c&&c.nodeName=="BR")return c.getClientRects()[0];break}}function inlineDOMAtPos(s,e,a){let o=0;for(let c=0;o<e.length;o++){let d=e[o],b=c+d.length;if(!(b==c&&d.getSide()<=0)){if(a>c&&a<b&&d.dom.parentNode==s)return d.domAtPos(a-c);if(a<=c)break;c=b}}for(;o>0;o--){let c=e[o-1].dom;if(c.parentNode==s)return DOMPos.after(c)}return new DOMPos(s,0)}function joinInlineInto(s,e,a){let o,{children:c}=s;a>0&&e instanceof MarkView&&c.length&&(o=c[c.length-1])instanceof MarkView&&o.mark.eq(e.mark)?joinInlineInto(o,e.children[0],a-1):(c.push(e),e.setParent(s)),s.length+=e.length}function coordsInChildren(s,e,a){for(let d=0,b=0;b<s.children.length;b++){let k=s.children[b],$=d+k.length,_;if((a<=0||$==s.length||k.getSide()>0?$>=e:$>e)&&(e<$||b+1==s.children.length||(_=s.children[b+1]).length||_.getSide()>0)){let j=0;if($==d){if(k.getSide()<=0)continue;j=a=-k.getSide()}let _e=k.coordsAt(Math.max(0,e-d),a);return j&&_e?flattenRect(_e,a<0):_e}d=$}let o=s.dom.lastChild;if(!o)return s.dom.getBoundingClientRect();let c=clientRectsFor(o);return c[c.length-1]||null}function combineAttrs(s,e){for(let a in s)a=="class"&&e.class?e.class+=" "+s.class:a=="style"&&e.style?e.style+=";"+s.style:e[a]=s[a];return e}function attrsEq(s,e){if(s==e)return!0;if(!s||!e)return!1;let a=Object.keys(s),o=Object.keys(e);if(a.length!=o.length)return!1;for(let c of a)if(o.indexOf(c)==-1||s[c]!==e[c])return!1;return!0}function updateAttrs(s,e,a){let o=null;if(e)for(let c in e)a&&c in a||s.removeAttribute(o=c);if(a)for(let c in a)e&&e[c]==a[c]||s.setAttribute(o=c,a[c]);return!!o}class WidgetType{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var BlockType=function(s){return s[s.Text=0]="Text",s[s.WidgetBefore=1]="WidgetBefore",s[s.WidgetAfter=2]="WidgetAfter",s[s.WidgetRange=3]="WidgetRange",s}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(e,a,o,c){super(),this.startSide=e,this.endSide=a,this.widget=o,this.spec=c}get heightRelevant(){return!1}static mark(e){return new MarkDecoration(e)}static widget(e){let a=e.side||0,o=!!e.block;return a+=o?a>0?3e8:-4e8:a>0?1e8:-1e8,new PointDecoration(e,a,a,o,e.widget||null,!1)}static replace(e){let a=!!e.block,o,c;if(e.isBlockGap)o=-5e8,c=4e8;else{let{start:d,end:b}=getInclusive(e,a);o=(d?a?-3e8:-1:5e8)-1,c=(b?a?2e8:1:-6e8)+1}return new PointDecoration(e,o,c,a,e.widget||null,!0)}static line(e){return new LineDecoration(e)}static set(e,a=!1){return RangeSet.of(e,a)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(e){let{start:a,end:o}=getInclusive(e);super(a?-1:5e8,o?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof MarkDecoration&&this.tagName==e.tagName&&this.class==e.class&&attrsEq(this.attrs,e.attrs)}range(e,a=e){if(e>=a)throw new RangeError("Mark decorations may not be empty");return super.range(e,a)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof LineDecoration&&attrsEq(this.spec.attributes,e.spec.attributes)}range(e,a=e){if(a!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,a)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(e,a,o,c,d,b){super(a,o,d,e),this.block=c,this.isReplace=b,this.mapMode=c?a<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide<this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof PointDecoration&&widgetsEq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,a=e){if(this.isReplace&&(e>a||e==a&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&a!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,a)}}PointDecoration.prototype.point=!0;function getInclusive(s,e=!1){let{inclusiveStart:a,inclusiveEnd:o}=s;return a==null&&(a=s.inclusive),o==null&&(o=s.inclusive),{start:a!=null?a:e,end:o!=null?o:e}}function widgetsEq(s,e){return s==e||!!(s&&e&&s.compare(e))}function addRange(s,e,a,o=0){let c=a.length-1;c>=0&&a[c]+o>=s?a[c]=Math.max(a[c],e):a.push(s,e)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,a,o,c,d,b){if(o){if(!(o instanceof LineView))return!1;this.dom||o.transferDOM(this)}return c&&this.setDeco(o?o.attrs:null),mergeChildrenInto(this,e,a,o?o.children:[],d,b),!0}split(e){let a=new LineView;if(a.breakAfter=this.breakAfter,this.length==0)return a;let{i:o,off:c}=this.childPos(e);c&&(a.append(this.children[o].split(c),0),this.children[o].merge(c,this.children[o].length,null,!1,0,0),o++);for(let d=o;d<this.children.length;d++)a.append(this.children[d],0);for(;o>0&&this.children[o-1].length==0;)this.children[--o].destroy();return this.children.length=o,this.markDirty(),this.length=e,a}transferDOM(e){!this.dom||(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){attrsEq(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,a){joinInlineInto(this,e,a)}addLineDeco(e){let a=e.spec.attributes,o=e.spec.class;a&&(this.attrs=combineAttrs(a,this.attrs||{})),o&&(this.attrs=combineAttrs({class:o},this.attrs||{}))}domAtPos(e){return inlineDOMAtPos(this.dom,this.children,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var a;this.dom?this.dirty&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let o=this.dom.lastChild;for(;o&&ContentView.get(o)instanceof MarkView;)o=o.lastChild;if(!o||!this.length||o.nodeName!="BR"&&((a=ContentView.get(o))===null||a===void 0?void 0:a.isEditable)==!1&&(!browser.ios||!this.children.some(c=>c instanceof TextView))){let c=document.createElement("BR");c.cmIgnore=!0,this.dom.appendChild(c)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let a of this.children){if(!(a instanceof TextView)||/[^ -~]/.test(a.text))return null;let o=clientRectsFor(a.dom);if(o.length!=1)return null;e+=o[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,a){return coordsInChildren(this,e,a)}become(e){return!1}get type(){return BlockType.Text}static find(e,a){for(let o=0,c=0;o<e.children.length;o++){let d=e.children[o],b=c+d.length;if(b>=a){if(d instanceof LineView)return d;if(b>a)break}c=b+d.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(e,a,o){super(),this.widget=e,this.length=a,this.type=o,this.breakAfter=0,this.prevWidget=null}merge(e,a,o,c,d,b){return o&&(!(o instanceof BlockWidgetView)||!this.widget.compare(o.widget)||e>0&&d<=0||a<this.length&&b<=0)?!1:(this.length=e+(o?o.length:0)+(this.length-a),!0)}domAtPos(e){return e==0?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}split(e){let a=this.length-e;this.length=e;let o=new BlockWidgetView(this.widget,a,this.type);return o.breakAfter=this.breakAfter,o}get children(){return noChildren}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(e){return e instanceof BlockWidgetView&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ContentBuilder{constructor(e,a,o,c){this.doc=e,this.pos=a,this.end=o,this.disallowBlockEffectsFor=c,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=a}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof BlockWidgetView&&e.type==BlockType.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,a,o){for(;e>0;){if(this.textOff==this.text.length){let{value:d,lineBreak:b,done:k}=this.cursor.next(this.skip);if(this.skip=0,k)throw new Error("Ran out of text content when drawing inline views");if(b){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}else this.text=d,this.textOff=0}let c=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(a.slice(0,o)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+c)),a),o),this.atCursorPos=!0,this.textOff+=c,e-=c,o=0}}span(e,a,o,c){this.buildText(a-e,o,c),this.pos=a,this.openStart<0&&(this.openStart=c)}point(e,a,o,c,d,b){if(this.disallowBlockEffectsFor[b]&&o instanceof PointDecoration){if(o.block)throw new RangeError("Block decorations may not be specified via plugins");if(a>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let k=a-e;if(o instanceof PointDecoration)if(o.block){let{type:$}=o;$==BlockType.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(o.widget||new NullWidget("div"),k,$))}else{let $=WidgetView.create(o.widget||new NullWidget("span"),k,o.startSide),_=this.atCursorPos&&!$.isEditable&&d<=c.length&&(e<a||o.startSide>0),j=!$.isEditable&&(e<a||o.startSide<=0),_e=this.getLine();this.pendingBuffer==2&&!_&&(this.pendingBuffer=0),this.flushBuffer(c),_&&(_e.append(wrapMarks(new WidgetBufferView(1),c),d),d=c.length+Math.max(0,d-c.length)),_e.append(wrapMarks($,c),d),this.atCursorPos=j,this.pendingBuffer=j?e<a?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(o);k&&(this.textOff+k<=this.text.length?this.textOff+=k:(this.skip+=k-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=a),this.openStart<0&&(this.openStart=d)}static build(e,a,o,c,d){let b=new ContentBuilder(e,a,o,d);return b.openEnd=RangeSet.spans(c,a,o,b),b.openStart<0&&(b.openStart=b.openEnd),b.finish(b.openEnd),b}}function wrapMarks(s,e){for(let a of e)s=new MarkView(a,[s],s.length);return s}class NullWidget extends WidgetType{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),perLineTextDirection=Facet.define({combine:s=>s.some(e=>e)});class ScrollTarget{constructor(e,a="nearest",o="nearest",c=5,d=5){this.range=e,this.y=a,this.x=o,this.yMargin=c,this.xMargin=d}map(e){return e.empty?this:new ScrollTarget(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const scrollIntoView$1=StateEffect.define({map:(s,e)=>s.map(e)});function logException(s,e,a){let o=s.facet(exceptionSink);o.length?o[0](e):window.onerror?window.onerror(String(e),a,void 0,void 0,e):a?console.error(a+":",e):console.error(e)}const editable=Facet.define({combine:s=>s.length?s[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(e,a,o,c){this.id=e,this.create=a,this.domEventHandlers=o,this.extension=c(this)}static define(e,a){const{eventHandlers:o,provide:c,decorations:d}=a||{};return new ViewPlugin(nextPluginID++,e,o,b=>{let k=[viewPlugin.of(b)];return d&&k.push(decorations.of($=>{let _=$.plugin(b);return _?d(_):Decoration.none})),c&&k.push(c(b)),k})}static fromClass(e,a){return ViewPlugin.define(o=>new e(o),a)}}class PluginInstance{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let a=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(a)}catch(o){if(logException(a.state,o,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(a){logException(e.state,a,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var a;if(!((a=this.value)===null||a===void 0)&&a.destroy)try{this.value.destroy()}catch(o){logException(e.state,o,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),atomicRanges=Facet.define(),scrollMargins=Facet.define(),styleModule=Facet.define();class ChangedRange{constructor(e,a,o,c){this.fromA=e,this.toA=a,this.fromB=o,this.toB=c}join(e){return new ChangedRange(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let a=e.length,o=this;for(;a>0;a--){let c=e[a-1];if(!(c.fromA>o.toA)){if(c.toA<o.fromA)break;o=o.join(c),e.splice(a-1,1)}}return e.splice(a,0,o),e}static extendWithRanges(e,a){if(a.length==0)return e;let o=[];for(let c=0,d=0,b=0,k=0;;c++){let $=c==e.length?null:e[c],_=b-k,j=$?$.fromB:1e9;for(;d<a.length&&a[d]<j;){let _e=a[d],tt=a[d+1],it=Math.max(k,_e),nt=Math.min(j,tt);if(it<=nt&&new ChangedRange(it+_,nt+_,it,nt).addToSet(o),tt>j)break;d+=2}if(!$)return o;new ChangedRange($.fromA,$.toA,$.fromB,$.toB).addToSet(o),b=$.toA,k=$.toB}}}class ViewUpdate{constructor(e,a,o){this.view=e,this.state=a,this.transactions=o,this.flags=0,this.startState=e.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let b of o)this.changes=this.changes.compose(b.changes);let c=[];this.changes.iterChangedRanges((b,k,$,_)=>c.push(new ChangedRange(b,k,$,_))),this.changedRanges=c;let d=e.hasFocus;d!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=d,this.flags|=1)}static create(e,a,o){return new ViewUpdate(e,a,o)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Direction=function(s){return s[s.LTR=0]="LTR",s[s.RTL=1]="RTL",s}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(s){let e=[];for(let a=0;a<s.length;a++)e.push(1<<+s[a]);return e}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let s of["()","[]","{}"]){let e=s.charCodeAt(0),a=s.charCodeAt(1);Brackets[e]=a,Brackets[a]=-e}function charType(s){return s<=247?LowTypes[s]:1424<=s&&s<=1524?2:1536<=s&&s<=1785?ArabicTypes[s-1536]:1774<=s&&s<=2220?4:8192<=s&&s<=8203||s==8204?256:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class BidiSpan{constructor(e,a,o){this.from=e,this.to=a,this.level=o}get dir(){return this.level%2?RTL:LTR}side(e,a){return this.dir==a==e?this.to:this.from}static find(e,a,o,c){let d=-1;for(let b=0;b<e.length;b++){let k=e[b];if(k.from<=a&&k.to>=a){if(k.level==o)return b;(d<0||(c!=0?c<0?k.from<a:k.to>a:e[d].level>k.level))&&(d=b)}}if(d<0)throw new RangeError("Index out of range");return d}}const types$2=[];function computeOrder(s,e){let a=s.length,o=e==LTR?1:2,c=e==LTR?2:1;if(!s||o==1&&!BidiRE.test(s))return trivialOrder(a);for(let b=0,k=o,$=o;b<a;b++){let _=charType(s.charCodeAt(b));_==512?_=k:_==8&&$==4&&(_=16),types$2[b]=_==4?2:_,_&7&&($=_),k=_}for(let b=0,k=o,$=o;b<a;b++){let _=types$2[b];if(_==128)b<a-1&&k==types$2[b+1]&&k&24?_=types$2[b]=k:types$2[b]=256;else if(_==64){let j=b+1;for(;j<a&&types$2[j]==64;)j++;let _e=b&&k==8||j<a&&types$2[j]==8?$==1?1:8:256;for(let tt=b;tt<j;tt++)types$2[tt]=_e;b=j-1}else _==8&&$==1&&(types$2[b]=1);k=_,_&7&&($=_)}for(let b=0,k=0,$=0,_,j,_e;b<a;b++)if(j=Brackets[_=s.charCodeAt(b)])if(j<0){for(let tt=k-3;tt>=0;tt-=3)if(BracketStack[tt+1]==-j){let it=BracketStack[tt+2],nt=it&2?o:it&4?it&1?c:o:0;nt&&(types$2[b]=types$2[BracketStack[tt]]=nt),k=tt;break}}else{if(BracketStack.length==189)break;BracketStack[k++]=b,BracketStack[k++]=_,BracketStack[k++]=$}else if((_e=types$2[b])==2||_e==1){let tt=_e==o;$=tt?0:1;for(let it=k-3;it>=0;it-=3){let nt=BracketStack[it+2];if(nt&2)break;if(tt)BracketStack[it+2]|=2;else{if(nt&4)break;BracketStack[it+2]|=4}}}for(let b=0;b<a;b++)if(types$2[b]==256){let k=b+1;for(;k<a&&types$2[k]==256;)k++;let $=(b?types$2[b-1]:o)==1,_=(k<a?types$2[k]:o)==1,j=$==_?$?1:2:o;for(let _e=b;_e<k;_e++)types$2[_e]=j;b=k-1}let d=[];if(o==1)for(let b=0;b<a;){let k=b,$=types$2[b++]!=1;for(;b<a&&$==(types$2[b]!=1);)b++;if($)for(let _=b;_>k;){let j=_,_e=types$2[--_]!=2;for(;_>k&&_e==(types$2[_-1]!=2);)_--;d.push(new BidiSpan(_,j,_e?2:1))}else d.push(new BidiSpan(k,b,0))}else for(let b=0;b<a;){let k=b,$=types$2[b++]==2;for(;b<a&&$==(types$2[b]==2);)b++;d.push(new BidiSpan(k,b,$?1:2))}return d}function trivialOrder(s){return[new BidiSpan(0,s,0)]}let movedOver="";function moveVisually(s,e,a,o,c){var d;let b=o.head-s.from,k=-1;if(b==0){if(!c||!s.length)return null;e[0].level!=a&&(b=e[0].side(!1,a),k=0)}else if(b==s.length){if(c)return null;let tt=e[e.length-1];tt.level!=a&&(b=tt.side(!0,a),k=e.length-1)}k<0&&(k=BidiSpan.find(e,b,(d=o.bidiLevel)!==null&&d!==void 0?d:-1,o.assoc));let $=e[k];b==$.side(c,a)&&($=e[k+=c?1:-1],b=$.side(!c,a));let _=c==($.dir==a),j=findClusterBreak(s.text,b,_);if(movedOver=s.text.slice(Math.min(b,j),Math.max(b,j)),j!=$.side(c,a))return EditorSelection.cursor(j+s.from,_?-1:1,$.level);let _e=k==(c?e.length-1:0)?null:e[k+(c?1:-1)];return!_e&&$.level!=a?EditorSelection.cursor(c?s.to:s.from,c?-1:1,a):_e&&_e.level<$.level?EditorSelection.cursor(_e.side(!c,a)+s.from,c?1:-1,_e.level):EditorSelection.cursor(j+s.from,c?-1:1,$.level)}const LineBreakPlaceholder="\uFFFF";class DOMReader{constructor(e,a){this.points=e,this.text="",this.lineSeparator=a.facet(EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=LineBreakPlaceholder}readRange(e,a){if(!e)return this;let o=e.parentNode;for(let c=e;;){this.findPointBefore(o,c),this.readNode(c);let d=c.nextSibling;if(d==a)break;let b=ContentView.get(c),k=ContentView.get(d);(b&&k?b.breakAfter:(b?b.breakAfter:isBlockElement(c))||isBlockElement(d)&&(c.nodeName!="BR"||c.cmIgnore))&&this.lineBreak(),c=d}return this.findPointBefore(o,a),this}readTextNode(e){let a=e.nodeValue;for(let o of this.points)o.node==e&&(o.pos=this.text.length+Math.min(o.offset,a.length));for(let o=0,c=this.lineSeparator?null:/\r\n?|\n/g;;){let d=-1,b=1,k;if(this.lineSeparator?(d=a.indexOf(this.lineSeparator,o),b=this.lineSeparator.length):(k=c.exec(a))&&(d=k.index,b=k[0].length),this.append(a.slice(o,d<0?a.length:d)),d<0)break;if(this.lineBreak(),b>1)for(let $ of this.points)$.node==e&&$.pos>this.text.length&&($.pos-=b-1);o=d+b}}readNode(e){if(e.cmIgnore)return;let a=ContentView.get(e),o=a&&a.overrideDOMText;if(o!=null){this.findPointInside(e,o.length);for(let c=o.iter();!c.next().done;)c.lineBreak?this.lineBreak():this.append(c.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,a){for(let o of this.points)o.node==e&&e.childNodes[o.offset]==a&&(o.pos=this.text.length)}findPointInside(e,a){for(let o of this.points)(e.nodeType==3?o.node==e:e.contains(o.node))&&(o.pos=this.text.length+Math.min(a,o.offset))}}function isBlockElement(s){return s.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(s.nodeName)}class DOMPoint{constructor(e,a){this.node=e,this.offset=a,this.pos=-1}}class DocView extends ContentView{constructor(e){super(),this.view=e,this.compositionDeco=Decoration.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,e.state.doc.length)],0)}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let a=e.changedRanges;this.minWidth>0&&a.length&&(a.every(({fromA:b,toA:k})=>k<this.minWidthFrom||b>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Decoration.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=computeCompositionDeco(this.view,e.changes)),(browser.ie||browser.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,c=this.updateDeco(),d=findChangedDeco(o,c,e.changes);return a=ChangedRange.extendWithRanges(a,d),this.dirty==0&&a.length==0?!1:(this.updateInner(a,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,a){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,a);let{observer:o}=this.view;o.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let d=browser.chrome||browser.ios?{node:o.selectionRange.focusNode,written:!1}:void 0;this.sync(d),this.dirty=0,d&&(d.written||o.selectionRange.focusNode!=d.node)&&(this.forceSelection=!0),this.dom.style.height=""});let c=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let d of this.children)d instanceof BlockWidgetView&&d.widget instanceof BlockGapWidget&&c.push(d.dom);o.updateGaps(c)}updateChildren(e,a){let o=this.childCursor(a);for(let c=e.length-1;;c--){let d=c>=0?e[c]:null;if(!d)break;let{fromA:b,toA:k,fromB:$,toB:_}=d,{content:j,breakAtStart:_e,openStart:tt,openEnd:it}=ContentBuilder.build(this.view.state.doc,$,_,this.decorations,this.dynamicDecorationMap),{i:nt,off:at}=o.findPos(k,1),{i:rt,off:st}=o.findPos(b,-1);replaceRange(this,rt,st,nt,at,j,_e,tt,it)}}updateSelection(e=!1,a=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(a||this.mayControlSelection())||browser.ios&&this.view.inputState.rapidCompositionStart)return;let o=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,d=this.domAtPos(c.anchor),b=c.empty?d:this.domAtPos(c.head);if(browser.gecko&&c.empty&&betweenUneditable(d)){let $=document.createTextNode("");this.view.observer.ignore(()=>d.node.insertBefore($,d.node.childNodes[d.offset]||null)),d=b=new DOMPos($,0),o=!0}let k=this.view.observer.selectionRange;(o||!k.focusNode||!isEquivalentPosition(d.node,d.offset,k.anchorNode,k.anchorOffset)||!isEquivalentPosition(b.node,b.offset,k.focusNode,k.focusOffset))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(k.focusNode)&&inUneditable(k.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let $=getSelection(this.view.root);if($)if(c.empty){if(browser.gecko){let _=nextToUneditable(d.node,d.offset);if(_&&_!=3){let j=nearbyTextNode(d.node,d.offset,_==1?1:-1);j&&(d=new DOMPos(j,_==1?0:j.nodeValue.length))}}$.collapse(d.node,d.offset),c.bidiLevel!=null&&k.cursorBidiLevel!=null&&(k.cursorBidiLevel=c.bidiLevel)}else if($.extend)$.collapse(d.node,d.offset),$.extend(b.node,b.offset);else{let _=document.createRange();c.anchor>c.head&&([d,b]=[b,d]),_.setEnd(b.node,b.offset),_.setStart(d.node,d.offset),$.removeAllRanges(),$.addRange(_)}}),this.view.observer.setSelectionRange(d,b)),this.impreciseAnchor=d.precise?null:new DOMPos(k.anchorNode,k.anchorOffset),this.impreciseHead=b.precise?null:new DOMPos(k.focusNode,k.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,a=getSelection(this.view.root);if(!a||!e.empty||!e.assoc||!a.modify)return;let o=LineView.find(this,e.head);if(!o)return;let c=o.posAtStart;if(e.head==c||e.head==c+o.length)return;let d=this.coordsAt(e.head,-1),b=this.coordsAt(e.head,1);if(!d||!b||d.bottom>b.top)return;let k=this.domAtPos(e.head+e.assoc);a.collapse(k.node,k.offset),a.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||hasSelection(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let a=e;a;){let o=ContentView.get(a);if(o&&o.rootView==this)return o;a=a.parentNode}return null}posFromDOM(e,a){let o=this.nearest(e);if(!o)throw new RangeError("Trying to find position for a DOM position outside of the document");return o.localPosFromDOM(e,a)+o.posAtStart}domAtPos(e){let{i:a,off:o}=this.childCursor().findPos(e,-1);for(;a<this.children.length-1;){let c=this.children[a];if(o<c.length||c instanceof LineView)break;a++,o=0}return this.children[a].domAtPos(o)}coordsAt(e,a){for(let o=this.length,c=this.children.length-1;;c--){let d=this.children[c],b=o-d.breakAfter-d.length;if(e>b||e==b&&d.type!=BlockType.WidgetBefore&&d.type!=BlockType.WidgetAfter&&(!c||a==2||this.children[c-1].breakAfter||this.children[c-1].type==BlockType.WidgetBefore&&a>-2))return d.coordsAt(e-b,a);o=b}}measureVisibleLineHeights(e){let a=[],{from:o,to:c}=e,d=this.view.contentDOM.clientWidth,b=d>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,k=-1,$=this.view.textDirection==Direction.LTR;for(let _=0,j=0;j<this.children.length;j++){let _e=this.children[j],tt=_+_e.length;if(tt>c)break;if(_>=o){let it=_e.dom.getBoundingClientRect();if(a.push(it.height),b){let nt=_e.dom.lastChild,at=nt?clientRectsFor(nt):[];if(at.length){let rt=at[at.length-1],st=$?rt.right-it.left:it.right-rt.left;st>k&&(k=st,this.minWidth=d,this.minWidthFrom=_,this.minWidthTo=tt)}}}_=tt+_e.breakAfter}return a}textDirectionAt(e){let{i:a}=this.childPos(e,1);return getComputedStyle(this.children[a].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let c of this.children)if(c instanceof LineView){let d=c.measureTextSize();if(d)return d}let e=document.createElement("div"),a,o;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let c=clientRectsFor(e.firstChild)[0];a=e.getBoundingClientRect().height,o=c?c.width/27:7,e.remove()}),{lineHeight:a,charWidth:o}}childCursor(e=this.length){let a=this.children.length;return a&&(e-=this.children[--a].length),new ChildCursor(this.children,e,a)}computeBlockGapDeco(){let e=[],a=this.view.viewState;for(let o=0,c=0;;c++){let d=c==a.viewports.length?null:a.viewports[c],b=d?d.from-1:this.length;if(b>o){let k=a.lineBlockAt(b).bottom-a.lineBlockAt(o).top;e.push(Decoration.replace({widget:new BlockGapWidget(k),block:!0,inclusive:!0,isBlockGap:!0}).range(o,b))}if(!d)break;o=d.to+1}return Decoration.set(e)}updateDeco(){let e=this.view.state.facet(decorations).map((a,o)=>(this.dynamicDecorationMap[o]=typeof a=="function")?a(this.view):a);for(let a=e.length;a<e.length+3;a++)this.dynamicDecorationMap[a]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:a}=e,o=this.coordsAt(a.head,a.empty?a.assoc:a.head>a.anchor?-1:1),c;if(!o)return;!a.empty&&(c=this.coordsAt(a.anchor,a.anchor>a.head?-1:1))&&(o={left:Math.min(o.left,c.left),top:Math.min(o.top,c.top),right:Math.max(o.right,c.right),bottom:Math.max(o.bottom,c.bottom)});let d=0,b=0,k=0,$=0;for(let j of this.view.state.facet(scrollMargins).map(_e=>_e(this.view)))if(j){let{left:_e,right:tt,top:it,bottom:nt}=j;_e!=null&&(d=Math.max(d,_e)),tt!=null&&(b=Math.max(b,tt)),it!=null&&(k=Math.max(k,it)),nt!=null&&($=Math.max($,nt))}let _={left:o.left-d,top:o.top-k,right:o.right+b,bottom:o.bottom+$};scrollRectIntoView(this.view.scrollDOM,_,a.head<a.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Direction.LTR)}}function betweenUneditable(s){return s.node.nodeType==1&&s.node.firstChild&&(s.offset==0||s.node.childNodes[s.offset-1].contentEditable=="false")&&(s.offset==s.node.childNodes.length||s.node.childNodes[s.offset].contentEditable=="false")}class BlockGapWidget extends WidgetType{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function compositionSurroundingNode(s){let e=s.observer.selectionRange,a=e.focusNode&&nearbyTextNode(e.focusNode,e.focusOffset,0);if(!a)return null;let o=s.docView.nearest(a);if(!o)return null;if(o instanceof LineView){let c=a;for(;c.parentNode!=o.dom;)c=c.parentNode;let d=c.previousSibling;for(;d&&!ContentView.get(d);)d=d.previousSibling;let b=d?ContentView.get(d).posAtEnd:o.posAtStart;return{from:b,to:b,node:c,text:a}}else{for(;;){let{parent:d}=o;if(!d)return null;if(d instanceof LineView)break;o=d}let c=o.posAtStart;return{from:c,to:c+o.length,node:o.dom,text:a}}}function computeCompositionDeco(s,e){let a=compositionSurroundingNode(s);if(!a)return Decoration.none;let{from:o,to:c,node:d,text:b}=a,k=e.mapPos(o,1),$=Math.max(k,e.mapPos(c,-1)),{state:_}=s,j=d.nodeType==3?d.nodeValue:new DOMReader([],_).readRange(d.firstChild,null).text;if($-k<j.length)if(_.doc.sliceString(k,Math.min(_.doc.length,k+j.length),LineBreakPlaceholder)==j)$=k+j.length;else if(_.doc.sliceString(Math.max(0,$-j.length),$,LineBreakPlaceholder)==j)k=$-j.length;else return Decoration.none;else if(_.doc.sliceString(k,$,LineBreakPlaceholder)!=j)return Decoration.none;let _e=ContentView.get(d);return _e instanceof CompositionView?_e=_e.widget.topView:_e&&(_e.parent=null),Decoration.set(Decoration.replace({widget:new CompositionWidget(d,b,_e),inclusive:!0}).range(k,$))}class CompositionWidget extends WidgetType{constructor(e,a,o){super(),this.top=e,this.text=a,this.topView=o}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return CompositionView}}function nearbyTextNode(s,e,a){for(;;){if(s.nodeType==3)return s;if(s.nodeType==1&&e>0&&a<=0)s=s.childNodes[e-1],e=maxOffset(s);else if(s.nodeType==1&&e<s.childNodes.length&&a>=0)s=s.childNodes[e],e=0;else return null}}function nextToUneditable(s,e){return s.nodeType!=1?0:(e&&s.childNodes[e-1].contentEditable=="false"?1:0)|(e<s.childNodes.length&&s.childNodes[e].contentEditable=="false"?2:0)}class DecorationComparator$1{constructor(){this.changes=[]}compareRange(e,a){addRange(e,a,this.changes)}comparePoint(e,a){addRange(e,a,this.changes)}}function findChangedDeco(s,e,a){let o=new DecorationComparator$1;return RangeSet.compare(s,e,a,o),o.changes}function inUneditable(s,e){for(let a=s;a&&a!=e;a=a.assignedSlot||a.parentNode)if(a.nodeType==1&&a.contentEditable=="false")return!0;return!1}function groupAt(s,e,a=1){let o=s.charCategorizer(e),c=s.doc.lineAt(e),d=e-c.from;if(c.length==0)return EditorSelection.cursor(e);d==0?a=1:d==c.length&&(a=-1);let b=d,k=d;a<0?b=findClusterBreak(c.text,d,!1):k=findClusterBreak(c.text,d);let $=o(c.text.slice(b,k));for(;b>0;){let _=findClusterBreak(c.text,b,!1);if(o(c.text.slice(_,b))!=$)break;b=_}for(;k<c.length;){let _=findClusterBreak(c.text,k);if(o(c.text.slice(k,_))!=$)break;k=_}return EditorSelection.range(b+c.from,k+c.from)}function getdx(s,e){return e.left>s?e.left-s:Math.max(0,s-e.right)}function getdy(s,e){return e.top>s?e.top-s:Math.max(0,s-e.bottom)}function yOverlap(s,e){return s.top<e.bottom-1&&s.bottom>e.top+1}function upTop(s,e){return e<s.top?{top:e,left:s.left,right:s.right,bottom:s.bottom}:s}function upBot(s,e){return e>s.bottom?{top:s.top,left:s.left,right:s.right,bottom:e}:s}function domPosAtCoords(s,e,a){let o,c,d,b,k=!1,$,_,j,_e;for(let nt=s.firstChild;nt;nt=nt.nextSibling){let at=clientRectsFor(nt);for(let rt=0;rt<at.length;rt++){let st=at[rt];c&&yOverlap(c,st)&&(st=upTop(upBot(st,c.bottom),c.top));let ht=getdx(e,st),gt=getdy(a,st);if(ht==0&&gt==0)return nt.nodeType==3?domPosInText(nt,e,a):domPosAtCoords(nt,e,a);(!o||b>gt||b==gt&&d>ht)&&(o=nt,c=st,d=ht,b=gt,k=!ht||(ht>0?rt<at.length-1:rt>0)),ht==0?a>st.bottom&&(!j||j.bottom<st.bottom)?($=nt,j=st):a<st.top&&(!_e||_e.top>st.top)&&(_=nt,_e=st):j&&yOverlap(j,st)?j=upBot(j,st.bottom):_e&&yOverlap(_e,st)&&(_e=upTop(_e,st.top))}}if(j&&j.bottom>=a?(o=$,c=j):_e&&_e.top<=a&&(o=_,c=_e),!o)return{node:s,offset:0};let tt=Math.max(c.left,Math.min(c.right,e));if(o.nodeType==3)return domPosInText(o,tt,a);if(k&&o.contentEditable!="false")return domPosAtCoords(o,tt,a);let it=Array.prototype.indexOf.call(s.childNodes,o)+(e>=(c.left+c.right)/2?1:0);return{node:s,offset:it}}function domPosInText(s,e,a){let o=s.nodeValue.length,c=-1,d=1e9,b=0;for(let k=0;k<o;k++){let $=textRange(s,k,k+1).getClientRects();for(let _=0;_<$.length;_++){let j=$[_];if(j.top==j.bottom)continue;b||(b=e-j.left);let _e=(j.top>a?j.top-a:a-j.bottom)-1;if(j.left-1<=e&&j.right+1>=e&&_e<d){let tt=e>=(j.left+j.right)/2,it=tt;if((browser.chrome||browser.gecko)&&textRange(s,k).getBoundingClientRect().left==j.right&&(it=!tt),_e<=0)return{node:s,offset:k+(it?1:0)};c=k+(it?1:0),d=_e}}}return{node:s,offset:c>-1?c:b>0?s.nodeValue.length:0}}function posAtCoords(s,{x:e,y:a},o,c=-1){var d;let b=s.contentDOM.getBoundingClientRect(),k=b.top+s.viewState.paddingTop,$,{docHeight:_}=s.viewState,j=a-k;if(j<0)return 0;if(j>_)return s.state.doc.length;for(let st=s.defaultLineHeight/2,ht=!1;$=s.elementAtHeight(j),$.type!=BlockType.Text;)for(;j=c>0?$.bottom+st:$.top-st,!(j>=0&&j<=_);){if(ht)return o?null:0;ht=!0,c=-c}a=k+j;let _e=$.from;if(_e<s.viewport.from)return s.viewport.from==0?0:o?null:posAtCoordsImprecise(s,b,$,e,a);if(_e>s.viewport.to)return s.viewport.to==s.state.doc.length?s.state.doc.length:o?null:posAtCoordsImprecise(s,b,$,e,a);let tt=s.dom.ownerDocument,it=s.root.elementFromPoint?s.root:tt,nt=it.elementFromPoint(e,a);nt&&!s.contentDOM.contains(nt)&&(nt=null),nt||(e=Math.max(b.left+1,Math.min(b.right-1,e)),nt=it.elementFromPoint(e,a),nt&&!s.contentDOM.contains(nt)&&(nt=null));let at,rt=-1;if(nt&&((d=s.docView.nearest(nt))===null||d===void 0?void 0:d.isEditable)!=!1){if(tt.caretPositionFromPoint){let st=tt.caretPositionFromPoint(e,a);st&&({offsetNode:at,offset:rt}=st)}else if(tt.caretRangeFromPoint){let st=tt.caretRangeFromPoint(e,a);st&&({startContainer:at,startOffset:rt}=st,(!s.contentDOM.contains(at)||browser.safari&&isSuspiciousSafariCaretResult(at,rt,e)||browser.chrome&&isSuspiciousChromeCaretResult(at,rt,e))&&(at=void 0))}}if(!at||!s.docView.dom.contains(at)){let st=LineView.find(s.docView,_e);if(!st)return j>$.top+$.height/2?$.to:$.from;({node:at,offset:rt}=domPosAtCoords(st.dom,e,a))}return s.docView.posFromDOM(at,rt)}function posAtCoordsImprecise(s,e,a,o,c){let d=Math.round((o-e.left)*s.defaultCharacterWidth);s.lineWrapping&&a.height>s.defaultLineHeight*1.5&&(d+=Math.floor((c-a.top)/s.defaultLineHeight)*s.viewState.heightOracle.lineLength);let b=s.state.sliceDoc(a.from,a.to);return a.from+findColumn(b,d,s.state.tabSize)}function isSuspiciousSafariCaretResult(s,e,a){let o;if(s.nodeType!=3||e!=(o=s.nodeValue.length))return!1;for(let c=s.nextSibling;c;c=c.nextSibling)if(c.nodeType!=1||c.nodeName!="BR")return!1;return textRange(s,o-1,o).getBoundingClientRect().left>a}function isSuspiciousChromeCaretResult(s,e,a){if(e!=0)return!1;for(let c=s;;){let d=c.parentNode;if(!d||d.nodeType!=1||d.firstChild!=c)return!1;if(d.classList.contains("cm-line"))break;c=d}let o=s.nodeType==1?s.getBoundingClientRect():textRange(s,0,Math.max(s.nodeValue.length,1)).getBoundingClientRect();return a-o.left>5}function moveToLineBoundary(s,e,a,o){let c=s.state.doc.lineAt(e.head),d=!o||!s.lineWrapping?null:s.coordsAtPos(e.assoc<0&&e.head>c.from?e.head-1:e.head);if(d){let $=s.dom.getBoundingClientRect(),_=s.textDirectionAt(c.from),j=s.posAtCoords({x:a==(_==Direction.LTR)?$.right-1:$.left+1,y:(d.top+d.bottom)/2});if(j!=null)return EditorSelection.cursor(j,a?-1:1)}let b=LineView.find(s.docView,e.head),k=b?a?b.posAtEnd:b.posAtStart:a?c.to:c.from;return EditorSelection.cursor(k,a?-1:1)}function moveByChar(s,e,a,o){let c=s.state.doc.lineAt(e.head),d=s.bidiSpans(c),b=s.textDirectionAt(c.from);for(let k=e,$=null;;){let _=moveVisually(c,d,b,k,a),j=movedOver;if(!_){if(c.number==(a?s.state.doc.lines:1))return k;j=`
`,c=s.state.doc.line(c.number+(a?1:-1)),d=s.bidiSpans(c),_=EditorSelection.cursor(a?c.from:c.to)}if($){if(!$(j))return k}else{if(!o)return _;$=o(j)}k=_}}function byGroup(s,e,a){let o=s.state.charCategorizer(e),c=o(a);return d=>{let b=o(d);return c==CharCategory.Space&&(c=b),c==b}}function moveVertically(s,e,a,o){let c=e.head,d=a?1:-1;if(c==(a?s.state.doc.length:0))return EditorSelection.cursor(c,e.assoc);let b=e.goalColumn,k,$=s.contentDOM.getBoundingClientRect(),_=s.coordsAtPos(c),j=s.documentTop;if(_)b==null&&(b=_.left-$.left),k=d<0?_.top:_.bottom;else{let it=s.viewState.lineBlockAt(c);b==null&&(b=Math.min($.right-$.left,s.defaultCharacterWidth*(c-it.from))),k=(d<0?it.top:it.bottom)+j}let _e=$.left+b,tt=o!=null?o:s.defaultLineHeight>>1;for(let it=0;;it+=10){let nt=k+(tt+it)*d,at=posAtCoords(s,{x:_e,y:nt},!1,d);if(nt<$.top||nt>$.bottom||(d<0?at<c:at>c))return EditorSelection.cursor(at,e.assoc,void 0,b)}}function skipAtoms(s,e,a){let o=s.state.facet(atomicRanges).map(c=>c(s));for(;;){let c=!1;for(let d of o)d.between(a.from-1,a.from+1,(b,k,$)=>{a.from>b&&a.from<k&&(a=e.from>a.from?EditorSelection.cursor(b,1):EditorSelection.cursor(k,-1),c=!0)});if(!c)return a}}class InputState{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let a in handlers){let o=handlers[a];e.contentDOM.addEventListener(a,c=>{!eventBelongsToEditor(e,c)||this.ignoreDuringComposition(c)||a=="keydown"&&this.keydown(e,c)||(this.mustFlushObserver(c)&&e.observer.forceFlush(),this.runCustomHandlers(a,e,c)?c.preventDefault():o(e,c))},handlerOptions[a]),this.registeredEvents.push(a)}browser.chrome&&browser.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,browser.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,a){var o;let c;this.customHandlers=[];for(let d of a)if(c=(o=d.update(e).spec)===null||o===void 0?void 0:o.domEventHandlers){this.customHandlers.push({plugin:d.value,handlers:c});for(let b in c)this.registeredEvents.indexOf(b)<0&&b!="scroll"&&(this.registeredEvents.push(b),e.contentDOM.addEventListener(b,k=>{!eventBelongsToEditor(e,k)||this.runCustomHandlers(b,e,k)&&k.preventDefault()}))}}runCustomHandlers(e,a,o){for(let c of this.customHandlers){let d=c.handlers[e];if(d)try{if(d.call(c.plugin,o,a)||o.defaultPrevented)return!0}catch(b){logException(a.state,b)}}return!1}runScrollHandlers(e,a){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let o of this.customHandlers){let c=o.handlers.scroll;if(c)try{c.call(o.plugin,a,e)}catch(d){logException(e.state,d)}}}keydown(e,a){if(this.lastKeyCode=a.keyCode,this.lastKeyTime=Date.now(),a.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(browser.android&&browser.chrome&&!a.synthetic&&(a.keyCode==13||a.keyCode==8))return e.observer.delayAndroidKey(a.key,a.keyCode),!0;let o;return browser.ios&&(o=PendingKeys.find(c=>c.keyCode==a.keyCode))&&!(a.ctrlKey||a.altKey||a.metaKey)&&!a.synthetic?(this.pendingIOSKey=o,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let a=this.pendingIOSKey;return a?(this.pendingIOSKey=void 0,dispatchKey(e.contentDOM,a.key,a.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:browser.safari&&!browser.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!browser.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],modifierCodes=[16,17,18,20,91,92,224,225];class MouseSelection{constructor(e,a,o,c){this.view=e,this.style=o,this.mustSelect=c,this.lastEvent=a;let d=e.contentDOM.ownerDocument;d.addEventListener("mousemove",this.move=this.move.bind(this)),d.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=a.shiftKey,this.multiple=e.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(e,a),this.dragMove=dragMovesSelection(e,a),this.dragging=isInPrimarySelection(e,a)&&getClickType(a)==1?null:!1,this.dragging===!1&&(a.preventDefault(),this.select(a))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let a=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!a.eq(this.view.state.selection)||a.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:a,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(s,e){let a=s.state.facet(clickAddsSelectionRange);return a.length?a[0](e):browser.mac?e.metaKey:e.ctrlKey}function dragMovesSelection(s,e){let a=s.state.facet(dragMovesSelection$1);return a.length?a[0](e):browser.mac?!e.altKey:!e.ctrlKey}function isInPrimarySelection(s,e){let{main:a}=s.state.selection;if(a.empty)return!1;let o=getSelection(s.root);if(!o||o.rangeCount==0)return!0;let c=o.getRangeAt(0).getClientRects();for(let d=0;d<c.length;d++){let b=c[d];if(b.left<=e.clientX&&b.right>=e.clientX&&b.top<=e.clientY&&b.bottom>=e.clientY)return!0}return!1}function eventBelongsToEditor(s,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let a=e.target,o;a!=s.contentDOM;a=a.parentNode)if(!a||a.nodeType==11||(o=ContentView.get(a))&&o.ignoreEvent(e))return!1;return!0}const handlers=Object.create(null),handlerOptions=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(s){let e=s.dom.parentNode;if(!e)return;let a=e.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px",a.focus(),setTimeout(()=>{s.focus(),a.remove(),doPaste(s,a.value)},50)}function doPaste(s,e){let{state:a}=s,o,c=1,d=a.toText(e),b=d.lines==a.selection.ranges.length;if(lastLinewiseCopy!=null&&a.selection.ranges.every($=>$.empty)&&lastLinewiseCopy==d.toString()){let $=-1;o=a.changeByRange(_=>{let j=a.doc.lineAt(_.from);if(j.from==$)return{range:_};$=j.from;let _e=a.toText((b?d.line(c++).text:e)+a.lineBreak);return{changes:{from:j.from,insert:_e},range:EditorSelection.cursor(_.from+_e.length)}})}else b?o=a.changeByRange($=>{let _=d.line(c++);return{changes:{from:$.from,to:$.to,insert:_.text},range:EditorSelection.cursor($.from+_.length)}}):o=a.replaceSelection(d);s.dispatch(o,{userEvent:"input.paste",scrollIntoView:!0})}handlers.keydown=(s,e)=>{s.inputState.setSelectionOrigin("select"),e.keyCode==27?s.inputState.lastEscPress=Date.now():modifierCodes.indexOf(e.keyCode)<0&&(s.inputState.lastEscPress=0)};handlers.touchstart=(s,e)=>{s.inputState.lastTouchTime=Date.now(),s.inputState.setSelectionOrigin("select.pointer")};handlers.touchmove=s=>{s.inputState.setSelectionOrigin("select.pointer")};handlerOptions.touchstart=handlerOptions.touchmove={passive:!0};handlers.mousedown=(s,e)=>{if(s.observer.flush(),s.inputState.lastTouchTime>Date.now()-2e3&&getClickType(e)==1)return;let a=null;for(let o of s.state.facet(mouseSelectionStyle))if(a=o(s,e),a)break;if(!a&&e.button==0&&(a=basicMouseSelection(s,e)),a){let o=s.root.activeElement!=s.contentDOM;o&&s.observer.ignore(()=>focusPreventScroll(s.contentDOM)),s.inputState.startMouseSelection(new MouseSelection(s,e,a,o))}};function rangeForClick(s,e,a,o){if(o==1)return EditorSelection.cursor(e,a);if(o==2)return groupAt(s.state,e,a);{let c=LineView.find(s.docView,e),d=s.state.doc.lineAt(c?c.posAtEnd:e),b=c?c.posAtStart:d.from,k=c?c.posAtEnd:d.to;return k<s.state.doc.length&&k==d.to&&k++,EditorSelection.range(b,k)}}let insideY=(s,e)=>s>=e.top&&s<=e.bottom,inside=(s,e,a)=>insideY(e,a)&&s>=a.left&&s<=a.right;function findPositionSide(s,e,a,o){let c=LineView.find(s.docView,e);if(!c)return 1;let d=e-c.posAtStart;if(d==0)return 1;if(d==c.length)return-1;let b=c.coordsAt(d,-1);if(b&&inside(a,o,b))return-1;let k=c.coordsAt(d,1);return k&&inside(a,o,k)?1:b&&insideY(o,b)?-1:1}function queryPos(s,e){let a=s.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:a,bias:findPositionSide(s,a,e.clientX,e.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(s){if(!BadMouseDetail)return s.detail;let e=lastMouseDown,a=lastMouseDownTime;return lastMouseDown=s,lastMouseDownTime=Date.now(),lastMouseDownCount=!e||a>Date.now()-400&&Math.abs(e.clientX-s.clientX)<2&&Math.abs(e.clientY-s.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(s,e){let a=queryPos(s,e),o=getClickType(e),c=s.state.selection,d=a,b=e;return{update(k){k.docChanged&&(a&&(a.pos=k.changes.mapPos(a.pos)),c=c.map(k.changes),b=null)},get(k,$,_){let j;if(b&&k.clientX==b.clientX&&k.clientY==b.clientY?j=d:(j=d=queryPos(s,k),b=k),!j||!a)return c;let _e=rangeForClick(s,j.pos,j.bias,o);if(a.pos!=j.pos&&!$){let tt=rangeForClick(s,a.pos,a.bias,o),it=Math.min(tt.from,_e.from),nt=Math.max(tt.to,_e.to);_e=it<_e.from?EditorSelection.range(it,nt):EditorSelection.range(nt,it)}return $?c.replaceRange(c.main.extend(_e.from,_e.to)):_&&c.ranges.length>1&&c.ranges.some(tt=>tt.eq(_e))?removeRange(c,_e):_?c.addRange(_e):EditorSelection.create([_e])}}}function removeRange(s,e){for(let a=0;;a++)if(s.ranges[a].eq(e))return EditorSelection.create(s.ranges.slice(0,a).concat(s.ranges.slice(a+1)),s.mainIndex==a?0:s.mainIndex-(s.mainIndex>a?1:0))}handlers.dragstart=(s,e)=>{let{selection:{main:a}}=s.state,{mouseSelection:o}=s.inputState;o&&(o.dragging=a),e.dataTransfer&&(e.dataTransfer.setData("Text",s.state.sliceDoc(a.from,a.to)),e.dataTransfer.effectAllowed="copyMove")};function dropText(s,e,a,o){if(!a)return;let c=s.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:d}=s.inputState,b=o&&d&&d.dragging&&d.dragMove?{from:d.dragging.from,to:d.dragging.to}:null,k={from:c,insert:a},$=s.state.changes(b?[b,k]:k);s.focus(),s.dispatch({changes:$,selection:{anchor:$.mapPos(c,-1),head:$.mapPos(c,1)},userEvent:b?"move.drop":"input.drop"})}handlers.drop=(s,e)=>{if(!e.dataTransfer)return;if(s.state.readOnly)return e.preventDefault();let a=e.dataTransfer.files;if(a&&a.length){e.preventDefault();let o=Array(a.length),c=0,d=()=>{++c==a.length&&dropText(s,e,o.filter(b=>b!=null).join(s.state.lineBreak),!1)};for(let b=0;b<a.length;b++){let k=new FileReader;k.onerror=d,k.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(k.result)||(o[b]=k.result),d()},k.readAsText(a[b])}}else dropText(s,e,e.dataTransfer.getData("Text"),!0)};handlers.paste=(s,e)=>{if(s.state.readOnly)return e.preventDefault();s.observer.flush();let a=brokenClipboardAPI?null:e.clipboardData;a?(doPaste(s,a.getData("text/plain")),e.preventDefault()):capturePaste(s)};function captureCopy(s,e){let a=s.dom.parentNode;if(!a)return;let o=a.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.value=e,o.focus(),o.selectionEnd=e.length,o.selectionStart=0,setTimeout(()=>{o.remove(),s.focus()},50)}function copiedRange(s){let e=[],a=[],o=!1;for(let c of s.selection.ranges)c.empty||(e.push(s.sliceDoc(c.from,c.to)),a.push(c));if(!e.length){let c=-1;for(let{from:d}of s.selection.ranges){let b=s.doc.lineAt(d);b.number>c&&(e.push(b.text),a.push({from:b.from,to:Math.min(s.doc.length,b.to+1)})),c=b.number}o=!0}return{text:e.join(s.lineBreak),ranges:a,linewise:o}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(s,e)=>{let{text:a,ranges:o,linewise:c}=copiedRange(s.state);if(!a&&!c)return;lastLinewiseCopy=c?a:null;let d=brokenClipboardAPI?null:e.clipboardData;d?(e.preventDefault(),d.clearData(),d.setData("text/plain",a)):captureCopy(s,a),e.type=="cut"&&!s.state.readOnly&&s.dispatch({changes:o,scrollIntoView:!0,userEvent:"delete.cut"})};function updateForFocusChange(s){setTimeout(()=>{s.hasFocus!=s.inputState.notifiedFocused&&s.update([])},10)}handlers.focus=s=>{s.inputState.lastFocusTime=Date.now(),!s.scrollDOM.scrollTop&&(s.inputState.lastScrollTop||s.inputState.lastScrollLeft)&&(s.scrollDOM.scrollTop=s.inputState.lastScrollTop,s.scrollDOM.scrollLeft=s.inputState.lastScrollLeft),updateForFocusChange(s)};handlers.blur=s=>{s.observer.clearSelectionRange(),updateForFocusChange(s)};function forceClearComposition(s,e){if(s.docView.compositionDeco.size){s.inputState.rapidCompositionStart=e;try{s.update([])}finally{s.inputState.rapidCompositionStart=!1}}}handlers.compositionstart=handlers.compositionupdate=s=>{s.inputState.compositionFirstChange==null&&(s.inputState.compositionFirstChange=!0),s.inputState.composing<0&&(s.inputState.composing=0,s.docView.compositionDeco.size&&(s.observer.flush(),forceClearComposition(s,!0)))};handlers.compositionend=s=>{s.inputState.composing=-1,s.inputState.compositionEndedAt=Date.now(),s.inputState.compositionFirstChange=null,setTimeout(()=>{s.inputState.composing<0&&forceClearComposition(s,!1)},50)};handlers.contextmenu=s=>{s.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(s,e)=>{var a;let o;if(browser.chrome&&browser.android&&(o=PendingKeys.find(c=>c.inputType==e.inputType))&&(s.observer.delayAndroidKey(o.key,o.keyCode),o.key=="Backspace"||o.key=="Delete")){let c=((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0;setTimeout(()=>{var d;(((d=window.visualViewport)===null||d===void 0?void 0:d.height)||0)>c+10&&s.hasFocus&&(s.contentDOM.blur(),s.focus())},100)}};const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];class HeightOracle{constructor(){this.doc=Text.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,a){let o=this.doc.lineAt(a).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(o+=Math.ceil((a-e-o*this.lineLength*.5)/this.lineLength)),this.lineHeight*o}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wrappingWhiteSpace.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let a=!1;for(let o=0;o<e.length;o++){let c=e[o];c<0?o++:this.heightSamples[Math.floor(c*10)]||(a=!0,this.heightSamples[Math.floor(c*10)]=!0)}return a}refresh(e,a,o,c,d){let b=wrappingWhiteSpace.indexOf(e)>-1,k=Math.round(a)!=Math.round(this.lineHeight)||this.lineWrapping!=b;if(this.lineWrapping=b,this.lineHeight=a,this.charWidth=o,this.lineLength=c,k){this.heightSamples={};for(let $=0;$<d.length;$++){let _=d[$];_<0?$++:this.heightSamples[Math.floor(_*10)]=!0}}return k}}class MeasuredHeights{constructor(e,a){this.from=e,this.heights=a,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(e,a,o,c,d){this.from=e,this.length=a,this.top=o,this.height=c,this.type=d}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let a=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new BlockInfo(this.from,this.length+e.length,this.top,this.height+e.height,a)}}var QueryType$1=function(s){return s[s.ByPos=0]="ByPos",s[s.ByHeight=1]="ByHeight",s[s.ByPosNoHeight=2]="ByPosNoHeight",s}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(e,a,o=2){this.length=e,this.height=a,this.flags=o}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,a){this.height!=a&&(Math.abs(this.height-a)>Epsilon&&(e.heightChanged=!0),this.height=a)}replace(e,a,o){return HeightMap.of(o)}decomposeLeft(e,a){a.push(this)}decomposeRight(e,a){a.push(this)}applyChanges(e,a,o,c){let d=this;for(let b=c.length-1;b>=0;b--){let{fromA:k,toA:$,fromB:_,toB:j}=c[b],_e=d.lineAt(k,QueryType$1.ByPosNoHeight,a,0,0),tt=_e.to>=$?_e:d.lineAt($,QueryType$1.ByPosNoHeight,a,0,0);for(j+=tt.to-$,$=tt.to;b>0&&_e.from<=c[b-1].toA;)k=c[b-1].fromA,_=c[b-1].fromB,b--,k<_e.from&&(_e=d.lineAt(k,QueryType$1.ByPosNoHeight,a,0,0));_+=_e.from-k,k=_e.from;let it=NodeBuilder.build(o,e,_,j);d=d.replace(k,$,it)}return d.updateHeight(o,0)}static empty(){return new HeightMapText(0,0)}static of(e){if(e.length==1)return e[0];let a=0,o=e.length,c=0,d=0;for(;;)if(a==o)if(c>d*2){let k=e[a-1];k.break?e.splice(--a,1,k.left,null,k.right):e.splice(--a,1,k.left,k.right),o+=1+k.break,c-=k.size}else if(d>c*2){let k=e[o];k.break?e.splice(o,1,k.left,null,k.right):e.splice(o,1,k.left,k.right),o+=2+k.break,d-=k.size}else break;else if(c<d){let k=e[a++];k&&(c+=k.size)}else{let k=e[--o];k&&(d+=k.size)}let b=0;return e[a-1]==null?(b=1,a--):e[a]==null&&(b=1,o++),new HeightMapBranch(HeightMap.of(e.slice(0,a)),b,HeightMap.of(e.slice(o)))}}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(e,a,o){super(e,a),this.type=o}blockAt(e,a,o,c){return new BlockInfo(c,this.length,o,this.height,this.type)}lineAt(e,a,o,c,d){return this.blockAt(0,o,c,d)}forEachLine(e,a,o,c,d,b){e<=d+this.length&&a>=d&&b(this.blockAt(0,o,c,d))}updateHeight(e,a=0,o=!1,c){return c&&c.from<=a&&c.more&&this.setHeight(e,c.heights[c.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(e,a){super(e,a,BlockType.Text),this.collapsed=0,this.widgetHeight=0}replace(e,a,o){let c=o[0];return o.length==1&&(c instanceof HeightMapText||c instanceof HeightMapGap&&c.flags&4)&&Math.abs(this.length-c.length)<10?(c instanceof HeightMapGap?c=new HeightMapText(c.length,this.height):c.height=this.height,this.outdated||(c.outdated=!1),c):HeightMap.of(o)}updateHeight(e,a=0,o=!1,c){return c&&c.from<=a&&c.more?this.setHeight(e,c.heights[c.index++]):(o||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(e){super(e,0)}lines(e,a){let o=e.lineAt(a).number,c=e.lineAt(a+this.length).number;return{firstLine:o,lastLine:c,lineHeight:this.height/(c-o+1)}}blockAt(e,a,o,c){let{firstLine:d,lastLine:b,lineHeight:k}=this.lines(a,c),$=Math.max(0,Math.min(b-d,Math.floor((e-o)/k))),{from:_,length:j}=a.line(d+$);return new BlockInfo(_,j,o+k*$,k,BlockType.Text)}lineAt(e,a,o,c,d){if(a==QueryType$1.ByHeight)return this.blockAt(e,o,c,d);if(a==QueryType$1.ByPosNoHeight){let{from:_e,to:tt}=o.lineAt(e);return new BlockInfo(_e,tt-_e,0,0,BlockType.Text)}let{firstLine:b,lineHeight:k}=this.lines(o,d),{from:$,length:_,number:j}=o.lineAt(e);return new BlockInfo($,_,c+k*(j-b),k,BlockType.Text)}forEachLine(e,a,o,c,d,b){let{firstLine:k,lineHeight:$}=this.lines(o,d);for(let _=Math.max(e,d),j=Math.min(d+this.length,a);_<=j;){let _e=o.lineAt(_);_==e&&(c+=$*(_e.number-k)),b(new BlockInfo(_e.from,_e.length,c,$,BlockType.Text)),c+=$,_=_e.to+1}}replace(e,a,o){let c=this.length-a;if(c>0){let d=o[o.length-1];d instanceof HeightMapGap?o[o.length-1]=new HeightMapGap(d.length+c):o.push(null,new HeightMapGap(c-1))}if(e>0){let d=o[0];d instanceof HeightMapGap?o[0]=new HeightMapGap(e+d.length):o.unshift(new HeightMapGap(e-1),null)}return HeightMap.of(o)}decomposeLeft(e,a){a.push(new HeightMapGap(e-1),null)}decomposeRight(e,a){a.push(null,new HeightMapGap(this.length-e-1))}updateHeight(e,a=0,o=!1,c){let d=a+this.length;if(c&&c.from<=a+this.length&&c.more){let b=[],k=Math.max(a,c.from),$=-1,_=e.heightChanged;for(c.from>a&&b.push(new HeightMapGap(c.from-a-1).updateHeight(e,a));k<=d&&c.more;){let _e=e.doc.lineAt(k).length;b.length&&b.push(null);let tt=c.heights[c.index++];$==-1?$=tt:Math.abs(tt-$)>=Epsilon&&($=-2);let it=new HeightMapText(_e,tt);it.outdated=!1,b.push(it),k+=_e+1}k<=d&&b.push(null,new HeightMapGap(d-k).updateHeight(e,k));let j=HeightMap.of(b);return e.heightChanged=_||$<0||Math.abs(j.height-this.height)>=Epsilon||Math.abs($-this.lines(e.doc,a).lineHeight)>=Epsilon,j}else(o||this.outdated)&&(this.setHeight(e,e.heightForGap(a,a+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(e,a,o){super(e.length+a+o.length,e.height+o.height,a|(e.outdated||o.outdated?2:0)),this.left=e,this.right=o,this.size=e.size+o.size}get break(){return this.flags&1}blockAt(e,a,o,c){let d=o+this.left.height;return e<d?this.left.blockAt(e,a,o,c):this.right.blockAt(e,a,d,c+this.left.length+this.break)}lineAt(e,a,o,c,d){let b=c+this.left.height,k=d+this.left.length+this.break,$=a==QueryType$1.ByHeight?e<b:e<k,_=$?this.left.lineAt(e,a,o,c,d):this.right.lineAt(e,a,o,b,k);if(this.break||($?_.to<k:_.from>k))return _;let j=a==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return $?_.join(this.right.lineAt(k,j,o,b,k)):this.left.lineAt(k,j,o,c,d).join(_)}forEachLine(e,a,o,c,d,b){let k=c+this.left.height,$=d+this.left.length+this.break;if(this.break)e<$&&this.left.forEachLine(e,a,o,c,d,b),a>=$&&this.right.forEachLine(e,a,o,k,$,b);else{let _=this.lineAt($,QueryType$1.ByPos,o,c,d);e<_.from&&this.left.forEachLine(e,_.from-1,o,c,d,b),_.to>=e&&_.from<=a&&b(_),a>_.to&&this.right.forEachLine(_.to+1,a,o,k,$,b)}}replace(e,a,o){let c=this.left.length+this.break;if(a<c)return this.balanced(this.left.replace(e,a,o),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-c,a-c,o));let d=[];e>0&&this.decomposeLeft(e,d);let b=d.length;for(let k of o)d.push(k);if(e>0&&mergeGaps(d,b-1),a<this.length){let k=d.length;this.decomposeRight(a,d),mergeGaps(d,k)}return HeightMap.of(d)}decomposeLeft(e,a){let o=this.left.length;if(e<=o)return this.left.decomposeLeft(e,a);a.push(this.left),this.break&&(o++,e>=o&&a.push(null)),e>o&&this.right.decomposeLeft(e-o,a)}decomposeRight(e,a){let o=this.left.length,c=o+this.break;if(e>=c)return this.right.decomposeRight(e-c,a);e<o&&this.left.decomposeRight(e,a),this.break&&e<c&&a.push(null),a.push(this.right)}balanced(e,a){return e.size>2*a.size||a.size>2*e.size?HeightMap.of(this.break?[e,null,a]:[e,a]):(this.left=e,this.right=a,this.height=e.height+a.height,this.outdated=e.outdated||a.outdated,this.size=e.size+a.size,this.length=e.length+this.break+a.length,this)}updateHeight(e,a=0,o=!1,c){let{left:d,right:b}=this,k=a+d.length+this.break,$=null;return c&&c.from<=a+d.length&&c.more?$=d=d.updateHeight(e,a,o,c):d.updateHeight(e,a,o),c&&c.from<=k+b.length&&c.more?$=b=b.updateHeight(e,k,o,c):b.updateHeight(e,k,o),$?this.balanced(d,b):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(s,e){let a,o;s[e]==null&&(a=s[e-1])instanceof HeightMapGap&&(o=s[e+1])instanceof HeightMapGap&&s.splice(e-1,3,new HeightMapGap(a.length+1+o.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(e,a){this.pos=e,this.oracle=a,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,a){if(this.lineStart>-1){let o=Math.min(a,this.lineEnd),c=this.nodes[this.nodes.length-1];c instanceof HeightMapText?c.length+=o-this.pos:(o>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(o-this.pos,-1)),this.writtenTo=o,a>o&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=a}point(e,a,o){if(e<a||o.heightRelevant){let c=o.widget?o.widget.estimatedHeight:0;c<0&&(c=this.oracle.lineHeight);let d=a-e;o.block?this.addBlock(new HeightMapBlock(d,c,o.type)):(d||c>=relevantWidgetHeight)&&this.addLineDeco(c,d)}else a>e&&this.span(e,a);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:a}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=a,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new HeightMapText(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,a){let o=new HeightMapGap(a-e);return this.oracle.doc.lineAt(e).to==a&&(o.flags|=4),o}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof HeightMapText)return e;let a=new HeightMapText(0,-1);return this.nodes.push(a),a}addBlock(e){this.enterLine(),e.type==BlockType.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=BlockType.WidgetBefore&&(this.covering=e)}addLineDeco(e,a){let o=this.ensureLine();o.length+=a,o.collapsed+=a,o.widgetHeight=Math.max(o.widgetHeight,e),this.writtenTo=this.pos=this.pos+a}finish(e){let a=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(a instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||a==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let o=e;for(let c of this.nodes)c instanceof HeightMapText&&c.updateHeight(this.oracle,o),o+=c?c.length:1;return this.nodes}static build(e,a,o,c){let d=new NodeBuilder(o,e);return RangeSet.spans(a,o,c,d,0),d.finish(o)}}function heightRelevantDecoChanges(s,e,a){let o=new DecorationComparator;return RangeSet.compare(s,e,a,o,0),o.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(e,a,o,c){(e<a||o&&o.heightRelevant||c&&c.heightRelevant)&&addRange(e,a,this.changes,5)}}function visiblePixelRange(s,e){let a=s.getBoundingClientRect(),o=Math.max(0,a.left),c=Math.min(innerWidth,a.right),d=Math.max(0,a.top),b=Math.min(innerHeight,a.bottom),k=s.ownerDocument.body;for(let $=s.parentNode;$&&$!=k;)if($.nodeType==1){let _=$,j=window.getComputedStyle(_);if((_.scrollHeight>_.clientHeight||_.scrollWidth>_.clientWidth)&&j.overflow!="visible"){let _e=_.getBoundingClientRect();o=Math.max(o,_e.left),c=Math.min(c,_e.right),d=Math.max(d,_e.top),b=$==s.parentNode?_e.bottom:Math.min(b,_e.bottom)}$=j.position=="absolute"||j.position=="fixed"?_.offsetParent:_.parentNode}else if($.nodeType==11)$=$.host;else break;return{left:o-a.left,right:Math.max(o,c)-a.left,top:d-(a.top+e),bottom:Math.max(d,b)-(a.top+e)}}function fullPixelRange(s,e){let a=s.getBoundingClientRect();return{left:0,right:a.right-a.left,top:e,bottom:a.bottom-(a.top+e)}}class LineGap{constructor(e,a,o){this.from=e,this.to=a,this.size=o}static same(e,a){if(e.length!=a.length)return!1;for(let o=0;o<e.length;o++){let c=e[o],d=a[o];if(c.from!=d.from||c.to!=d.to||c.size!=d.size)return!1}return!0}draw(e){return Decoration.replace({widget:new LineGapWidget(this.size,e)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(e,a){super(),this.size=e,this.vertical=a}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new HeightOracle,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(decorations).filter(a=>typeof a!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(e.doc),[new ChangedRange(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(a=>a.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:a}=this.state.selection;for(let o=0;o<=1;o++){let c=o?a.head:a.anchor;if(!e.some(({from:d,to:b})=>c>=d&&c<=b)){let{from:d,to:b}=this.lineBlockAt(c);e.push(new Viewport(d,b))}}this.viewports=e.sort((o,c)=>o.from-c.from),this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:scaleBlock(e,this.scaler))})}update(e,a=null){this.state=e.state;let o=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(_=>typeof _!="function");let c=e.changedRanges,d=ChangedRange.extendWithRanges(c,heightRelevantDecoChanges(o,this.stateDeco,e?e.changes:ChangeSet.empty(this.state.doc.length))),b=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),d),this.heightMap.height!=b&&(e.flags|=2);let k=d.length?this.mapViewport(this.viewport,e.changes):this.viewport;(a&&(a.range.head<k.from||a.range.head>k.to)||!this.viewportIsAppropriate(k))&&(k=this.getViewport(0,a));let $=!e.changes.empty||e.flags&2||k.from!=this.viewport.from||k.to!=this.viewport.to;this.viewport=k,this.updateForViewport(),$&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),a&&(this.scrollTarget=a),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let a=e.contentDOM,o=window.getComputedStyle(a),c=this.heightOracle,d=o.whiteSpace;this.defaultTextDirection=o.direction=="rtl"?Direction.RTL:Direction.LTR;let b=this.heightOracle.mustRefreshForWrapping(d),k=b||this.mustMeasureContent||this.contentDOMHeight!=a.clientHeight;this.contentDOMHeight=a.clientHeight,this.mustMeasureContent=!1;let $=0,_=0,j=parseInt(o.paddingTop)||0,_e=parseInt(o.paddingBottom)||0;(this.paddingTop!=j||this.paddingBottom!=_e)&&(this.paddingTop=j,this.paddingBottom=_e,$|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(c.lineWrapping&&(k=!0),this.editorWidth=e.scrollDOM.clientWidth,$|=8);let tt=(this.printing?fullPixelRange:visiblePixelRange)(a,this.paddingTop),it=tt.top-this.pixelViewport.top,nt=tt.bottom-this.pixelViewport.bottom;this.pixelViewport=tt;let at=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(at!=this.inView&&(this.inView=at,at&&(k=!0)),!this.inView)return 0;let rt=a.clientWidth;if((this.contentDOMWidth!=rt||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=rt,this.editorHeight=e.scrollDOM.clientHeight,$|=8),k){let ht=e.docView.measureVisibleLineHeights(this.viewport);if(c.mustRefreshForHeights(ht)&&(b=!0),b||c.lineWrapping&&Math.abs(rt-this.contentDOMWidth)>c.charWidth){let{lineHeight:gt,charWidth:ct}=e.docView.measureTextSize();b=c.refresh(d,gt,ct,rt/ct,ht),b&&(e.docView.minWidth=0,$|=8)}it>0&&nt>0?_=Math.max(it,nt):it<0&&nt<0&&(_=Math.min(it,nt)),c.heightChanged=!1;for(let gt of this.viewports){let ct=gt.from==this.viewport.from?ht:e.docView.measureVisibleLineHeights(gt);this.heightMap=this.heightMap.updateHeight(c,0,b,new MeasuredHeights(gt.from,ct))}c.heightChanged&&($|=2)}let st=!this.viewportIsAppropriate(this.viewport,_)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return st&&(this.viewport=this.getViewport(_,this.scrollTarget)),this.updateForViewport(),($&2||st)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(b?[]:this.lineGaps)),$|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),$}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,a){let o=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),c=this.heightMap,d=this.state.doc,{visibleTop:b,visibleBottom:k}=this,$=new Viewport(c.lineAt(b-o*1e3,QueryType$1.ByHeight,d,0,0).from,c.lineAt(k+(1-o)*1e3,QueryType$1.ByHeight,d,0,0).to);if(a){let{head:_}=a.range;if(_<$.from||_>$.to){let j=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),_e=c.lineAt(_,QueryType$1.ByPos,d,0,0),tt;a.y=="center"?tt=(_e.top+_e.bottom)/2-j/2:a.y=="start"||a.y=="nearest"&&_<$.from?tt=_e.top:tt=_e.bottom-j,$=new Viewport(c.lineAt(tt-1e3/2,QueryType$1.ByHeight,d,0,0).from,c.lineAt(tt+j+1e3/2,QueryType$1.ByHeight,d,0,0).to)}}return $}mapViewport(e,a){let o=a.mapPos(e.from,-1),c=a.mapPos(e.to,1);return new Viewport(this.heightMap.lineAt(o,QueryType$1.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(c,QueryType$1.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:a},o=0){if(!this.inView)return!0;let{top:c}=this.heightMap.lineAt(e,QueryType$1.ByPos,this.state.doc,0,0),{bottom:d}=this.heightMap.lineAt(a,QueryType$1.ByPos,this.state.doc,0,0),{visibleTop:b,visibleBottom:k}=this;return(e==0||c<=b-Math.max(10,Math.min(-o,250)))&&(a==this.state.doc.length||d>=k+Math.max(10,Math.min(o,250)))&&c>b-2*1e3&&d<k+2*1e3}mapLineGaps(e,a){if(!e.length||a.empty)return e;let o=[];for(let c of e)a.touchesRange(c.from,c.to)||o.push(new LineGap(a.mapPos(c.from),a.mapPos(c.to),c.size));return o}ensureLineGaps(e){let a=[];if(this.defaultTextDirection!=Direction.LTR)return a;for(let o of this.viewportLines){if(o.length<4e3)continue;let c=lineStructure(o.from,o.to,this.stateDeco);if(c.total<4e3)continue;let d,b;if(this.heightOracle.lineWrapping){let _=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;d=findPosition(c,(this.visibleTop-o.top-_)/o.height),b=findPosition(c,(this.visibleBottom-o.top+_)/o.height)}else{let _=c.total*this.heightOracle.charWidth,j=2e3*this.heightOracle.charWidth;d=findPosition(c,(this.pixelViewport.left-j)/_),b=findPosition(c,(this.pixelViewport.right+j)/_)}let k=[];d>o.from&&k.push({from:o.from,to:d}),b<o.to&&k.push({from:b,to:o.to});let $=this.state.selection.main;$.from>=o.from&&$.from<=o.to&&cutRange(k,$.from-10,$.from+10),!$.empty&&$.to>=o.from&&$.to<=o.to&&cutRange(k,$.to-10,$.to+10);for(let{from:_,to:j}of k)j-_>1e3&&a.push(find(e,_e=>_e.from>=o.from&&_e.to<=o.to&&Math.abs(_e.from-_)<1e3&&Math.abs(_e.to-j)<1e3)||new LineGap(_,j,this.gapSize(o,_,j,c)))}return a}gapSize(e,a,o,c){let d=findFraction(c,o)-findFraction(c,a);return this.heightOracle.lineWrapping?e.height*d:c.total*this.heightOracle.charWidth*d}updateLineGaps(e){LineGap.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Decoration.set(e.map(a=>a.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let a=[];RangeSet.spans(e,this.viewport.from,this.viewport.to,{span(c,d){a.push({from:c,to:d})},point(){}},20);let o=a.length!=this.visibleRanges.length||this.visibleRanges.some((c,d)=>c.from!=a[d].from||c.to!=a[d].to);return this.visibleRanges=a,o?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(a=>a.from<=e&&a.to>=e)||scaleBlock(this.heightMap.lineAt(e,QueryType$1.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(e),QueryType$1.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(e,a){this.from=e,this.to=a}}function lineStructure(s,e,a){let o=[],c=s,d=0;return RangeSet.spans(a,s,e,{span(){},point(b,k){b>c&&(o.push({from:c,to:b}),d+=b-c),c=k}},20),c<e&&(o.push({from:c,to:e}),d+=e-c),{total:d,ranges:o}}function findPosition({total:s,ranges:e},a){if(a<=0)return e[0].from;if(a>=1)return e[e.length-1].to;let o=Math.floor(s*a);for(let c=0;;c++){let{from:d,to:b}=e[c],k=b-d;if(o<=k)return d+o;o-=k}}function findFraction(s,e){let a=0;for(let{from:o,to:c}of s.ranges){if(e<=c){a+=e-o;break}a+=c-o}return a/s.total}function cutRange(s,e,a){for(let o=0;o<s.length;o++){let c=s[o];if(c.from<a&&c.to>e){let d=[];c.from<e&&d.push({from:c.from,to:e}),c.to>a&&d.push({from:a,to:c.to}),s.splice(o,1,...d),o+=d.length-1}}}function find(s,e){for(let a of s)if(e(a))return a}const IdScaler={toDOM(s){return s},fromDOM(s){return s},scale:1};class BigScaler{constructor(e,a,o){let c=0,d=0,b=0;this.viewports=o.map(({from:k,to:$})=>{let _=a.lineAt(k,QueryType$1.ByPos,e,0,0).top,j=a.lineAt($,QueryType$1.ByPos,e,0,0).bottom;return c+=j-_,{from:k,to:$,top:_,bottom:j,domTop:0,domBottom:0}}),this.scale=(7e6-c)/(a.height-c);for(let k of this.viewports)k.domTop=b+(k.top-d)*this.scale,b=k.domBottom=k.domTop+(k.bottom-k.top),d=k.bottom}toDOM(e){for(let a=0,o=0,c=0;;a++){let d=a<this.viewports.length?this.viewports[a]:null;if(!d||e<d.top)return c+(e-o)*this.scale;if(e<=d.bottom)return d.domTop+(e-d.top);o=d.bottom,c=d.domBottom}}fromDOM(e){for(let a=0,o=0,c=0;;a++){let d=a<this.viewports.length?this.viewports[a]:null;if(!d||e<d.domTop)return o+(e-c)/this.scale;if(e<=d.domBottom)return d.top+(e-d.domTop);o=d.bottom,c=d.domBottom}}}function scaleBlock(s,e){if(e.scale==1)return s;let a=e.toDOM(s.top),o=e.toDOM(s.bottom);return new BlockInfo(s.from,s.length,a,o-a,Array.isArray(s.type)?s.type.map(c=>scaleBlock(c,e)):s.type)}const theme=Facet.define({combine:s=>s.join(" ")}),darkTheme=Facet.define({combine:s=>s.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(s,e,a){return new StyleModule(e,{finish(o){return/&/.test(o)?o.replace(/&\w*/,c=>{if(c=="&")return s;if(!a||!a[c])throw new RangeError(`Unsupported selector: ${c}`);return a[c]}):s+" "+o}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(e,a,o){this.view=e,this.onChange=a,this.onScrollChanged=o,this.active=!1,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(c=>{for(let d of c)this.queue.push(d);(browser.ie&&browser.ie_version<=11||browser.ios&&e.composing)&&c.some(d=>d.type=="childList"&&d.removedNodes.length||d.type=="characterData"&&d.oldValue.length>d.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=c=>{this.queue.push({target:c.target,type:"characterData",oldValue:c.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),this.win=e.dom.ownerDocument.defaultView,this.addWindowListeners(this.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(c=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),c.length>0&&c[c.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(c=>{c.length>0&&c[c.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((a,o)=>a!=e[o]))){this.gapIntersection.disconnect();for(let a of e)this.gapIntersection.observe(a);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:a}=this,o=this.selectionRange;if(a.state.facet(editable)?a.root.activeElement!=this.dom:!hasSelection(a.dom,o))return;let c=o.anchorNode&&a.docView.nearest(o.anchorNode);c&&c.ignoreEvent(e)||((browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!a.state.selection.main.empty&&o.focusNode&&isEquivalentPosition(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{view:e}=this,a=browser.safari&&e.root.nodeType==11&&deepActiveElement()==this.dom&&safariSelectionRangeHack(this.view)||getSelection(e.root);if(!a||this.selectionRange.eq(a))return!1;let o=hasSelection(this.dom,a);return o&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,a)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(a),o&&(this.selectionChanged=!0),!0)}setSelectionRange(e,a){this.selectionRange.set(e.node,e.offset,a.node,a.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,a=null;for(let o=this.dom;o;)if(o.nodeType==1)!a&&e<this.scrollTargets.length&&this.scrollTargets[e]==o?e++:a||(a=this.scrollTargets.slice(0,e)),a&&a.push(o),o=o.assignedSlot||o.parentNode;else if(o.nodeType==11)o=o.host;else break;if(e<this.scrollTargets.length&&!a&&(a=this.scrollTargets.slice(0,e)),a){for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);for(let o of this.scrollTargets=a)o.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,a){this.delayedAndroidKey||requestAnimationFrame(()=>{let o=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||dispatchKey(this.dom,o.key,o.keyCode)}),(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:a})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let d of this.observer.takeRecords())e.push(d);e.length&&(this.queue=[]);let a=-1,o=-1,c=!1;for(let d of e){let b=this.readMutation(d);!b||(b.typeOver&&(c=!0),a==-1?{from:a,to:o}=b:(a=Math.min(b.from,a),o=Math.max(b.to,o)))}return{from:a,to:o,typeOver:c}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:a,to:o,typeOver:c}=this.processRecords(),d=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(a<0&&!d)return;this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let b=this.view.state,k=this.onChange(a,o,c);return this.view.state==b&&this.view.update([]),k}readMutation(e){let a=this.view.docView.nearest(e.target);if(!a||a.ignoreMutation(e))return null;if(a.markDirty(e.type=="attributes"),e.type=="attributes"&&(a.dirty|=4),e.type=="childList"){let o=findChild(a,e.previousSibling||e.target.previousSibling,-1),c=findChild(a,e.nextSibling||e.target.nextSibling,1);return{from:o?a.posAfter(o):a.posAtStart,to:c?a.posBefore(c):a.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:a.posAtStart,to:a.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,a,o;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(a=this.gapIntersection)===null||a===void 0||a.disconnect(),(o=this.resize)===null||o===void 0||o.disconnect();for(let c of this.scrollTargets)c.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function findChild(s,e,a){for(;e;){let o=ContentView.get(e);if(o&&o.parent==s)return o;let c=e.parentNode;e=c!=s.dom?c:a>0?e.nextSibling:e.previousSibling}return null}function safariSelectionRangeHack(s){let e=null;function a($){$.preventDefault(),$.stopImmediatePropagation(),e=$.getTargetRanges()[0]}if(s.contentDOM.addEventListener("beforeinput",a,!0),document.execCommand("indent"),s.contentDOM.removeEventListener("beforeinput",a,!0),!e)return null;let o=e.startContainer,c=e.startOffset,d=e.endContainer,b=e.endOffset,k=s.docView.domAtPos(s.state.selection.main.anchor);return isEquivalentPosition(k.node,k.offset,d,b)&&([o,c,d,b]=[d,b,o,c]),{anchorNode:o,anchorOffset:c,focusNode:d,focusOffset:b}}function applyDOMChange(s,e,a,o){let c,d,b=s.state.selection.main;if(e>-1){let k=s.docView.domBoundsAround(e,a,0);if(!k||s.state.readOnly)return!1;let{from:$,to:_}=k,j=s.docView.impreciseHead||s.docView.impreciseAnchor?[]:selectionPoints(s),_e=new DOMReader(j,s.state);_e.readRange(k.startDOM,k.endDOM);let tt=b.from,it=null;(s.inputState.lastKeyCode===8&&s.inputState.lastKeyTime>Date.now()-100||browser.android&&_e.text.length<_-$)&&(tt=b.to,it="end");let nt=findDiff(s.state.doc.sliceString($,_,LineBreakPlaceholder),_e.text,tt-$,it);nt&&(browser.chrome&&s.inputState.lastKeyCode==13&&nt.toB==nt.from+2&&_e.text.slice(nt.from,nt.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&nt.toB--,c={from:$+nt.from,to:$+nt.toA,insert:Text.of(_e.text.slice(nt.from,nt.toB).split(LineBreakPlaceholder))}),d=selectionFromPoints(j,$)}else if(s.hasFocus||!s.state.facet(editable)){let k=s.observer.selectionRange,{impreciseHead:$,impreciseAnchor:_}=s.docView,j=$&&$.node==k.focusNode&&$.offset==k.focusOffset||!contains(s.contentDOM,k.focusNode)?s.state.selection.main.head:s.docView.posFromDOM(k.focusNode,k.focusOffset),_e=_&&_.node==k.anchorNode&&_.offset==k.anchorOffset||!contains(s.contentDOM,k.anchorNode)?s.state.selection.main.anchor:s.docView.posFromDOM(k.anchorNode,k.anchorOffset);(j!=b.head||_e!=b.anchor)&&(d=EditorSelection.single(_e,j))}if(!c&&!d)return!1;if(!c&&o&&!b.empty&&d&&d.main.empty?c={from:b.from,to:b.to,insert:s.state.doc.slice(b.from,b.to)}:c&&c.from>=b.from&&c.to<=b.to&&(c.from!=b.from||c.to!=b.to)&&b.to-b.from-(c.to-c.from)<=4?c={from:b.from,to:b.to,insert:s.state.doc.slice(b.from,c.from).append(c.insert).append(s.state.doc.slice(c.to,b.to))}:(browser.mac||browser.android)&&c&&c.from==c.to&&c.from==b.head-1&&c.insert.toString()=="."&&(c={from:b.from,to:b.to,insert:Text.of([" "])}),c){let k=s.state;if(browser.ios&&s.inputState.flushIOSKey(s)||browser.android&&(c.from==b.from&&c.to==b.to&&c.insert.length==1&&c.insert.lines==2&&dispatchKey(s.contentDOM,"Enter",13)||c.from==b.from-1&&c.to==b.to&&c.insert.length==0&&dispatchKey(s.contentDOM,"Backspace",8)||c.from==b.from&&c.to==b.to+1&&c.insert.length==0&&dispatchKey(s.contentDOM,"Delete",46)))return!0;let $=c.insert.toString();if(s.state.facet(inputHandler$1).some(_e=>_e(s,c.from,c.to,$)))return!0;s.inputState.composing>=0&&s.inputState.composing++;let _;if(c.from>=b.from&&c.to<=b.to&&c.to-c.from>=(b.to-b.from)/3&&(!d||d.main.empty&&d.main.from==c.from+c.insert.length)&&s.inputState.composing<0){let _e=b.from<c.from?k.sliceDoc(b.from,c.from):"",tt=b.to>c.to?k.sliceDoc(c.to,b.to):"";_=k.replaceSelection(s.state.toText(_e+c.insert.sliceString(0,void 0,s.state.lineBreak)+tt))}else{let _e=k.changes(c),tt=d&&!k.selection.main.eq(d.main)&&d.main.to<=_e.newLength?d.main:void 0;if(k.selection.ranges.length>1&&s.inputState.composing>=0&&c.to<=b.to&&c.to>=b.to-10){let it=s.state.sliceDoc(c.from,c.to),nt=compositionSurroundingNode(s)||s.state.doc.lineAt(b.head),at=b.to-c.to,rt=b.to-b.from;_=k.changeByRange(st=>{if(st.from==b.from&&st.to==b.to)return{changes:_e,range:tt||st.map(_e)};let ht=st.to-at,gt=ht-it.length;if(st.to-st.from!=rt||s.state.sliceDoc(gt,ht)!=it||nt&&st.to>=nt.from&&st.from<=nt.to)return{range:st};let ct=k.changes({from:gt,to:ht,insert:c.insert}),ft=st.to-b.to;return{changes:ct,range:tt?EditorSelection.range(Math.max(0,tt.anchor+ft),Math.max(0,tt.head+ft)):st.map(ct)}})}else _={changes:_e,selection:tt&&k.selection.replaceRange(tt)}}let j="input.type";return s.composing&&(j+=".compose",s.inputState.compositionFirstChange&&(j+=".start",s.inputState.compositionFirstChange=!1)),s.dispatch(_,{scrollIntoView:!0,userEvent:j}),!0}else if(d&&!d.main.eq(b)){let k=!1,$="select";return s.inputState.lastSelectionTime>Date.now()-50&&(s.inputState.lastSelectionOrigin=="select"&&(k=!0),$=s.inputState.lastSelectionOrigin),s.dispatch({selection:d,scrollIntoView:k,userEvent:$}),!0}else return!1}function findDiff(s,e,a,o){let c=Math.min(s.length,e.length),d=0;for(;d<c&&s.charCodeAt(d)==e.charCodeAt(d);)d++;if(d==c&&s.length==e.length)return null;let b=s.length,k=e.length;for(;b>0&&k>0&&s.charCodeAt(b-1)==e.charCodeAt(k-1);)b--,k--;if(o=="end"){let $=Math.max(0,d-Math.min(b,k));a-=b+$-d}return b<d&&s.length<e.length?(d-=a<=d&&a>=b?d-a:0,k=d+(k-b),b=d):k<d&&(d-=a<=d&&a>=k?d-a:0,b=d+(b-k),k=d),{from:d,toA:b,toB:k}}function selectionPoints(s){let e=[];if(s.root.activeElement!=s.contentDOM)return e;let{anchorNode:a,anchorOffset:o,focusNode:c,focusOffset:d}=s.observer.selectionRange;return a&&(e.push(new DOMPoint(a,o)),(c!=a||d!=o)&&e.push(new DOMPoint(c,d))),e}function selectionFromPoints(s,e){if(s.length==0)return null;let a=s[0].pos,o=s.length==2?s[1].pos:a;return a>-1&&o>-1?EditorSelection.single(a+e,o+e):null}class EditorView{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(a=>this.update([a])),this.dispatch=this.dispatch.bind(this),this._root=e.root||getRoot(e.parent)||document,this.viewState=new ViewState(e.state||EditorState.create(e)),this.plugins=this.state.facet(viewPlugin).map(a=>new PluginInstance(a));for(let a of this.plugins)a.update(this);this.observer=new DOMObserver(this,(a,o,c)=>applyDOMChange(this,a,o,c),a=>{this.inputState.runScrollHandlers(this,a),this.observer.intersecting&&this.measure()}),this.inputState=new InputState(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Transaction?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let a=!1,o=!1,c,d=this.state;for(let k of e){if(k.startState!=d)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");d=k.state}if(this.destroyed){this.viewState.state=d;return}if(this.observer.clear(),d.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(d);c=ViewUpdate.create(this,d,e);let b=this.viewState.scrollTarget;try{this.updateState=2;for(let k of e){if(b&&(b=b.map(k.changes)),k.scrollIntoView){let{main:$}=k.state.selection;b=new ScrollTarget($.empty?$:EditorSelection.cursor($.head,$.head>$.anchor?-1:1))}for(let $ of k.effects)$.is(scrollIntoView$1)&&(b=$.value)}this.viewState.update(c,b),this.bidiCache=CachedOrder.update(this.bidiCache,c.changes),c.empty||(this.updatePlugins(c),this.inputState.update(c)),a=this.docView.update(c),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(a,e.some(k=>k.isUserEvent("select.pointer")))}finally{this.updateState=0}if(c.startState.facet(theme)!=c.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(a||o||b||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!c.empty)for(let k of this.state.facet(updateListener))k(c)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let a=this.hasFocus;try{for(let o of this.plugins)o.destroy(this);this.viewState=new ViewState(e),this.plugins=e.facet(viewPlugin).map(o=>new PluginInstance(o)),this.pluginMap.clear();for(let o of this.plugins)o.update(this);this.docView=new DocView(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}a&&this.focus(),this.requestMeasure()}updatePlugins(e){let a=e.startState.facet(viewPlugin),o=e.state.facet(viewPlugin);if(a!=o){let c=[];for(let d of o){let b=a.indexOf(d);if(b<0)c.push(new PluginInstance(d));else{let k=this.plugins[b];k.mustUpdate=e,c.push(k)}}for(let d of this.plugins)d.mustUpdate!=e&&d.destroy(this);this.plugins=c,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let c of this.plugins)c.mustUpdate=e;for(let c=0;c<this.plugins.length;c++)this.plugins[c].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let a=null,{scrollHeight:o,scrollTop:c,clientHeight:d}=this.scrollDOM,b=c>o-d-4?o:c;try{for(let k=0;;k++){this.updateState=1;let $=this.viewport,_=this.viewState.lineBlockAtHeight(b),j=this.viewState.measure(this);if(!j&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(k>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let _e=[];j&4||([this.measureRequests,_e]=[_e,this.measureRequests]);let tt=_e.map(rt=>{try{return rt.read(this)}catch(st){return logException(this.state,st),BadMeasure}}),it=ViewUpdate.create(this,this.state,[]),nt=!1,at=!1;it.flags|=j,a?a.flags|=j:a=it,this.updateState=2,it.empty||(this.updatePlugins(it),this.inputState.update(it),this.updateAttrs(),nt=this.docView.update(it));for(let rt=0;rt<_e.length;rt++)if(tt[rt]!=BadMeasure)try{let st=_e[rt];st.write&&st.write(tt[rt],this)}catch(st){logException(this.state,st)}if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,at=!0;else{let rt=this.viewState.lineBlockAt(_.from).top-_.top;(rt>1||rt<-1)&&(this.scrollDOM.scrollTop+=rt,at=!0)}if(nt&&this.docView.updateSelection(!0),this.viewport.from==$.from&&this.viewport.to==$.to&&!at&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(a&&!a.empty)for(let k of this.state.facet(updateListener))k(a)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let e=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),a={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(a["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,a);let o=this.observer.ignore(()=>{let c=updateAttrs(this.contentDOM,this.contentAttrs,a),d=updateAttrs(this.dom,this.editorAttrs,e);return c||d});return this.editorAttrs=e,this.contentAttrs=a,o}showAnnouncements(e){let a=!0;for(let o of e)for(let c of o.effects)if(c.is(EditorView.announce)){a&&(this.announceDOM.textContent=""),a=!1;let d=this.announceDOM.appendChild(document.createElement("div"));d.textContent=c.value}}mountStyles(){this.styleModules=this.state.facet(styleModule),StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),e){if(e.key!=null){for(let a=0;a<this.measureRequests.length;a++)if(this.measureRequests[a].key===e.key){this.measureRequests[a]=e;return}}this.measureRequests.push(e)}}plugin(e){let a=this.pluginMap.get(e);return(a===void 0||a&&a.spec!=e)&&this.pluginMap.set(e,a=this.plugins.find(o=>o.spec==e)||null),a&&a.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,a,o){return skipAtoms(this,e,moveByChar(this,e,a,o))}moveByGroup(e,a){return skipAtoms(this,e,moveByChar(this,e,a,o=>byGroup(this,e.head,o)))}moveToLineBoundary(e,a,o=!0){return moveToLineBoundary(this,e,a,o)}moveVertically(e,a,o){return skipAtoms(this,e,moveVertically(this,e,a,o))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,a=0){return this.docView.posFromDOM(e,a)}posAtCoords(e,a=!0){return this.readMeasured(),posAtCoords(this,e,a)}coordsAtPos(e,a=1){this.readMeasured();let o=this.docView.coordsAt(e,a);if(!o||o.left==o.right)return o;let c=this.state.doc.lineAt(e),d=this.bidiSpans(c),b=d[BidiSpan.find(d,e-c.from,-1,a)];return flattenRect(o,b.dir==Direction.LTR==a>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(perLineTextDirection)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>MaxBidiLine)return trivialOrder(e.length);let a=this.textDirectionAt(e.from);for(let c of this.bidiCache)if(c.from==e.from&&c.dir==a)return c.order;let o=computeOrder(e.text,a);return this.bidiCache.push(new CachedOrder(e.from,e.to,a,o)),o}get hasFocus(){var e;return(document.hasFocus()||browser.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,a={}){return scrollIntoView$1.of(new ScrollTarget(typeof e=="number"?EditorSelection.cursor(e):e,a.y,a.x,a.yMargin,a.xMargin))}static domEventHandlers(e){return ViewPlugin.define(()=>({}),{eventHandlers:e})}static theme(e,a){let o=StyleModule.newName(),c=[theme.of(o),styleModule.of(buildTheme(`.${o}`,e))];return a&&a.dark&&c.push(darkTheme.of(!0)),c}static baseTheme(e){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,e,lightDarkIDs)))}static findFromDOM(e){var a;let o=e.querySelector(".cm-content"),c=o&&ContentView.get(o)||ContentView.get(e);return((a=c==null?void 0:c.rootView)===null||a===void 0?void 0:a.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.atomicRanges=atomicRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(e,a,o,c){this.from=e,this.to=a,this.dir=o,this.order=c}static update(e,a){if(a.empty)return e;let o=[],c=e.length?e[e.length-1].dir:Direction.LTR;for(let d=Math.max(0,e.length-10);d<e.length;d++){let b=e[d];b.dir==c&&!a.touchesRange(b.from,b.to)&&o.push(new CachedOrder(a.mapPos(b.from,1),a.mapPos(b.to,-1),b.dir,b.order))}return o}}function attrsFromFacet(s,e,a){for(let o=s.state.facet(e),c=o.length-1;c>=0;c--){let d=o[c],b=typeof d=="function"?d(s):d;b&&combineAttrs(b,a)}return a}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(s,e){const a=s.split(/-(?!$)/);let o=a[a.length-1];o=="Space"&&(o=" ");let c,d,b,k;for(let $=0;$<a.length-1;++$){const _=a[$];if(/^(cmd|meta|m)$/i.test(_))k=!0;else if(/^a(lt)?$/i.test(_))c=!0;else if(/^(c|ctrl|control)$/i.test(_))d=!0;else if(/^s(hift)?$/i.test(_))b=!0;else if(/^mod$/i.test(_))e=="mac"?k=!0:d=!0;else throw new Error("Unrecognized modifier name: "+_)}return c&&(o="Alt-"+o),d&&(o="Ctrl-"+o),k&&(o="Meta-"+o),b&&(o="Shift-"+o),o}function modifiers(s,e,a){return e.altKey&&(s="Alt-"+s),e.ctrlKey&&(s="Ctrl-"+s),e.metaKey&&(s="Meta-"+s),a!==!1&&e.shiftKey&&(s="Shift-"+s),s}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(s,e){return runHandlers(getKeymap(e.state),s,e,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(s){let e=s.facet(keymap),a=Keymaps.get(e);return a||Keymaps.set(e,a=buildKeymap(e.reduce((o,c)=>o.concat(c),[]))),a}function runScopeHandlers(s,e,a){return runHandlers(getKeymap(s.state),e,s,a)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(s,e=currentPlatform){let a=Object.create(null),o=Object.create(null),c=(b,k)=>{let $=o[b];if($==null)o[b]=k;else if($!=k)throw new Error("Key binding "+b+" is used both as a regular binding and as a multi-stroke prefix")},d=(b,k,$,_)=>{let j=a[b]||(a[b]=Object.create(null)),_e=k.split(/ (?!$)/).map(nt=>normalizeKeyName(nt,e));for(let nt=1;nt<_e.length;nt++){let at=_e.slice(0,nt).join(" ");c(at,!0),j[at]||(j[at]={preventDefault:!0,commands:[rt=>{let st=storedPrefix={view:rt,prefix:at,scope:b};return setTimeout(()=>{storedPrefix==st&&(storedPrefix=null)},PrefixTimeout),!0}]})}let tt=_e.join(" ");c(tt,!1);let it=j[tt]||(j[tt]={preventDefault:!1,commands:[]});it.commands.push($),_&&(it.preventDefault=!0)};for(let b of s){let k=b[e]||b.key;if(!!k)for(let $ of b.scope?b.scope.split(" "):["editor"])d($,k,b.run,b.preventDefault),b.shift&&d($,"Shift-"+k,b.shift,b.preventDefault)}return a}function runHandlers(s,e,a,o){let c=keyName(e),d=codePointAt(c,0),b=codePointSize(d)==c.length&&c!=" ",k="",$=!1;storedPrefix&&storedPrefix.view==a&&storedPrefix.scope==o&&(k=storedPrefix.prefix+" ",($=modifierCodes.indexOf(e.keyCode)<0)&&(storedPrefix=null));let _=tt=>{if(tt){for(let it of tt.commands)if(it(a))return!0;tt.preventDefault&&($=!0)}return!1},j=s[o],_e;if(j){if(_(j[k+modifiers(c,e,!b)]))return!0;if(b&&(e.shiftKey||e.altKey||e.metaKey||d>127)&&(_e=base[e.keyCode])&&_e!=c){if(_(j[k+modifiers(_e,e,!0)]))return!0;if(e.shiftKey&&shift[e.keyCode]!=_e&&_(j[k+modifiers(shift[e.keyCode],e,!1)]))return!0}else if(b&&e.shiftKey&&_(j[k+modifiers(c,e,!0)]))return!0}return $}const CanHidePrimary=!browser.ios,selectionConfig=Facet.define({combine(s){return combineConfig(s,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,a)=>Math.min(e,a),drawRangeCursor:(e,a)=>e||a})}});function drawSelection(s={}){return[selectionConfig.of(s),drawSelectionPlugin,hideNativeSelection]}class Piece{constructor(e,a,o,c,d){this.left=e,this.top=a,this.width=o,this.height=c,this.className=d}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const drawSelectionPlugin=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=s.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=s.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),s.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(selectionConfig).cursorBlinkRate+"ms"}update(s){let e=s.startState.facet(selectionConfig)!=s.state.facet(selectionConfig);(e||s.selectionSet||s.geometryChanged||s.viewportChanged)&&this.view.requestMeasure(this.measureReq),s.transactions.some(a=>a.scrollIntoView)&&(this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:s}=this.view,e=s.facet(selectionConfig),a=s.selection.ranges.map(c=>c.empty?[]:measureRange(this.view,c)).reduce((c,d)=>c.concat(d)),o=[];for(let c of s.selection.ranges){let d=c==s.selection.main;if(c.empty?!d||CanHidePrimary:e.drawRangeCursor){let b=measureCursor(this.view,c,d);b&&o.push(b)}}return{rangePieces:a,cursors:o}}drawSel({rangePieces:s,cursors:e}){if(s.length!=this.rangePieces.length||s.some((a,o)=>!a.eq(this.rangePieces[o]))){this.selectionLayer.textContent="";for(let a of s)this.selectionLayer.appendChild(a.draw());this.rangePieces=s}if(e.length!=this.cursors.length||e.some((a,o)=>!a.eq(this.cursors[o]))){let a=this.cursorLayer.children;if(a.length!==e.length){this.cursorLayer.textContent="";for(const o of e)this.cursorLayer.appendChild(o.draw())}else e.forEach((o,c)=>o.adjust(a[c]));this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),themeSpec={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec));function getBase(s){let e=s.scrollDOM.getBoundingClientRect();return{left:(s.textDirection==Direction.LTR?e.left:e.right-s.scrollDOM.clientWidth)-s.scrollDOM.scrollLeft,top:e.top-s.scrollDOM.scrollTop}}function wrappedLine(s,e,a){let o=EditorSelection.cursor(e);return{from:Math.max(a.from,s.moveToLineBoundary(o,!1,!0).from),to:Math.min(a.to,s.moveToLineBoundary(o,!0,!0).from),type:BlockType.Text}}function blockAt(s,e){let a=s.lineBlockAt(e);if(Array.isArray(a.type)){for(let o of a.type)if(o.to>e||o.to==e&&(o.to==a.to||o.type==BlockType.Text))return o}return a}function measureRange(s,e){if(e.to<=s.viewport.from||e.from>=s.viewport.to)return[];let a=Math.max(e.from,s.viewport.from),o=Math.min(e.to,s.viewport.to),c=s.textDirection==Direction.LTR,d=s.contentDOM,b=d.getBoundingClientRect(),k=getBase(s),$=window.getComputedStyle(d.firstChild),_=b.left+parseInt($.paddingLeft)+Math.min(0,parseInt($.textIndent)),j=b.right-parseInt($.paddingRight),_e=blockAt(s,a),tt=blockAt(s,o),it=_e.type==BlockType.Text?_e:null,nt=tt.type==BlockType.Text?tt:null;if(s.lineWrapping&&(it&&(it=wrappedLine(s,a,it)),nt&&(nt=wrappedLine(s,o,nt))),it&&nt&&it.from==nt.from)return rt(st(e.from,e.to,it));{let gt=it?st(e.from,null,it):ht(_e,!1),ct=nt?st(null,e.to,nt):ht(tt,!0),ft=[];return(it||_e).to<(nt||tt).from-1?ft.push(at(_,gt.bottom,j,ct.top)):gt.bottom<ct.top&&s.elementAtHeight((gt.bottom+ct.top)/2).type==BlockType.Text&&(gt.bottom=ct.top=(gt.bottom+ct.top)/2),rt(gt).concat(ft).concat(rt(ct))}function at(gt,ct,ft,dt){return new Piece(gt-k.left,ct-k.top-.01,ft-gt,dt-ct+.01,"cm-selectionBackground")}function rt({top:gt,bottom:ct,horizontal:ft}){let dt=[];for(let mt=0;mt<ft.length;mt+=2)dt.push(at(ft[mt],gt,ft[mt+1],ct));return dt}function st(gt,ct,ft){let dt=1e9,mt=-1e9,Ot=[];function yt(bt,Et,At,Rt,Dt){let Bt=s.coordsAtPos(bt,bt==ft.to?-2:2),Tt=s.coordsAtPos(At,At==ft.from?2:-2);dt=Math.min(Bt.top,Tt.top,dt),mt=Math.max(Bt.bottom,Tt.bottom,mt),Dt==Direction.LTR?Ot.push(c&&Et?_:Bt.left,c&&Rt?j:Tt.right):Ot.push(!c&&Rt?_:Tt.left,!c&&Et?j:Bt.right)}let Ct=gt!=null?gt:ft.from,kt=ct!=null?ct:ft.to;for(let bt of s.visibleRanges)if(bt.to>Ct&&bt.from<kt)for(let Et=Math.max(bt.from,Ct),At=Math.min(bt.to,kt);;){let Rt=s.state.doc.lineAt(Et);for(let Dt of s.bidiSpans(Rt)){let Bt=Dt.from+Rt.from,Tt=Dt.to+Rt.from;if(Bt>=At)break;Tt>Et&&yt(Math.max(Bt,Et),gt==null&&Bt<=Ct,Math.min(Tt,At),ct==null&&Tt>=kt,Dt.dir)}if(Et=Rt.to+1,Et>=At)break}return Ot.length==0&&yt(Ct,gt==null,kt,ct==null,s.textDirection),{top:dt,bottom:mt,horizontal:Ot}}function ht(gt,ct){let ft=b.top+(ct?gt.top:gt.bottom);return{top:ft,bottom:ft,horizontal:[]}}}function measureCursor(s,e,a){let o=s.coordsAtPos(e.head,e.assoc||1);if(!o)return null;let c=getBase(s);return new Piece(o.left-c.left,o.top-c.top,-1,o.bottom-o.top,a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const setDropCursorPos=StateEffect.define({map(s,e){return s==null?null:e.mapPos(s)}}),dropCursorPos=StateField.define({create(){return null},update(s,e){return s!=null&&(s=e.changes.mapPos(s)),e.effects.reduce((a,o)=>o.is(setDropCursorPos)?o.value:a,s)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(s){var e;let a=s.state.field(dropCursorPos);a==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(s.startState.field(dropCursorPos)!=a||s.docChanged||s.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let s=this.view.state.field(dropCursorPos),e=s!=null&&this.view.coordsAtPos(s);if(!e)return null;let a=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-a.left+this.view.scrollDOM.scrollLeft,top:e.top-a.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(s){this.cursor&&(s?(this.cursor.style.left=s.left+"px",this.cursor.style.top=s.top+"px",this.cursor.style.height=s.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(s){this.view.state.field(dropCursorPos)!=s&&this.view.dispatch({effects:setDropCursorPos.of(s)})}},{eventHandlers:{dragover(s){this.setDropPos(this.view.posAtCoords({x:s.clientX,y:s.clientY}))},dragleave(s){(s.target==this.view.contentDOM||!this.view.contentDOM.contains(s.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(s,e,a,o,c){e.lastIndex=0;for(let d=s.iterRange(a,o),b=a,k;!d.next().done;b+=d.value.length)if(!d.lineBreak)for(;k=e.exec(d.value);)c(b+k.index,k)}function matchRanges(s,e){let a=s.visibleRanges;if(a.length==1&&a[0].from==s.viewport.from&&a[0].to==s.viewport.to)return a;let o=[];for(let{from:c,to:d}of a)c=Math.max(s.state.doc.lineAt(c).from,c-e),d=Math.min(s.state.doc.lineAt(d).to,d+e),o.length&&o[o.length-1].to>=c?o[o.length-1].to=d:o.push({from:c,to:d});return o}class MatchDecorator{constructor(e){const{regexp:a,decoration:o,decorate:c,boundary:d,maxLength:b=1e3}=e;if(!a.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=a,c)this.addMatch=(k,$,_,j)=>c(j,_,_+k[0].length,k,$);else if(o){let k=typeof o=="function"?o:()=>o;this.addMatch=($,_,j,_e)=>_e(j,j+$[0].length,k($,_,j))}else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=d,this.maxLength=b}createDeco(e){let a=new RangeSetBuilder,o=a.add.bind(a);for(let{from:c,to:d}of matchRanges(e,this.maxLength))iterMatches(e.state.doc,this.regexp,c,d,(b,k)=>this.addMatch(k,e,b,o));return a.finish()}updateDeco(e,a){let o=1e9,c=-1;return e.docChanged&&e.changes.iterChanges((d,b,k,$)=>{$>e.view.viewport.from&&k<e.view.viewport.to&&(o=Math.min(k,o),c=Math.max($,c))}),e.viewportChanged||c-o>1e3?this.createDeco(e.view):c>-1?this.updateRange(e.view,a.map(e.changes),o,c):a}updateRange(e,a,o,c){for(let d of e.visibleRanges){let b=Math.max(d.from,o),k=Math.min(d.to,c);if(k>b){let $=e.state.doc.lineAt(b),_=$.to<k?e.state.doc.lineAt(k):$,j=Math.max(d.from,$.from),_e=Math.min(d.to,_.to);if(this.boundary){for(;b>$.from;b--)if(this.boundary.test($.text[b-1-$.from])){j=b;break}for(;k<_.to;k++)if(this.boundary.test(_.text[k-_.from])){_e=k;break}}let tt=[],it,nt=(at,rt,st)=>tt.push(st.range(at,rt));if($==_)for(this.regexp.lastIndex=j-$.from;(it=this.regexp.exec($.text))&&it.index<_e-$.from;)this.addMatch(it,e,it.index+$.from,nt);else iterMatches(e.state.doc,this.regexp,j,_e,(at,rt)=>this.addMatch(rt,e,at,nt));a=a.update({filterFrom:j,filterTo:_e,filter:(at,rt)=>at<j||rt>_e,add:tt})}}return a}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var s;if(_supportsTabSize==null&&typeof document!="undefined"&&document.body){let e=document.body.style;_supportsTabSize=((s=e.tabSize)!==null&&s!==void 0?s:e.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(s){let e=combineConfig(s,{render:null,specialChars:Specials,addSpecialChars:null});return(e.replaceTabs=!supportsTabSize())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,UnicodeRegexpSupport)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,UnicodeRegexpSupport)),e}});function highlightSpecialChars(s={}){return[specialCharConfig.of(s),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(s.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(s)}makeDecorator(s){return new MatchDecorator({regexp:s.specialChars,decoration:(e,a,o)=>{let{doc:c}=a.state,d=codePointAt(e[0],0);if(d==9){let b=c.lineAt(o),k=a.state.tabSize,$=countColumn(b.text,k,o-b.from);return Decoration.replace({widget:new TabWidget((k-$%k)*this.view.defaultCharacterWidth)})}return this.decorationCache[d]||(this.decorationCache[d]=Decoration.replace({widget:new SpecialCharWidget(s,d)}))},boundary:s.replaceTabs?void 0:/[^]/})}update(s){let e=s.state.facet(specialCharConfig);s.startState.facet(specialCharConfig)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(s.view)):this.decorations=this.decorator.updateDeco(s,this.decorations)}},{decorations:s=>s.decorations}))}const DefaultPlaceholder="\u2022";function placeholder$1(s){return s>=32?DefaultPlaceholder:s==10?"\u2424":String.fromCharCode(9216+s)}class SpecialCharWidget extends WidgetType{constructor(e,a){super(),this.options=e,this.code=a}eq(e){return e.code==this.code}toDOM(e){let a=placeholder$1(this.code),o=e.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),c=this.options.render&&this.options.render(this.code,o,a);if(c)return c;let d=document.createElement("span");return d.textContent=a,d.title=o,d.setAttribute("aria-label",o),d.className="cm-specialChar",d}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(s){this.decorations=this.getDeco(s)}update(s){(s.docChanged||s.selectionSet)&&(this.decorations=this.getDeco(s.view))}getDeco(s){let e=-1,a=[];for(let o of s.state.selection.ranges){if(!o.empty)return Decoration.none;let c=s.lineBlockAt(o.head);c.from>e&&(a.push(lineDeco.range(c.from)),e=c.from)}return Decoration.set(a)}},{decorations:s=>s.decorations});class Placeholder extends WidgetType{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}ignoreEvent(){return!1}}function placeholder(s){return ViewPlugin.fromClass(class{constructor(e){this.view=e,this.placeholder=Decoration.set([Decoration.widget({widget:new Placeholder(s),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:e=>e.decorations})}const MaxOff=2e3;function rectangleFor(s,e,a){let o=Math.min(e.line,a.line),c=Math.max(e.line,a.line),d=[];if(e.off>MaxOff||a.off>MaxOff||e.col<0||a.col<0){let b=Math.min(e.off,a.off),k=Math.max(e.off,a.off);for(let $=o;$<=c;$++){let _=s.doc.line($);_.length<=k&&d.push(EditorSelection.range(_.from+b,_.to+k))}}else{let b=Math.min(e.col,a.col),k=Math.max(e.col,a.col);for(let $=o;$<=c;$++){let _=s.doc.line($),j=findColumn(_.text,b,s.tabSize,!0);if(j>-1){let _e=findColumn(_.text,k,s.tabSize);d.push(EditorSelection.range(_.from+j,_.from+_e))}}}return d}function absoluteColumn(s,e){let a=s.coordsAtPos(s.viewport.from);return a?Math.round(Math.abs((a.left-e)/s.defaultCharacterWidth)):-1}function getPos(s,e){let a=s.posAtCoords({x:e.clientX,y:e.clientY},!1),o=s.state.doc.lineAt(a),c=a-o.from,d=c>MaxOff?-1:c==o.length?absoluteColumn(s,e.clientX):countColumn(o.text,s.state.tabSize,a-o.from);return{line:o.number,col:d,off:c}}function rectangleSelectionStyle(s,e){let a=getPos(s,e),o=s.state.selection;return a?{update(c){if(c.docChanged){let d=c.changes.mapPos(c.startState.doc.line(a.line).from),b=c.state.doc.lineAt(d);a={line:b.number,col:a.col,off:Math.min(a.off,b.length)},o=o.map(c.changes)}},get(c,d,b){let k=getPos(s,c);if(!k)return o;let $=rectangleFor(s.state,a,k);return $.length?b?EditorSelection.create($.concat(o.ranges)):EditorSelection.create($):o}}:null}function rectangularSelection(s){let e=(s==null?void 0:s.eventFilter)||(a=>a.altKey&&a.button==0);return EditorView.mouseSelectionStyle.of((a,o)=>e(o)?rectangleSelectionStyle(a,o):null)}const keys={Alt:[18,s=>s.altKey],Control:[17,s=>s.ctrlKey],Shift:[16,s=>s.shiftKey],Meta:[91,s=>s.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(s={}){let[e,a]=keys[s.key||"Alt"],o=ViewPlugin.fromClass(class{constructor(c){this.view=c,this.isDown=!1}set(c){this.isDown!=c&&(this.isDown=c,this.view.update([]))}},{eventHandlers:{keydown(c){this.set(c.keyCode==e||a(c))},keyup(c){(c.keyCode==e||!a(c))&&this.set(!1)}}});return[o,EditorView.contentAttributes.of(c=>{var d;return!((d=c.plugin(o))===null||d===void 0)&&d.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(e,a,o){this.facet=a,this.createTooltipView=o,this.input=e.state.facet(a),this.tooltips=this.input.filter(c=>c),this.tooltipViews=this.tooltips.map(o)}update(e){let a=e.state.facet(this.facet),o=a.filter(d=>d);if(a===this.input){for(let d of this.tooltipViews)d.update&&d.update(e);return!1}let c=[];for(let d=0;d<o.length;d++){let b=o[d],k=-1;if(!!b){for(let $=0;$<this.tooltips.length;$++){let _=this.tooltips[$];_&&_.create==b.create&&(k=$)}if(k<0)c[d]=this.createTooltipView(b);else{let $=c[d]=this.tooltipViews[k];$.update&&$.update(e)}}}for(let d of this.tooltipViews)c.indexOf(d)<0&&d.dom.remove();return this.input=a,this.tooltips=o,this.tooltipViews=c,!0}}function windowSpace(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const tooltipConfig=Facet.define({combine:s=>{var e,a,o;return{position:browser.ios?"absolute":((e=s.find(c=>c.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((a=s.find(c=>c.parent))===null||a===void 0?void 0:a.parent)||null,tooltipSpace:((o=s.find(c=>c.tooltipSpace))===null||o===void 0?void 0:o.tooltipSpace)||windowSpace}}}),tooltipPlugin=ViewPlugin.fromClass(class{constructor(s){var e;this.view=s,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let a=s.state.facet(tooltipConfig);this.position=a.position,this.parent=a.parent,this.classes=s.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new TooltipViewManager(s,showTooltip,o=>this.createTooltip(o)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(o=>{Date.now()>this.lastTransaction-50&&o.length>0&&o[o.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),(e=s.dom.ownerDocument.defaultView)===null||e===void 0||e.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let s of this.manager.tooltipViews)this.intersectionObserver.observe(s.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(s){s.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(s);e&&this.observeIntersection();let a=e||s.geometryChanged,o=s.state.facet(tooltipConfig);if(o.position!=this.position){this.position=o.position;for(let c of this.manager.tooltipViews)c.dom.style.position=this.position;a=!0}if(o.parent!=this.parent){this.parent&&this.container.remove(),this.parent=o.parent,this.createContainer();for(let c of this.manager.tooltipViews)this.container.appendChild(c.dom);a=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);a&&this.maybeMeasure()}createTooltip(s){let e=s.create(this.view);if(e.dom.classList.add("cm-tooltip"),s.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",e.dom.appendChild(a)}return e.dom.style.position=this.position,e.dom.style.top=Outside,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var s,e;(s=this.view.dom.ownerDocument.defaultView)===null||s===void 0||s.removeEventListener("resize",this.measureSoon);for(let{dom:a}of this.manager.tooltipViews)a.remove();(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let s=this.view.dom.getBoundingClientRect();return{editor:s,parent:this.parent?this.container.getBoundingClientRect():s,pos:this.manager.tooltips.map((e,a)=>{let o=this.manager.tooltipViews[a];return o.getCoords?o.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view)}}writeMeasure(s){let{editor:e,space:a}=s,o=[];for(let c=0;c<this.manager.tooltips.length;c++){let d=this.manager.tooltips[c],b=this.manager.tooltipViews[c],{dom:k}=b,$=s.pos[c],_=s.size[c];if(!$||$.bottom<=Math.max(e.top,a.top)||$.top>=Math.min(e.bottom,a.bottom)||$.right<Math.max(e.left,a.left)-.1||$.left>Math.min(e.right,a.right)+.1){k.style.top=Outside;continue}let j=d.arrow?b.dom.querySelector(".cm-tooltip-arrow"):null,_e=j?7:0,tt=_.right-_.left,it=_.bottom-_.top,nt=b.offset||noOffset,at=this.view.textDirection==Direction.LTR,rt=_.width>a.right-a.left?at?a.left:a.right-_.width:at?Math.min($.left-(j?14:0)+nt.x,a.right-tt):Math.max(a.left,$.left-tt+(j?14:0)-nt.x),st=!!d.above;!d.strictSide&&(st?$.top-(_.bottom-_.top)-nt.y<a.top:$.bottom+(_.bottom-_.top)+nt.y>a.bottom)&&st==a.bottom-$.bottom>$.top-a.top&&(st=!st);let ht=st?$.top-it-_e-nt.y:$.bottom+_e+nt.y,gt=rt+tt;if(b.overlap!==!0)for(let ct of o)ct.left<gt&&ct.right>rt&&ct.top<ht+it&&ct.bottom>ht&&(ht=st?ct.top-it-2-_e:ct.bottom+_e+2);this.position=="absolute"?(k.style.top=ht-s.parent.top+"px",k.style.left=rt-s.parent.left+"px"):(k.style.top=ht+"px",k.style.left=rt+"px"),j&&(j.style.left=`${$.left+(at?nt.x:-nt.x)-(rt+14-7)}px`),b.overlap!==!0&&o.push({left:rt,top:ht,right:gt,bottom:ht+it}),k.classList.toggle("cm-tooltip-above",st),k.classList.toggle("cm-tooltip-below",!st),b.positioned&&b.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let s of this.manager.tooltipViews)s.dom.style.top=Outside}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define();class HoverTooltipHost{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(e,showHoverTooltip,a=>this.createHostedView(a))}static create(e){return new HoverTooltipHost(e)}createHostedView(e){let a=e.create(this.view);return a.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(a.dom),this.mounted&&a.mount&&a.mount(this.view),a}mount(e){for(let a of this.manager.tooltipViews)a.mount&&a.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],s=>{let e=s.facet(showHoverTooltip).filter(a=>a);return e.length===0?null:{pos:Math.min(...e.map(a=>a.pos)),end:Math.max(...e.filter(a=>a.end!=null).map(a=>a.end)),create:HoverTooltipHost.create,above:e[0].above,arrow:e.some(a=>a.arrow)}});class HoverPlugin{constructor(e,a,o,c,d){this.view=e,this.source=a,this.field=o,this.setHover=c,this.hoverTime=d,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,a=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(a==null)return;let o=this.view.coordsAtPos(a);if(o==null||e.y<o.top||e.y>o.bottom||e.x<o.left-this.view.defaultCharacterWidth||e.x>o.right+this.view.defaultCharacterWidth)return;let c=this.view.bidiSpans(this.view.state.doc.lineAt(a)).find(k=>k.from<=a&&k.to>=a),d=c&&c.dir==Direction.RTL?-1:1,b=this.source(this.view,a,e.x<o.left?-d:d);if(b!=null&&b.then){let k=this.pending={pos:a};b.then($=>{this.pending==k&&(this.pending=null,$&&this.view.dispatch({effects:this.setHover.of($)}))},$=>logException(this.view.state,$,"hover tooltip"))}else b&&this.view.dispatch({effects:this.setHover.of(b)})}mousemove(e){var a;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let o=this.active;if(o&&!isInTooltip(this.lastMove.target)||this.pending){let{pos:c}=o||this.pending,d=(a=o==null?void 0:o.end)!==null&&a!==void 0?a:c;(c==d?this.view.posAtCoords(this.lastMove)!=c:!isOverRange(this.view,c,d,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function isInTooltip(s){for(let e=s;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function isOverRange(s,e,a,o,c,d){let b=document.createRange(),k=s.domAtPos(e),$=s.domAtPos(a);b.setEnd($.node,$.offset),b.setStart(k.node,k.offset);let _=b.getClientRects();b.detach();for(let j=0;j<_.length;j++){let _e=_[j];if(Math.max(_e.top-c,c-_e.bottom,_e.left-o,o-_e.right)<=d)return!0}return!1}function hoverTooltip(s,e={}){let a=StateEffect.define(),o=StateField.define({create(){return null},update(c,d){if(c&&(e.hideOnChange&&(d.docChanged||d.selection)||e.hideOn&&e.hideOn(d,c)))return null;if(c&&d.docChanged){let b=d.changes.mapPos(c.pos,-1,MapMode.TrackDel);if(b==null)return null;let k=Object.assign(Object.create(null),c);k.pos=b,c.end!=null&&(k.end=d.changes.mapPos(c.end)),c=k}for(let b of d.effects)b.is(a)&&(c=b.value),b.is(closeHoverTooltipEffect)&&(c=null);return c},provide:c=>showHoverTooltip.from(c)});return[o,ViewPlugin.define(c=>new HoverPlugin(c,s,o,a,e.hoverTime||300)),showHoverTooltipHost]}function getTooltip(s,e){let a=s.plugin(tooltipPlugin);if(!a)return null;let o=a.manager.tooltips.indexOf(e);return o<0?null:a.manager.tooltipViews[o]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(s){let e,a;for(let o of s)e=e||o.topContainer,a=a||o.bottomContainer;return{topContainer:e,bottomContainer:a}}});function getPanel(s,e){let a=s.plugin(panelPlugin),o=a?a.specs.indexOf(e):-1;return o>-1?a.panels[o]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(s){this.input=s.state.facet(showPanel),this.specs=this.input.filter(a=>a),this.panels=this.specs.map(a=>a(s));let e=s.state.facet(panelConfig);this.top=new PanelGroup(s,!0,e.topContainer),this.bottom=new PanelGroup(s,!1,e.bottomContainer),this.top.sync(this.panels.filter(a=>a.top)),this.bottom.sync(this.panels.filter(a=>!a.top));for(let a of this.panels)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}update(s){let e=s.state.facet(panelConfig);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new PanelGroup(s.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(s.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let a=s.state.facet(showPanel);if(a!=this.input){let o=a.filter($=>$),c=[],d=[],b=[],k=[];for(let $ of o){let _=this.specs.indexOf($),j;_<0?(j=$(s.view),k.push(j)):(j=this.panels[_],j.update&&j.update(s)),c.push(j),(j.top?d:b).push(j)}this.specs=o,this.panels=c,this.top.sync(d),this.bottom.sync(b);for(let $ of k)$.dom.classList.add("cm-panel"),$.mount&&$.mount()}else for(let o of this.panels)o.update&&o.update(s)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:s=>EditorView.scrollMargins.of(e=>{let a=e.plugin(s);return a&&{top:a.top.scrollMargin(),bottom:a.bottom.scrollMargin()}})});class PanelGroup{constructor(e,a,o){this.view=e,this.top=a,this.container=o,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let a of this.panels)a.destroy&&e.indexOf(a)<0&&a.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let a=this.container||this.view.dom;a.insertBefore(this.dom,this.top?a.firstChild:null)}let e=this.dom.firstChild;for(let a of this.panels)if(a.dom.parentNode==this.dom){for(;e!=a.dom;)e=rm(e);e=e.nextSibling}else this.dom.insertBefore(a.dom,e);for(;e;)e=rm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rm(s){let e=s.nextSibling;return s.remove(),e}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(s){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),s))]}const unfixGutters=Facet.define({combine:s=>s.some(e=>e)});function gutters(s){let e=[gutterView];return s&&s.fixed===!1&&e.push(unfixGutters.of(!0)),e}const gutterView=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.prevViewport=s.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=s.state.facet(activeGutters).map(e=>new SingleGutterView(s,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!s.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),s.scrollDOM.insertBefore(this.dom,s.contentDOM)}update(s){if(this.updateGutters(s)){let e=this.prevViewport,a=s.view.viewport,o=Math.min(e.to,a.to)-Math.max(e.from,a.from);this.syncGutters(o<(a.to-a.from)*.8)}s.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=s.view.viewport}syncGutters(s){let e=this.dom.nextSibling;s&&this.dom.remove();let a=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),o=[],c=this.gutters.map(d=>new UpdateContext(d,this.view.viewport,-this.view.documentPadding.top));for(let d of this.view.viewportLineBlocks){let b;if(Array.isArray(d.type)){for(let k of d.type)if(k.type==BlockType.Text){b=k;break}}else b=d.type==BlockType.Text?d:void 0;if(!!b){o.length&&(o=[]),advanceCursor(a,o,d.from);for(let k of c)k.line(this.view,b,o)}}for(let d of c)d.finish();s&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(s){let e=s.startState.facet(activeGutters),a=s.state.facet(activeGutters),o=s.docChanged||s.heightChanged||s.viewportChanged||!RangeSet.eq(s.startState.facet(gutterLineClass),s.state.facet(gutterLineClass),s.view.viewport.from,s.view.viewport.to);if(e==a)for(let c of this.gutters)c.update(s)&&(o=!0);else{o=!0;let c=[];for(let d of a){let b=e.indexOf(d);b<0?c.push(new SingleGutterView(this.view,d)):(this.gutters[b].update(s),c.push(this.gutters[b]))}for(let d of this.gutters)d.dom.remove(),c.indexOf(d)<0&&d.destroy();for(let d of c)this.dom.appendChild(d.dom);this.gutters=c}return o}destroy(){for(let s of this.gutters)s.destroy();this.dom.remove()}},{provide:s=>EditorView.scrollMargins.of(e=>{let a=e.plugin(s);return!a||a.gutters.length==0||!a.fixed?null:e.textDirection==Direction.LTR?{left:a.dom.offsetWidth}:{right:a.dom.offsetWidth}})});function asArray(s){return Array.isArray(s)?s:[s]}function advanceCursor(s,e,a){for(;s.value&&s.from<=a;)s.from==a&&e.push(s.value),s.next()}class UpdateContext{constructor(e,a,o){this.gutter=e,this.height=o,this.localMarkers=[],this.i=0,this.cursor=RangeSet.iter(e.markers,a.from)}line(e,a,o){this.localMarkers.length&&(this.localMarkers=[]),advanceCursor(this.cursor,this.localMarkers,a.from);let c=o.length?this.localMarkers.concat(o):this.localMarkers,d=this.gutter.config.lineMarker(e,a,c);d&&c.unshift(d);let b=this.gutter;if(c.length==0&&!b.config.renderEmptyElements)return;let k=a.top-this.height;if(this.i==b.elements.length){let $=new GutterElement(e,a.height,k,c);b.elements.push($),b.dom.appendChild($.dom)}else b.elements[this.i].update(e,a.height,k,c);this.height=a.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let a=e.elements.pop();e.dom.removeChild(a.dom),a.destroy()}}}class SingleGutterView{constructor(e,a){this.view=e,this.config=a,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let o in a.domEventHandlers)this.dom.addEventListener(o,c=>{let d=e.lineBlockAtHeight(c.clientY-e.documentTop);a.domEventHandlers[o](e,d,c)&&c.preventDefault()});this.markers=asArray(a.markers(e)),a.initialSpacer&&(this.spacer=new GutterElement(e,0,0,[a.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let a=this.markers;if(this.markers=asArray(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let c=this.config.updateSpacer(this.spacer.markers[0],e);c!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[c])}let o=e.view.viewport;return!RangeSet.eq(this.markers,a,o.from,o.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class GutterElement{constructor(e,a,o,c){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,a,o,c)}update(e,a,o,c){this.height!=a&&(this.dom.style.height=(this.height=a)+"px"),this.above!=o&&(this.dom.style.marginTop=(this.above=o)?o+"px":""),sameMarkers(this.markers,c)||this.setMarkers(e,c)}setMarkers(e,a){let o="cm-gutterElement",c=this.dom.firstChild;for(let d=0,b=0;;){let k=b,$=d<a.length?a[d++]:null,_=!1;if($){let j=$.elementClass;j&&(o+=" "+j);for(let _e=b;_e<this.markers.length;_e++)if(this.markers[_e].compare($)){k=_e,_=!0;break}}else k=this.markers.length;for(;b<k;){let j=this.markers[b++];if(j.toDOM){j.destroy(c);let _e=c.nextSibling;c.remove(),c=_e}}if(!$)break;$.toDOM&&(_?c=c.nextSibling:this.dom.insertBefore($.toDOM(e),c)),_&&b++}this.dom.className=o,this.markers=a}destroy(){this.setMarkers(null,[])}}function sameMarkers(s,e){if(s.length!=e.length)return!1;for(let a=0;a<s.length;a++)if(!s[a].compare(e[a]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberConfig=Facet.define({combine(s){return combineConfig(s,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,a){let o=Object.assign({},e);for(let c in a){let d=o[c],b=a[c];o[c]=d?(k,$,_)=>d(k,$,_)||b(k,$,_):b}return o}})}});class NumberMarker extends GutterMarker{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(s,e){return s.state.facet(lineNumberConfig).formatNumber(e,s.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],s=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lineNumberMarkers)},lineMarker(e,a,o){return o.some(c=>c.toDOM)?null:new NumberMarker(formatNumber(e,e.state.doc.lineAt(a.from).number))},lineMarkerChange:e=>e.startState.facet(lineNumberConfig)!=e.state.facet(lineNumberConfig),initialSpacer(e){return new NumberMarker(formatNumber(e,maxLineNumber(e.state.doc.lines)))},updateSpacer(e,a){let o=formatNumber(a.view,maxLineNumber(a.view.state.doc.lines));return o==e.number?e:new NumberMarker(o)},domEventHandlers:s.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(s={}){return[lineNumberConfig.of(s),gutters(),lineNumberGutter]}function maxLineNumber(s){let e=9;for(;e<s;)e=e*10+9;return e}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],s=>{let e=[],a=-1;for(let o of s.selection.ranges)if(o.empty){let c=s.doc.lineAt(o.head).from;c>a&&(a=c,e.push(activeLineGutterMarker.range(c)))}return RangeSet.of(e)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(e,a){this.from=e,this.to=a}}class NodeProp{constructor(e={}){this.id=nextPropID++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=NodeType.match(e)),a=>{let o=e(a);return o===void 0?null:[this,o]}}}NodeProp.closedBy=new NodeProp({deserialize:s=>s.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:s=>s.split(" ")});NodeProp.group=new NodeProp({deserialize:s=>s.split(" ")});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});const noProps=Object.create(null);class NodeType{constructor(e,a,o,c=0){this.name=e,this.props=a,this.id=o,this.flags=c}static define(e){let a=e.props&&e.props.length?Object.create(null):noProps,o=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),c=new NodeType(e.name||"",a,e.id,o);if(e.props){for(let d of e.props)if(Array.isArray(d)||(d=d(c)),d){if(d[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");a[d[0].id]=d[1]}}return c}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let a=this.prop(NodeProp.group);return a?a.indexOf(e)>-1:!1}return this.id==e}static match(e){let a=Object.create(null);for(let o in e)for(let c of o.split(" "))a[c]=e[o];return o=>{for(let c=o.prop(NodeProp.group),d=-1;d<(c?c.length:0);d++){let b=a[d<0?o.name:c[d]];if(b)return b}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(e){this.types=e;for(let a=0;a<e.length;a++)if(e[a].id!=a)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let a=[];for(let o of this.types){let c=null;for(let d of e){let b=d(o);b&&(c||(c=Object.assign({},o.props)),c[b[0].id]=b[1])}a.push(c?new NodeType(o.name,c,o.id,o.flags):o)}return new NodeSet(a)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(s){s[s.ExcludeBuffers=1]="ExcludeBuffers",s[s.IncludeAnonymous=2]="IncludeAnonymous",s[s.IgnoreMounts=4]="IgnoreMounts",s[s.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(e,a,o,c,d){if(this.type=e,this.children=a,this.positions=o,this.length=c,this.props=null,d&&d.length){this.props=Object.create(null);for(let[b,k]of d)this.props[typeof b=="number"?b:b.id]=k}}toString(){let e=this.prop(NodeProp.mounted);if(e&&!e.overlay)return e.tree.toString();let a="";for(let o of this.children){let c=o.toString();c&&(a&&(a+=","),a+=c)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(a.length?"("+a+")":""):a}cursor(e=0){return new TreeCursor(this.topNode,e)}cursorAt(e,a=0,o=0){let c=CachedNode.get(this)||this.topNode,d=new TreeCursor(c);return d.moveTo(e,a),CachedNode.set(this,d._tree),d}get topNode(){return new TreeNode(this,0,0,null)}resolve(e,a=0){let o=resolveNode(CachedNode.get(this)||this.topNode,e,a,!1);return CachedNode.set(this,o),o}resolveInner(e,a=0){let o=resolveNode(CachedInnerNode.get(this)||this.topNode,e,a,!0);return CachedInnerNode.set(this,o),o}iterate(e){let{enter:a,leave:o,from:c=0,to:d=this.length}=e;for(let b=this.cursor((e.mode||0)|IterMode.IncludeAnonymous);;){let k=!1;if(b.from<=d&&b.to>=c&&(b.type.isAnonymous||a(b)!==!1)){if(b.firstChild())continue;k=!0}for(;k&&o&&!b.type.isAnonymous&&o(b),!b.nextSibling();){if(!b.parent())return;k=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let a in this.props)e.push([+a,this.props[a]]);return e}balance(e={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(a,o,c)=>new Tree(this.type,a,o,c,this.propValues),e.makeTree||((a,o,c)=>new Tree(NodeType.none,a,o,c)))}static build(e){return buildTree(e)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(e,a){this.buffer=e,this.index=a}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(e,a,o){this.buffer=e,this.length=a,this.set=o}get type(){return NodeType.none}toString(){let e=[];for(let a=0;a<this.buffer.length;)e.push(this.childString(a)),a=this.buffer[a+3];return e.join(",")}childString(e){let a=this.buffer[e],o=this.buffer[e+3],c=this.set.types[a],d=c.name;if(/\W/.test(d)&&!c.isError&&(d=JSON.stringify(d)),e+=4,o==e)return d;let b=[];for(;e<o;)b.push(this.childString(e)),e=this.buffer[e+3];return d+"("+b.join(",")+")"}findChild(e,a,o,c,d){let{buffer:b}=this,k=-1;for(let $=e;$!=a&&!(checkSide(d,c,b[$+1],b[$+2])&&(k=$,o>0));$=b[$+3]);return k}slice(e,a,o,c){let d=this.buffer,b=new Uint16Array(a-e);for(let k=e,$=0;k<a;)b[$++]=d[k++],b[$++]=d[k++]-o,b[$++]=d[k++]-o,b[$++]=d[k++]-e;return new TreeBuffer(b,c-o,this.set)}}function checkSide(s,e,a,o){switch(s){case-2:return a<e;case-1:return o>=e&&a<e;case 0:return a<e&&o>e;case 1:return a<=e&&o>e;case 2:return o>e;case 4:return!0}}function enterUnfinishedNodesBefore(s,e){let a=s.childBefore(e);for(;a;){let o=a.lastChild;if(!o||o.to!=a.to)break;o.type.isError&&o.from==o.to?(s=a,a=o.prevSibling):a=o}return s}function resolveNode(s,e,a,o){for(var c;s.from==s.to||(a<1?s.from>=e:s.from>e)||(a>-1?s.to<=e:s.to<e);){let b=!o&&s instanceof TreeNode&&s.index<0?null:s.parent;if(!b)return s;s=b}let d=o?0:IterMode.IgnoreOverlays;if(o)for(let b=s,k=b.parent;k;b=k,k=b.parent)b instanceof TreeNode&&b.index<0&&((c=k.enter(e,a,d))===null||c===void 0?void 0:c.from)!=b.from&&(s=k);for(;;){let b=s.enter(e,a,d);if(!b)return s;s=b}}class TreeNode{constructor(e,a,o,c){this._tree=e,this.from=a,this.index=o,this._parent=c}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,a,o,c,d=0){for(let b=this;;){for(let{children:k,positions:$}=b._tree,_=a>0?k.length:-1;e!=_;e+=a){let j=k[e],_e=$[e]+b.from;if(!!checkSide(c,o,_e,_e+j.length)){if(j instanceof TreeBuffer){if(d&IterMode.ExcludeBuffers)continue;let tt=j.findChild(0,j.buffer.length,a,o-_e,c);if(tt>-1)return new BufferNode(new BufferContext(b,j,e,_e),null,tt)}else if(d&IterMode.IncludeAnonymous||!j.type.isAnonymous||hasChild(j)){let tt;if(!(d&IterMode.IgnoreMounts)&&j.props&&(tt=j.prop(NodeProp.mounted))&&!tt.overlay)return new TreeNode(tt.tree,_e,e,b);let it=new TreeNode(j,_e,e,b);return d&IterMode.IncludeAnonymous||!it.type.isAnonymous?it:it.nextChild(a<0?j.children.length-1:0,a,o,c)}}}if(d&IterMode.IncludeAnonymous||!b.type.isAnonymous||(b.index>=0?e=b.index+a:e=a<0?-1:b._parent._tree.children.length,b=b._parent,!b))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,a,o=0){let c;if(!(o&IterMode.IgnoreOverlays)&&(c=this._tree.prop(NodeProp.mounted))&&c.overlay){let d=e-this.from;for(let{from:b,to:k}of c.overlay)if((a>0?b<=d:b<d)&&(a<0?k>=d:k>d))return new TreeNode(c.tree,c.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,a,o)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new TreeCursor(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,a=0){return resolveNode(this,e,a,!1)}resolveInner(e,a=0){return resolveNode(this,e,a,!0)}enterUnfinishedNodesBefore(e){return enterUnfinishedNodesBefore(this,e)}getChild(e,a=null,o=null){let c=getChildren(this,e,a,o);return c.length?c[0]:null}getChildren(e,a=null,o=null){return getChildren(this,e,a,o)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return matchNodeContext(this,e)}}function getChildren(s,e,a,o){let c=s.cursor(),d=[];if(!c.firstChild())return d;if(a!=null){for(;!c.type.is(a);)if(!c.nextSibling())return d}for(;;){if(o!=null&&c.type.is(o))return d;if(c.type.is(e)&&d.push(c.node),!c.nextSibling())return o==null?d:[]}}function matchNodeContext(s,e,a=e.length-1){for(let o=s.parent;a>=0;o=o.parent){if(!o)return!1;if(!o.type.isAnonymous){if(e[a]&&e[a]!=o.name)return!1;a--}}return!0}class BufferContext{constructor(e,a,o,c){this.parent=e,this.buffer=a,this.index=o,this.start=c}}class BufferNode{constructor(e,a,o){this.context=e,this._parent=a,this.index=o,this.type=e.buffer.set.types[e.buffer.buffer[o]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,a,o){let{buffer:c}=this.context,d=c.findChild(this.index+4,c.buffer[this.index+3],e,a-this.context.start,o);return d<0?null:new BufferNode(this.context,this,d)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,a,o=0){if(o&IterMode.ExcludeBuffers)return null;let{buffer:c}=this.context,d=c.findChild(this.index+4,c.buffer[this.index+3],a>0?1:-1,e-this.context.start,a);return d<0?null:new BufferNode(this.context,this,d)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,a=e.buffer[this.index+3];return a<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new BufferNode(this.context,this._parent,a):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,a=this._parent?this._parent.index+4:0;return this.index==a?this.externalSibling(-1):new BufferNode(this.context,this._parent,e.findChild(a,this.index,-1,0,4))}cursor(e=0){return new TreeCursor(this,e)}get tree(){return null}toTree(){let e=[],a=[],{buffer:o}=this.context,c=this.index+4,d=o.buffer[this.index+3];if(d>c){let b=o.buffer[this.index+1],k=o.buffer[this.index+2];e.push(o.slice(c,d,b,k)),a.push(0)}return new Tree(this.type,e,a,this.to-this.from)}resolve(e,a=0){return resolveNode(this,e,a,!1)}resolveInner(e,a=0){return resolveNode(this,e,a,!0)}enterUnfinishedNodesBefore(e){return enterUnfinishedNodesBefore(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,a=null,o=null){let c=getChildren(this,e,a,o);return c.length?c[0]:null}getChildren(e,a=null,o=null){return getChildren(this,e,a,o)}get node(){return this}matchContext(e){return matchNodeContext(this,e)}}class TreeCursor{constructor(e,a=0){if(this.mode=a,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof TreeNode)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let o=e._parent;o;o=o._parent)this.stack.unshift(o.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,a){this.index=e;let{start:o,buffer:c}=this.buffer;return this.type=a||c.set.types[c.buffer[e]],this.from=o+c.buffer[e+1],this.to=o+c.buffer[e+2],!0}yield(e){return e?e instanceof TreeNode?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,a,o){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,a,o,this.mode));let{buffer:c}=this.buffer,d=c.findChild(this.index+4,c.buffer[this.index+3],e,a-this.buffer.start,o);return d<0?!1:(this.stack.push(this.index),this.yieldBuf(d))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,a,o=this.mode){return this.buffer?o&IterMode.ExcludeBuffers?!1:this.enterChild(1,e,a):this.yield(this._tree.enter(e,a,o))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:a}=this.buffer,o=this.stack.length-1;if(e<0){let c=o<0?0:this.stack[o]+4;if(this.index!=c)return this.yieldBuf(a.findChild(c,this.index,-1,0,4))}else{let c=a.buffer[this.index+3];if(c<(o<0?a.buffer.length:a.buffer[this.stack[o]+3]))return this.yieldBuf(c)}return o<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let a,o,{buffer:c}=this;if(c){if(e>0){if(this.index<c.buffer.buffer.length)return!1}else for(let d=0;d<this.index;d++)if(c.buffer.buffer[d+3]<this.index)return!1;({index:a,parent:o}=c)}else({index:a,_parent:o}=this._tree);for(;o;{index:a,_parent:o}=o)if(a>-1)for(let d=a+e,b=e<0?-1:o._tree.children.length;d!=b;d+=e){let k=o._tree.children[d];if(this.mode&IterMode.IncludeAnonymous||k instanceof TreeBuffer||!k.type.isAnonymous||hasChild(k))return!1}return!0}move(e,a){if(a&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,a=0){for(;(this.from==this.to||(a<1?this.from>=e:this.from>e)||(a>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,a););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,a=null,o=0;if(e&&e.context==this.buffer){e:for(let c=this.index,d=this.stack.length;d>=0;){for(let b=e;b;b=b._parent)if(b.index==c){if(c==this.index)return b;a=b,o=d+1;break e}c=this.stack[--d]}}for(let c=o;c<this.stack.length;c++)a=new BufferNode(this.buffer,a,this.stack[c]);return this.bufferNode=new BufferNode(this.buffer,a,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,a){for(let o=0;;){let c=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){o++;continue}this.type.isAnonymous||(c=!0)}for(;c&&a&&a(this),c=this.type.isAnonymous,!this.nextSibling();){if(!o)return;this.parent(),o--,c=!0}}}matchContext(e){if(!this.buffer)return matchNodeContext(this.node,e);let{buffer:a}=this.buffer,{types:o}=a.set;for(let c=e.length-1,d=this.stack.length-1;c>=0;d--){if(d<0)return matchNodeContext(this.node,e,c);let b=o[a.buffer[this.stack[d]]];if(!b.isAnonymous){if(e[c]&&e[c]!=b.name)return!1;c--}}return!0}}function hasChild(s){return s.children.some(e=>e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e))}function buildTree(s){var e;let{buffer:a,nodeSet:o,maxBufferLength:c=DefaultBufferLength,reused:d=[],minRepeatType:b=o.types.length}=s,k=Array.isArray(a)?new FlatBufferCursor(a,a.length):a,$=o.types,_=0,j=0;function _e(ct,ft,dt,mt,Ot){let{id:yt,start:Ct,end:kt,size:bt}=k,Et=j;for(;bt<0;)if(k.next(),bt==-1){let Tt=d[yt];dt.push(Tt),mt.push(Ct-ct);return}else if(bt==-3){_=yt;return}else if(bt==-4){j=yt;return}else throw new RangeError(`Unrecognized record size: ${bt}`);let At=$[yt],Rt,Dt,Bt=Ct-ct;if(kt-Ct<=c&&(Dt=at(k.pos-ft,Ot))){let Tt=new Uint16Array(Dt.size-Dt.skip),Qt=k.pos-Dt.size,jt=Tt.length;for(;k.pos>Qt;)jt=rt(Dt.start,Tt,jt);Rt=new TreeBuffer(Tt,kt-Dt.start,o),Bt=Dt.start-ct}else{let Tt=k.pos-bt;k.next();let Qt=[],jt=[],vt=yt>=b?yt:-1,$t=0,Pt=kt;for(;k.pos>Tt;)vt>=0&&k.id==vt&&k.size>=0?(k.end<=Pt-c&&(it(Qt,jt,Ct,$t,k.end,Pt,vt,Et),$t=Qt.length,Pt=k.end),k.next()):_e(Ct,Tt,Qt,jt,vt);if(vt>=0&&$t>0&&$t<Qt.length&&it(Qt,jt,Ct,$t,Ct,Pt,vt,Et),Qt.reverse(),jt.reverse(),vt>-1&&$t>0){let Mt=tt(At);Rt=balanceRange(At,Qt,jt,0,Qt.length,0,kt-Ct,Mt,Mt)}else Rt=nt(At,Qt,jt,kt-Ct,Et-kt)}dt.push(Rt),mt.push(Bt)}function tt(ct){return(ft,dt,mt)=>{let Ot=0,yt=ft.length-1,Ct,kt;if(yt>=0&&(Ct=ft[yt])instanceof Tree){if(!yt&&Ct.type==ct&&Ct.length==mt)return Ct;(kt=Ct.prop(NodeProp.lookAhead))&&(Ot=dt[yt]+Ct.length+kt)}return nt(ct,ft,dt,mt,Ot)}}function it(ct,ft,dt,mt,Ot,yt,Ct,kt){let bt=[],Et=[];for(;ct.length>mt;)bt.push(ct.pop()),Et.push(ft.pop()+dt-Ot);ct.push(nt(o.types[Ct],bt,Et,yt-Ot,kt-yt)),ft.push(Ot-dt)}function nt(ct,ft,dt,mt,Ot=0,yt){if(_){let Ct=[NodeProp.contextHash,_];yt=yt?[Ct].concat(yt):[Ct]}if(Ot>25){let Ct=[NodeProp.lookAhead,Ot];yt=yt?[Ct].concat(yt):[Ct]}return new Tree(ct,ft,dt,mt,yt)}function at(ct,ft){let dt=k.fork(),mt=0,Ot=0,yt=0,Ct=dt.end-c,kt={size:0,start:0,skip:0};e:for(let bt=dt.pos-ct;dt.pos>bt;){let Et=dt.size;if(dt.id==ft&&Et>=0){kt.size=mt,kt.start=Ot,kt.skip=yt,yt+=4,mt+=4,dt.next();continue}let At=dt.pos-Et;if(Et<0||At<bt||dt.start<Ct)break;let Rt=dt.id>=b?4:0,Dt=dt.start;for(dt.next();dt.pos>At;){if(dt.size<0)if(dt.size==-3)Rt+=4;else break e;else dt.id>=b&&(Rt+=4);dt.next()}Ot=Dt,mt+=Et,yt+=Rt}return(ft<0||mt==ct)&&(kt.size=mt,kt.start=Ot,kt.skip=yt),kt.size>4?kt:void 0}function rt(ct,ft,dt){let{id:mt,start:Ot,end:yt,size:Ct}=k;if(k.next(),Ct>=0&&mt<b){let kt=dt;if(Ct>4){let bt=k.pos-(Ct-4);for(;k.pos>bt;)dt=rt(ct,ft,dt)}ft[--dt]=kt,ft[--dt]=yt-ct,ft[--dt]=Ot-ct,ft[--dt]=mt}else Ct==-3?_=mt:Ct==-4&&(j=mt);return dt}let st=[],ht=[];for(;k.pos>0;)_e(s.start||0,s.bufferStart||0,st,ht,-1);let gt=(e=s.length)!==null&&e!==void 0?e:st.length?ht[0]+st[0].length:0;return new Tree($[s.topID],st.reverse(),ht.reverse(),gt)}const nodeSizeCache=new WeakMap;function nodeSize(s,e){if(!s.isAnonymous||e instanceof TreeBuffer||e.type!=s)return 1;let a=nodeSizeCache.get(e);if(a==null){a=1;for(let o of e.children){if(o.type!=s||!(o instanceof Tree)){a=1;break}a+=nodeSize(s,o)}nodeSizeCache.set(e,a)}return a}function balanceRange(s,e,a,o,c,d,b,k,$){let _=0;for(let nt=o;nt<c;nt++)_+=nodeSize(s,e[nt]);let j=Math.ceil(_*1.5/8),_e=[],tt=[];function it(nt,at,rt,st,ht){for(let gt=rt;gt<st;){let ct=gt,ft=at[gt],dt=nodeSize(s,nt[gt]);for(gt++;gt<st;gt++){let mt=nodeSize(s,nt[gt]);if(dt+mt>=j)break;dt+=mt}if(gt==ct+1){if(dt>j){let mt=nt[ct];it(mt.children,mt.positions,0,mt.children.length,at[ct]+ht);continue}_e.push(nt[ct])}else{let mt=at[gt-1]+nt[gt-1].length-ft;_e.push(balanceRange(s,nt,at,ct,gt,ft,mt,null,$))}tt.push(ft+ht-d)}}return it(e,a,o,c,0),(k||$)(_e,tt,b)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(e,a,o){let c=this.map.get(e);c||this.map.set(e,c=new Map),c.set(a,o)}getBuffer(e,a){let o=this.map.get(e);return o&&o.get(a)}set(e,a){e instanceof BufferNode?this.setBuffer(e.context.buffer,e.index,a):e instanceof TreeNode&&this.map.set(e.tree,a)}get(e){return e instanceof BufferNode?this.getBuffer(e.context.buffer,e.index):e instanceof TreeNode?this.map.get(e.tree):void 0}cursorSet(e,a){e.buffer?this.setBuffer(e.buffer.buffer,e.index,a):this.map.set(e.tree,a)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class TreeFragment{constructor(e,a,o,c,d=!1,b=!1){this.from=e,this.to=a,this.tree=o,this.offset=c,this.open=(d?1:0)|(b?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,a=[],o=!1){let c=[new TreeFragment(0,e.length,e,0,!1,o)];for(let d of a)d.to>e.length&&c.push(d);return c}static applyChanges(e,a,o=128){if(!a.length)return e;let c=[],d=1,b=e.length?e[0]:null;for(let k=0,$=0,_=0;;k++){let j=k<a.length?a[k]:null,_e=j?j.fromA:1e9;if(_e-$>=o)for(;b&&b.from<_e;){let tt=b;if($>=tt.from||_e<=tt.to||_){let it=Math.max(tt.from,$)-_,nt=Math.min(tt.to,_e)-_;tt=it>=nt?null:new TreeFragment(it,nt,tt.tree,tt.offset+_,k>0,!!j)}if(tt&&c.push(tt),b.to>_e)break;b=d<e.length?e[d++]:null}if(!j)break;$=j.toA,_=j.toA-j.toB}return c}}class Parser$1{startParse(e,a,o){return typeof e=="string"&&(e=new StringInput(e)),o=o?o.length?o.map(c=>new Range(c.from,c.to)):[new Range(0,0)]:[new Range(0,e.length)],this.createParse(e,a||[],o)}parse(e,a,o){let c=this.startParse(e,a,o);for(;;){let d=c.advance();if(d)return d}}}class StringInput{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,a){return this.string.slice(e,a)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(e,a,o){this.set=e,this.base=a,this.modified=o,this.id=nextTagID++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let a=new Tag([],null,[]);if(a.set.push(a),e)for(let o of e.set)a.set.push(o);return a}static defineModifier(){let e=new Modifier;return a=>a.modified.indexOf(e)>-1?a:Modifier.get(a.base||a,a.modified.concat(e).sort((o,c)=>o.id-c.id))}}let nextModifierID=0;class Modifier{constructor(){this.instances=[],this.id=nextModifierID++}static get(e,a){if(!a.length)return e;let o=a[0].instances.find(k=>k.base==e&&sameArray(a,k.modified));if(o)return o;let c=[],d=new Tag(c,e,a);for(let k of a)k.instances.push(d);let b=permute(a);for(let k of e.set)for(let $ of b)c.push(Modifier.get(k,$));return d}}function sameArray(s,e){return s.length==e.length&&s.every((a,o)=>a==e[o])}function permute(s){let e=[s];for(let a=0;a<s.length;a++)for(let o of permute(s.slice(0,a).concat(s.slice(a+1))))e.push(o);return e}function styleTags(s){let e=Object.create(null);for(let a in s){let o=s[a];Array.isArray(o)||(o=[o]);for(let c of a.split(" "))if(c){let d=[],b=2,k=c;for(let _e=0;;){if(k=="..."&&_e>0&&_e+3==c.length){b=1;break}let tt=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(k);if(!tt)throw new RangeError("Invalid path: "+c);if(d.push(tt[0]=="*"?"":tt[0][0]=='"'?JSON.parse(tt[0]):tt[0]),_e+=tt[0].length,_e==c.length)break;let it=c[_e++];if(_e==c.length&&it=="!"){b=0;break}if(it!="/")throw new RangeError("Invalid path: "+c);k=c.slice(_e)}let $=d.length-1,_=d[$];if(!_)throw new RangeError("Invalid path: "+c);let j=new Rule(o,b,$>0?d.slice(0,$):null);e[_]=j.sort(e[_])}}return ruleNodeProp.add(e)}const ruleNodeProp=new NodeProp;class Rule{constructor(e,a,o,c){this.tags=e,this.mode=a,this.context=o,this.next=c}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function tagHighlighter(s,e){let a=Object.create(null);for(let d of s)if(!Array.isArray(d.tag))a[d.tag.id]=d.class;else for(let b of d.tag)a[b.id]=d.class;let{scope:o,all:c=null}=e||{};return{style:d=>{let b=c;for(let k of d)for(let $ of k.set){let _=a[$.id];if(_){b=b?b+" "+_:_;break}}return b},scope:o}}function highlightTags(s,e){let a=null;for(let o of s){let c=o.style(e);c&&(a=a?a+" "+c:c)}return a}function highlightTree(s,e,a,o=0,c=s.length){let d=new HighlightBuilder(o,Array.isArray(e)?e:[e],a);d.highlightRange(s.cursor(),o,c,"",d.highlighters),d.flush(c)}class HighlightBuilder{constructor(e,a,o){this.at=e,this.highlighters=a,this.span=o,this.class=""}startSpan(e,a){a!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=a)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,a,o,c,d){let{type:b,from:k,to:$}=e;if(k>=o||$<=a)return;b.isTop&&(d=this.highlighters.filter(it=>!it.scope||it.scope(b)));let _=c,j=b.prop(ruleNodeProp),_e=!1;for(;j;){if(!j.context||e.matchContext(j.context)){let it=highlightTags(d,j.tags);it&&(_&&(_+=" "),_+=it,j.mode==1?c+=(c?" ":"")+it:j.mode==0&&(_e=!0));break}j=j.next}if(this.startSpan(e.from,_),_e)return;let tt=e.tree&&e.tree.prop(NodeProp.mounted);if(tt&&tt.overlay){let it=e.node.enter(tt.overlay[0].from+k,1),nt=this.highlighters.filter(rt=>!rt.scope||rt.scope(tt.tree.type)),at=e.firstChild();for(let rt=0,st=k;;rt++){let ht=rt<tt.overlay.length?tt.overlay[rt]:null,gt=ht?ht.from+k:$,ct=Math.max(a,st),ft=Math.min(o,gt);if(ct<ft&&at)for(;e.from<ft&&(this.highlightRange(e,ct,ft,c,d),this.startSpan(Math.min(o,e.to),_),!(e.to>=gt||!e.nextSibling())););if(!ht||gt>o)break;st=ht.to+k,st>a&&(this.highlightRange(it.cursor(),Math.max(a,ht.from+k),Math.min(o,st),c,nt),this.startSpan(st,_))}at&&e.parent()}else if(e.firstChild()){do if(!(e.to<=a)){if(e.from>=o)break;this.highlightRange(e,a,o,c,d),this.startSpan(Math.min(o,e.to),_)}while(e.nextSibling());e.parent()}}}const t=Tag.define,comment=t(),name$1=t(),typeName=t(name$1),propertyName=t(name$1),literal$1=t(),string=t(literal$1),number=t(literal$1),content=t(),heading=t(content),keyword$1=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name:name$1,variableName:t(name$1),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name$1),labelName:t(name$1),namespace:t(name$1),macroName:t(name$1),literal:literal$1,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal$1),regexp:t(literal$1),escape:t(literal$1),color:t(literal$1),url:t(literal$1),keyword:keyword$1,self:t(keyword$1),null:t(keyword$1),atom:t(keyword$1),unit:t(keyword$1),modifier:t(keyword$1),operatorKeyword:t(keyword$1),controlKeyword:t(keyword$1),definitionKeyword:t(keyword$1),moduleKeyword:t(keyword$1),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier(),constant:Tag.defineModifier(),function:Tag.defineModifier(),standard:Tag.defineModifier(),local:Tag.defineModifier(),special:Tag.defineModifier()};tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(s){return Facet.define({combine:s?e=>e.concat(s):void 0})}class Language{constructor(e,a,o=[]){this.data=e,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=a,this.extension=[language.of(this),EditorState.languageData.of((c,d,b)=>c.facet(languageDataFacetAt(c,d,b)))].concat(o)}isActiveAt(e,a,o=-1){return languageDataFacetAt(e,a,o)==this.data}findRegions(e){let a=e.facet(language);if((a==null?void 0:a.data)==this.data)return[{from:0,to:e.doc.length}];if(!a||!a.allowsNesting)return[];let o=[],c=(d,b)=>{if(d.prop(languageDataProp)==this.data){o.push({from:b,to:b+d.length});return}let k=d.prop(NodeProp.mounted);if(k){if(k.tree.prop(languageDataProp)==this.data){if(k.overlay)for(let $ of k.overlay)o.push({from:$.from+b,to:$.to+b});else o.push({from:b,to:b+d.length});return}else if(k.overlay){let $=o.length;if(c(k.tree,k.overlay[0].from+b),o.length>$)return}}for(let $=0;$<d.children.length;$++){let _=d.children[$];_ instanceof Tree&&c(_,d.positions[$]+b)}};return c(syntaxTree(e),0),o}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function languageDataFacetAt(s,e,a){let o=s.facet(language);if(!o)return null;let c=o.data;if(o.allowsNesting)for(let d=syntaxTree(s).topNode;d;d=d.enter(e,a,IterMode.ExcludeBuffers))c=d.type.prop(languageDataProp)||c;return c}class LRLanguage extends Language{constructor(e,a){super(e,a),this.parser=a}static define(e){let a=defineLanguageFacet(e.languageData);return new LRLanguage(a,e.parser.configure({props:[languageDataProp.add(o=>o.isTop?a:void 0)]}))}configure(e){return new LRLanguage(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(s){let e=s.field(Language.state,!1);return e?e.tree:Tree.empty}class DocInput{constructor(e,a=e.length){this.doc=e,this.length=a,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,a){let o=this.cursorPos-this.string.length;return e<o||a>=this.cursorPos?this.doc.sliceString(e,a):this.string.slice(e-o,a-o)}}let currentContext=null;class ParseContext{constructor(e,a,o=[],c,d,b,k,$){this.parser=e,this.state=a,this.fragments=o,this.tree=c,this.treeLen=d,this.viewport=b,this.skipped=k,this.scheduleOn=$,this.parse=null,this.tempSkipped=[]}static create(e,a,o){return new ParseContext(e,a,[],Tree.empty,0,o,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(e,a){return a!=null&&a>=this.state.doc.length&&(a=void 0),this.tree!=Tree.empty&&this.isDone(a!=null?a:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var o;if(typeof e=="number"){let c=Date.now()+e;e=()=>Date.now()>c}for(this.parse||(this.parse=this.startParse()),a!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>a)&&a<this.state.doc.length&&this.parse.stopAt(a);;){let c=this.parse.advance();if(c)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(c,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(o=this.parse.stoppedAt)!==null&&o!==void 0?o:this.state.doc.length,this.tree=c,this.parse=null,this.treeLen<(a!=null?a:this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,a;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(a=this.parse.advance()););}),this.treeLen=e,this.tree=a,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let a=currentContext;currentContext=this;try{return e()}finally{currentContext=a}}withoutTempSkipped(e){for(let a;a=this.tempSkipped.pop();)e=cutFragments(e,a.from,a.to);return e}changes(e,a){let{fragments:o,tree:c,treeLen:d,viewport:b,skipped:k}=this;if(this.takeTree(),!e.empty){let $=[];if(e.iterChangedRanges((_,j,_e,tt)=>$.push({fromA:_,toA:j,fromB:_e,toB:tt})),o=TreeFragment.applyChanges(o,$),c=Tree.empty,d=0,b={from:e.mapPos(b.from,-1),to:e.mapPos(b.to,1)},this.skipped.length){k=[];for(let _ of this.skipped){let j=e.mapPos(_.from,1),_e=e.mapPos(_.to,-1);j<_e&&k.push({from:j,to:_e})}}}return new ParseContext(this.parser,a,o,c,d,b,k,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let a=this.skipped.length;for(let o=0;o<this.skipped.length;o++){let{from:c,to:d}=this.skipped[o];c<e.to&&d>e.from&&(this.fragments=cutFragments(this.fragments,c,d),this.skipped.splice(o--,1))}return this.skipped.length>=a?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,a){this.skipped.push({from:e,to:a})}static getSkippingParser(e){return new class extends Parser$1{createParse(a,o,c){let d=c[0].from,b=c[c.length-1].to;return{parsedPos:d,advance(){let $=currentContext;if($){for(let _ of c)$.tempSkipped.push(_);e&&($.scheduleOn=$.scheduleOn?Promise.all([$.scheduleOn,e]):e)}return this.parsedPos=b,new Tree(NodeType.none,[],[],b-d)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let a=this.fragments;return this.treeLen>=e&&a.length&&a[0].from==0&&a[0].to>=e}static get(){return currentContext}}function cutFragments(s,e,a){return TreeFragment.applyChanges(s,[{fromA:e,toA:a,fromB:e,toB:a}])}class LanguageState{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let a=this.context.changes(e.changes,e.state),o=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),a.viewport.to);return a.work(20,o)||a.takeTree(),new LanguageState(a)}static init(e){let a=Math.min(3e3,e.doc.length),o=ParseContext.create(e.facet(language).parser,e,{from:0,to:a});return o.work(20,a)||o.takeTree(),new LanguageState(o)}}Language.state=StateField.define({create:LanguageState.init,update(s,e){for(let a of e.effects)if(a.is(Language.setState))return a.value;return e.startState.facet(language)!=e.state.facet(language)?LanguageState.init(e.state):s.apply(e)}});let requestIdle=s=>{let e=setTimeout(()=>s(),500);return()=>clearTimeout(e)};typeof requestIdleCallback!="undefined"&&(requestIdle=s=>{let e=-1,a=setTimeout(()=>{e=requestIdleCallback(s,{timeout:500-100})},100);return()=>e<0?clearTimeout(a):cancelIdleCallback(e)});const isInputPending=typeof navigator!="undefined"&&((_a=navigator.scheduling)===null||_a===void 0?void 0:_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let a=this.view.state.field(Language.state).context;(a.updateViewport(e.view.viewport)||this.view.viewport.to>a.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(a)}scheduleWork(){if(this.working)return;let{state:e}=this.view,a=e.field(Language.state);(a.tree!=a.context.tree||!a.context.isDone(e.doc.length))&&(this.working=requestIdle(this.work))}work(e){this.working=null;let a=Date.now();if(this.chunkEnd<a&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=a+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:o,viewport:{to:c}}=this.view,d=o.field(Language.state);if(d.tree==d.context.tree&&d.context.isDone(c+1e5))return;let b=Date.now()+Math.min(this.chunkBudget,100,e&&!isInputPending?Math.max(25,e.timeRemaining()-5):1e9),k=d.context.treeLen<c&&o.doc.length>c+1e3,$=d.context.work(()=>isInputPending&&isInputPending()||Date.now()>b,c+(k?0:1e5));this.chunkBudget-=Date.now()-a,($||this.chunkBudget<=0)&&(d.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(d.context))})),this.chunkBudget>0&&!($&&!k)&&this.scheduleWork(),this.checkAsyncSchedule(d.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(a=>logException(this.view.state,a)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(s){return s.length?s[0]:null},enables:[Language.state,parseWorker]});class LanguageSupport{constructor(e,a=[]){this.language=e,this.support=a,this.extension=[e,a]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:s=>{if(!s.length)return"  ";if(!/^(?: +|\t+)$/.test(s[0]))throw new Error("Invalid indent unit: "+JSON.stringify(s[0]));return s[0]}});function getIndentUnit(s){let e=s.facet(indentUnit);return e.charCodeAt(0)==9?s.tabSize*e.length:e.length}function indentString(s,e){let a="",o=s.tabSize;if(s.facet(indentUnit).charCodeAt(0)==9)for(;e>=o;)a+="	",e-=o;for(let c=0;c<e;c++)a+=" ";return a}function getIndentation(s,e){s instanceof EditorState&&(s=new IndentContext(s));for(let o of s.state.facet(indentService)){let c=o(s,e);if(c!=null)return c}let a=syntaxTree(s.state);return a?syntaxIndentation(s,a,e):null}class IndentContext{constructor(e,a={}){this.state=e,this.options=a,this.unit=getIndentUnit(e)}lineAt(e,a=1){let o=this.state.doc.lineAt(e),{simulateBreak:c,simulateDoubleBreak:d}=this.options;return c!=null&&c>=o.from&&c<=o.to?d&&c==e?{text:"",from:e}:(a<0?c<e:c<=e)?{text:o.text.slice(c-o.from),from:c}:{text:o.text.slice(0,c-o.from),from:o.from}:o}textAfterPos(e,a=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:o,from:c}=this.lineAt(e,a);return o.slice(e-c,Math.min(o.length,e+100-c))}column(e,a=1){let{text:o,from:c}=this.lineAt(e,a),d=this.countColumn(o,e-c),b=this.options.overrideIndentation?this.options.overrideIndentation(c):-1;return b>-1&&(d+=b-this.countColumn(o,o.search(/\S|$/))),d}countColumn(e,a=e.length){return countColumn(e,this.state.tabSize,a)}lineIndent(e,a=1){let{text:o,from:c}=this.lineAt(e,a),d=this.options.overrideIndentation;if(d){let b=d(c);if(b>-1)return b}return this.countColumn(o,o.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(s,e,a){return indentFrom(e.resolveInner(a).enterUnfinishedNodesBefore(a),a,s)}function ignoreClosed(s){return s.pos==s.options.simulateBreak&&s.options.simulateDoubleBreak}function indentStrategy(s){let e=s.type.prop(indentNodeProp);if(e)return e;let a=s.firstChild,o;if(a&&(o=a.type.prop(NodeProp.closedBy))){let c=s.lastChild,d=c&&o.indexOf(c.name)>-1;return b=>delimitedStrategy(b,!0,1,void 0,d&&!ignoreClosed(b)?c.from:void 0)}return s.parent==null?topIndent:null}function indentFrom(s,e,a){for(;s;s=s.parent){let o=indentStrategy(s);if(o)return o(TreeIndentContext.create(a,e,s))}return null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(e,a,o){super(e.state,e.options),this.base=e,this.pos=a,this.node=o}static create(e,a,o){return new TreeIndentContext(e,a,o)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let a=this.node.resolve(e.from);for(;a.parent&&a.parent.from==a.from;)a=a.parent;if(isParent(a,this.node))break;e=this.state.doc.lineAt(a.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?indentFrom(e,this.pos,this.base):0}}function isParent(s,e){for(let a=e;a;a=a.parent)if(s==a)return!0;return!1}function bracketedAligned(s){let e=s.node,a=e.childAfter(e.from),o=e.lastChild;if(!a)return null;let c=s.options.simulateBreak,d=s.state.doc.lineAt(a.from),b=c==null||c<=d.from?d.to:Math.min(d.to,c);for(let k=a.to;;){let $=e.childAfter(k);if(!$||$==o)return null;if(!$.type.isSkipped)return $.from<b?a:null;k=$.to}}function delimitedIndent({closing:s,align:e=!0,units:a=1}){return o=>delimitedStrategy(o,e,a,s)}function delimitedStrategy(s,e,a,o,c){let d=s.textAfter,b=d.match(/^\s*/)[0].length,k=o&&d.slice(b,b+o.length)==o||c==s.pos+b,$=e?bracketedAligned(s):null;return $?k?s.column($.from):s.column($.to):s.baseIndent+(k?0:s.unit*a)}const flatIndent=s=>s.baseIndent;function continuedIndent({except:s,units:e=1}={}){return a=>{let o=s&&s.test(a.textAfter);return a.baseIndent+(o?0:e*a.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(s=>{if(!s.docChanged||!s.isUserEvent("input.type")&&!s.isUserEvent("input.complete"))return s;let e=s.startState.languageDataAt("indentOnInput",s.startState.selection.main.head);if(!e.length)return s;let a=s.newDoc,{head:o}=s.newSelection.main,c=a.lineAt(o);if(o>c.from+DontIndentBeyond)return s;let d=a.sliceString(c.from,o);if(!e.some(_=>_.test(d)))return s;let{state:b}=s,k=-1,$=[];for(let{head:_}of b.selection.ranges){let j=b.doc.lineAt(_);if(j.from==k)continue;k=j.from;let _e=getIndentation(b,j.from);if(_e==null)continue;let tt=/^\s*/.exec(j.text)[0],it=indentString(b,_e);tt!=it&&$.push({from:j.from,to:j.from+tt.length,insert:it})}return $.length?[s,{changes:$,sequential:!0}]:s})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(s){let e=s.firstChild,a=s.lastChild;return e&&e.to<a.from?{from:e.to,to:a.type.isError?s.to:a.from}:null}function syntaxFolding(s,e,a){let o=syntaxTree(s);if(o.length<a)return null;let c=o.resolveInner(a),d=null;for(let b=c;b;b=b.parent){if(b.to<=a||b.from>a)continue;if(d&&b.from<e)break;let k=b.type.prop(foldNodeProp);if(k&&(b.to<o.length-50||o.length==s.doc.length||!isUnfinished(b))){let $=k(b,s);$&&$.from<=a&&$.from>=e&&$.to>a&&(d=$)}}return d}function isUnfinished(s){let e=s.lastChild;return e&&e.to==s.to&&e.type.isError}function foldable(s,e,a){for(let o of s.facet(foldService)){let c=o(s,e,a);if(c)return c}return syntaxFolding(s,e,a)}function mapRange(s,e){let a=e.mapPos(s.from,1),o=e.mapPos(s.to,-1);return a>=o?void 0:{from:a,to:o}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(s){let e=[];for(let{head:a}of s.state.selection.ranges)e.some(o=>o.from<=a&&o.to>=a)||e.push(s.lineBlockAt(a));return e}const foldState=StateField.define({create(){return Decoration.none},update(s,e){s=s.map(e.changes);for(let a of e.effects)a.is(foldEffect)&&!foldExists(s,a.value.from,a.value.to)?s=s.update({add:[foldWidget.range(a.value.from,a.value.to)]}):a.is(unfoldEffect)&&(s=s.update({filter:(o,c)=>a.value.from!=o||a.value.to!=c,filterFrom:a.value.from,filterTo:a.value.to}));if(e.selection){let a=!1,{head:o}=e.selection.main;s.between(o,o,(c,d)=>{c<o&&d>o&&(a=!0)}),a&&(s=s.update({filterFrom:o,filterTo:o,filter:(c,d)=>d<=o||c>=o}))}return s},provide:s=>EditorView.decorations.from(s),toJSON(s,e){let a=[];return s.between(0,e.doc.length,(o,c)=>{a.push(o,c)}),a},fromJSON(s){if(!Array.isArray(s)||s.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let a=0;a<s.length;){let o=s[a++],c=s[a++];if(typeof o!="number"||typeof c!="number")throw new RangeError("Invalid JSON for fold state");e.push(foldWidget.range(o,c))}return Decoration.set(e,!0)}});function findFold(s,e,a){var o;let c=null;return(o=s.field(foldState,!1))===null||o===void 0||o.between(e,a,(d,b)=>{(!c||c.from>d)&&(c={from:d,to:b})}),c}function foldExists(s,e,a){let o=!1;return s.between(e,e,(c,d)=>{c==e&&d==a&&(o=!0)}),o}function maybeEnable(s,e){return s.field(foldState,!1)?e:e.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=s=>{for(let e of selectedLines(s)){let a=foldable(s.state,e.from,e.to);if(a)return s.dispatch({effects:maybeEnable(s.state,[foldEffect.of(a),announceFold(s,a)])}),!0}return!1},unfoldCode=s=>{if(!s.state.field(foldState,!1))return!1;let e=[];for(let a of selectedLines(s)){let o=findFold(s.state,a.from,a.to);o&&e.push(unfoldEffect.of(o),announceFold(s,o,!1))}return e.length&&s.dispatch({effects:e}),e.length>0};function announceFold(s,e,a=!0){let o=s.state.doc.lineAt(e.from).number,c=s.state.doc.lineAt(e.to).number;return EditorView.announce.of(`${s.state.phrase(a?"Folded lines":"Unfolded lines")} ${o} ${s.state.phrase("to")} ${c}.`)}const foldAll=s=>{let{state:e}=s,a=[];for(let o=0;o<e.doc.length;){let c=s.lineBlockAt(o),d=foldable(e,c.from,c.to);d&&a.push(foldEffect.of(d)),o=(d?s.lineBlockAt(d.to):c).to+1}return a.length&&s.dispatch({effects:maybeEnable(s.state,a)}),!!a.length},unfoldAll=s=>{let e=s.state.field(foldState,!1);if(!e||!e.size)return!1;let a=[];return e.between(0,s.state.doc.length,(o,c)=>{a.push(unfoldEffect.of({from:o,to:c}))}),s.dispatch({effects:a}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,placeholderText:"\u2026"},foldConfig=Facet.define({combine(s){return combineConfig(s,defaultConfig)}});function codeFolding(s){let e=[foldState,baseTheme$1$2];return s&&e.push(foldConfig.of(s)),e}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(s){let{state:e}=s,a=e.facet(foldConfig),o=d=>{let b=s.lineBlockAt(s.posAtDOM(d.target)),k=findFold(s.state,b.from,b.to);k&&s.dispatch({effects:unfoldEffect.of(k)}),d.preventDefault()};if(a.placeholderDOM)return a.placeholderDOM(s,o);let c=document.createElement("span");return c.textContent=a.placeholderText,c.setAttribute("aria-label",e.phrase("folded code")),c.title=e.phrase("unfold"),c.className="cm-foldPlaceholder",c.onclick=o,c}}}),foldGutterDefaults={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(e,a){super(),this.config=e,this.open=a}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let a=document.createElement("span");return a.textContent=this.open?this.config.openText:this.config.closedText,a.title=e.state.phrase(this.open?"Fold line":"Unfold line"),a}}function foldGutter(s={}){let e=Object.assign(Object.assign({},foldGutterDefaults),s),a=new FoldMarker(e,!0),o=new FoldMarker(e,!1),c=ViewPlugin.fromClass(class{constructor(b){this.from=b.viewport.from,this.markers=this.buildMarkers(b)}update(b){(b.docChanged||b.viewportChanged||b.startState.facet(language)!=b.state.facet(language)||b.startState.field(foldState,!1)!=b.state.field(foldState,!1)||syntaxTree(b.startState)!=syntaxTree(b.state)||e.foldingChanged(b))&&(this.markers=this.buildMarkers(b.view))}buildMarkers(b){let k=new RangeSetBuilder;for(let $ of b.viewportLineBlocks){let _=findFold(b.state,$.from,$.to)?o:foldable(b.state,$.from,$.to)?a:null;_&&k.add($.from,$.from,_)}return k.finish()}}),{domEventHandlers:d}=e;return[c,gutter({class:"cm-foldGutter",markers(b){var k;return((k=b.plugin(c))===null||k===void 0?void 0:k.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(e,!1)},domEventHandlers:Object.assign(Object.assign({},d),{click:(b,k,$)=>{if(d.click&&d.click(b,k,$))return!0;let _=findFold(b.state,k.from,k.to);if(_)return b.dispatch({effects:unfoldEffect.of(_)}),!0;let j=foldable(b.state,k.from,k.to);return j?(b.dispatch({effects:foldEffect.of(j)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(e,a){let o;function c(k){let $=StyleModule.newName();return(o||(o=Object.create(null)))["."+$]=k,$}const d=typeof a.all=="string"?a.all:a.all?c(a.all):void 0,b=a.scope;this.scope=b instanceof Language?k=>k.prop(languageDataProp)==b.data:b?k=>k==b:void 0,this.style=tagHighlighter(e.map(k=>({tag:k.tag,class:k.class||c(Object.assign({},k,{tag:null}))})),{all:d}).style,this.module=o?new StyleModule(o):null,this.themeType=a.themeType}static define(e,a){return new HighlightStyle(e,a||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(s){return s.length?[s[0]]:null}});function getHighlighters(s){let e=s.facet(highlighterFacet);return e.length?e:s.facet(fallbackHighlighter)}function syntaxHighlighting(s,e){let a=[treeHighlighter],o;return s instanceof HighlightStyle&&(s.module&&a.push(EditorView.styleModule.of(s.module)),o=s.themeType),e!=null&&e.fallback?a.push(fallbackHighlighter.of(s)):o?a.push(highlighterFacet.computeN([EditorView.darkTheme],c=>c.facet(EditorView.darkTheme)==(o=="dark")?[s]:[])):a.push(highlighterFacet.of(s)),a}class TreeHighlighter{constructor(e){this.markCache=Object.create(null),this.tree=syntaxTree(e.state),this.decorations=this.buildDeco(e,getHighlighters(e.state))}update(e){let a=syntaxTree(e.state),o=getHighlighters(e.state),c=o!=getHighlighters(e.startState);a.length<e.view.viewport.to&&!c&&a.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(a!=this.tree||e.viewportChanged||c)&&(this.tree=a,this.decorations=this.buildDeco(e.view,o))}buildDeco(e,a){if(!a||!this.tree.length)return Decoration.none;let o=new RangeSetBuilder;for(let{from:c,to:d}of e.visibleRanges)highlightTree(this.tree,a,(b,k,$)=>{o.add(b,k,this.markCache[$]||(this.markCache[$]=Decoration.mark({class:$})))},c,d);return o.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:s=>s.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#7a757a"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(s){return combineConfig(s,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(s){let e=[],a=s.matched?matchingMark:nonmatchingMark;return e.push(a.range(s.start.from,s.start.to)),s.end&&e.push(a.range(s.end.from,s.end.to)),e}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(s,e){if(!e.docChanged&&!e.selection)return s;let a=[],o=e.state.facet(bracketMatchingConfig);for(let c of e.state.selection.ranges){if(!c.empty)continue;let d=matchBrackets(e.state,c.head,-1,o)||c.head>0&&matchBrackets(e.state,c.head-1,1,o)||o.afterCursor&&(matchBrackets(e.state,c.head,1,o)||c.head<e.state.doc.length&&matchBrackets(e.state,c.head+1,-1,o));d&&(a=a.concat(o.renderMatch(d,e.state)))}return Decoration.set(a,!0)},provide:s=>EditorView.decorations.from(s)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(s={}){return[bracketMatchingConfig.of(s),bracketMatchingUnique]}function matchingNodes(s,e,a){let o=s.prop(e<0?NodeProp.openedBy:NodeProp.closedBy);if(o)return o;if(s.name.length==1){let c=a.indexOf(s.name);if(c>-1&&c%2==(e<0?1:0))return[a[c+e]]}return null}function matchBrackets(s,e,a,o={}){let c=o.maxScanDistance||DefaultScanDist,d=o.brackets||DefaultBrackets,b=syntaxTree(s),k=b.resolveInner(e,a);for(let $=k;$;$=$.parent){let _=matchingNodes($.type,a,d);if(_&&$.from<$.to)return matchMarkedBrackets(s,e,a,$,_,d)}return matchPlainBrackets(s,e,a,b,k.type,c,d)}function matchMarkedBrackets(s,e,a,o,c,d){let b=o.parent,k={from:o.from,to:o.to},$=0,_=b==null?void 0:b.cursor();if(_&&(a<0?_.childBefore(o.from):_.childAfter(o.to)))do if(a<0?_.to<=o.from:_.from>=o.to){if($==0&&c.indexOf(_.type.name)>-1&&_.from<_.to)return{start:k,end:{from:_.from,to:_.to},matched:!0};if(matchingNodes(_.type,a,d))$++;else if(matchingNodes(_.type,-a,d)){if($==0)return{start:k,end:_.from==_.to?void 0:{from:_.from,to:_.to},matched:!1};$--}}while(a<0?_.prevSibling():_.nextSibling());return{start:k,matched:!1}}function matchPlainBrackets(s,e,a,o,c,d,b){let k=a<0?s.sliceDoc(e-1,e):s.sliceDoc(e,e+1),$=b.indexOf(k);if($<0||$%2==0!=a>0)return null;let _={from:a<0?e-1:e,to:a>0?e+1:e},j=s.doc.iterRange(e,a>0?s.doc.length:0),_e=0;for(let tt=0;!j.next().done&&tt<=d;){let it=j.value;a<0&&(tt+=it.length);let nt=e+tt*a;for(let at=a>0?0:it.length-1,rt=a>0?it.length:-1;at!=rt;at+=a){let st=b.indexOf(it[at]);if(!(st<0||o.resolveInner(nt+at,1).type!=c))if(st%2==0==a>0)_e++;else{if(_e==1)return{start:_,end:{from:nt+at,to:nt+at+1},matched:st>>1==$>>1};_e--}}a>0&&(tt+=it.length)}return j.done?{start:_,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],defaultTable=Object.create(null);for(let[s,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[s]=createTokenType(noTokens,e);function warnForPart(s,e){warned.indexOf(s)>-1||(warned.push(s),console.warn(e))}function createTokenType(s,e){let a=null;for(let d of e.split(".")){let b=s[d]||tags[d];b?typeof b=="function"?a?a=b(a):warnForPart(d,`Modifier ${d} used at start of tag`):a?warnForPart(d,`Tag ${d} used as modifier`):a=b:warnForPart(d,`Unknown highlighting tag ${d}`)}if(!a)return 0;let o=e.replace(/ /g,"_"),c=NodeType.define({id:typeArray.length,name:o,props:[styleTags({[o]:a})]});return typeArray.push(c),c.id}const toggleComment=s=>{let e=getConfig(s.state);return e.line?toggleLineComment(s):e.block?toggleBlockCommentByLine(s):!1};function command(s,e){return({state:a,dispatch:o})=>{if(a.readOnly)return!1;let c=s(e,a);return c?(o(a.update(c)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((s,e)=>changeBlockComment(s,e,selectedLineRanges(e)),0);function getConfig(s,e=s.selection.main.head){let a=s.languageDataAt("commentTokens",e);return a.length?a[0]:{}}const SearchMargin=50;function findBlockComment(s,{open:e,close:a},o,c){let d=s.sliceDoc(o-SearchMargin,o),b=s.sliceDoc(c,c+SearchMargin),k=/\s*$/.exec(d)[0].length,$=/^\s*/.exec(b)[0].length,_=d.length-k;if(d.slice(_-e.length,_)==e&&b.slice($,$+a.length)==a)return{open:{pos:o-k,margin:k&&1},close:{pos:c+$,margin:$&&1}};let j,_e;c-o<=2*SearchMargin?j=_e=s.sliceDoc(o,c):(j=s.sliceDoc(o,o+SearchMargin),_e=s.sliceDoc(c-SearchMargin,c));let tt=/^\s*/.exec(j)[0].length,it=/\s*$/.exec(_e)[0].length,nt=_e.length-it-a.length;return j.slice(tt,tt+e.length)==e&&_e.slice(nt,nt+a.length)==a?{open:{pos:o+tt+e.length,margin:/\s/.test(j.charAt(tt+e.length))?1:0},close:{pos:c-it-a.length,margin:/\s/.test(_e.charAt(nt-1))?1:0}}:null}function selectedLineRanges(s){let e=[];for(let a of s.selection.ranges){let o=s.doc.lineAt(a.from),c=a.to<=o.to?o:s.doc.lineAt(a.to),d=e.length-1;d>=0&&e[d].to>o.from?e[d].to=c.to:e.push({from:o.from,to:c.to})}return e}function changeBlockComment(s,e,a=e.selection.ranges){let o=a.map(d=>getConfig(e,d.from).block);if(!o.every(d=>d))return null;let c=a.map((d,b)=>findBlockComment(e,o[b],d.from,d.to));if(s!=2&&!c.every(d=>d))return{changes:e.changes(a.map((d,b)=>c[b]?[]:[{from:d.from,insert:o[b].open+" "},{from:d.to,insert:" "+o[b].close}]))};if(s!=1&&c.some(d=>d)){let d=[];for(let b=0,k;b<c.length;b++)if(k=c[b]){let $=o[b],{open:_,close:j}=k;d.push({from:_.pos-$.open.length,to:_.pos+_.margin},{from:j.pos-j.margin,to:j.pos+$.close.length})}return{changes:d}}return null}function changeLineComment(s,e,a=e.selection.ranges){let o=[],c=-1;for(let{from:d,to:b}of a){let k=o.length,$=1e9;for(let _=d;_<=b;){let j=e.doc.lineAt(_);if(j.from>c&&(d==b||b>j.from)){c=j.from;let _e=getConfig(e,_).line;if(!_e)continue;let tt=/^\s*/.exec(j.text)[0].length,it=tt==j.length,nt=j.text.slice(tt,tt+_e.length)==_e?tt:-1;tt<j.text.length&&tt<$&&($=tt),o.push({line:j,comment:nt,token:_e,indent:tt,empty:it,single:!1})}_=j.to+1}if($<1e9)for(let _=k;_<o.length;_++)o[_].indent<o[_].line.text.length&&(o[_].indent=$);o.length==k+1&&(o[k].single=!0)}if(s!=2&&o.some(d=>d.comment<0&&(!d.empty||d.single))){let d=[];for(let{line:k,token:$,indent:_,empty:j,single:_e}of o)(_e||!j)&&d.push({from:k.from+_,insert:$+" "});let b=e.changes(d);return{changes:b,selection:e.selection.map(b,1)}}else if(s!=1&&o.some(d=>d.comment>=0)){let d=[];for(let{line:b,comment:k,token:$}of o)if(k>=0){let _=b.from+k,j=_+$.length;b.text[j-b.from]==" "&&j++,d.push({from:_,to:j})}return{changes:d}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(s){return combineConfig(s,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function changeEnd(s){let e=0;return s.iterChangedRanges((a,o)=>e=o),e}const historyField_=StateField.define({create(){return HistoryState.empty},update(s,e){let a=e.state.facet(historyConfig),o=e.annotation(fromHistory);if(o){let $=e.docChanged?EditorSelection.single(changeEnd(e.changes)):void 0,_=HistEvent.fromTransaction(e,$),j=o.side,_e=j==0?s.undone:s.done;return _?_e=updateBranch(_e,_e.length,a.minDepth,_):_e=addSelection(_e,e.startState.selection),new HistoryState(j==0?o.rest:_e,j==0?_e:o.rest)}let c=e.annotation(isolateHistory);if((c=="full"||c=="before")&&(s=s.isolate()),e.annotation(Transaction.addToHistory)===!1)return e.changes.empty?s:s.addMapping(e.changes.desc);let d=HistEvent.fromTransaction(e),b=e.annotation(Transaction.time),k=e.annotation(Transaction.userEvent);return d?s=s.addChanges(d,b,k,a.newGroupDelay,a.minDepth):e.selection&&(s=s.addSelection(e.startState.selection,b,k,a.newGroupDelay)),(c=="full"||c=="after")&&(s=s.isolate()),s},toJSON(s){return{done:s.done.map(e=>e.toJSON()),undone:s.undone.map(e=>e.toJSON())}},fromJSON(s){return new HistoryState(s.done.map(HistEvent.fromJSON),s.undone.map(HistEvent.fromJSON))}});function history(s={}){return[historyField_,historyConfig.of(s),EditorView.domEventHandlers({beforeinput(e,a){let o=e.inputType=="historyUndo"?undo:e.inputType=="historyRedo"?redo:null;return o?(e.preventDefault(),o(a)):!1}})]}function cmd(s,e){return function({state:a,dispatch:o}){if(!e&&a.readOnly)return!1;let c=a.field(historyField_,!1);if(!c)return!1;let d=c.pop(s,a,e);return d?(o(d),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(e,a,o,c,d){this.changes=e,this.effects=a,this.mapped=o,this.startSelection=c,this.selectionsAfter=d}setSelAfter(e){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,a,o;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(a=this.mapped)===null||a===void 0?void 0:a.toJSON(),startSelection:(o=this.startSelection)===null||o===void 0?void 0:o.toJSON(),selectionsAfter:this.selectionsAfter.map(c=>c.toJSON())}}static fromJSON(e){return new HistEvent(e.changes&&ChangeSet.fromJSON(e.changes),[],e.mapped&&ChangeDesc.fromJSON(e.mapped),e.startSelection&&EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(e,a){let o=none$1;for(let c of e.startState.facet(invertedEffects)){let d=c(e);d.length&&(o=o.concat(d))}return!o.length&&e.changes.empty?null:new HistEvent(e.changes.invert(e.startState.doc),o,void 0,a||e.startState.selection,none$1)}static selection(e){return new HistEvent(void 0,none$1,void 0,void 0,e)}}function updateBranch(s,e,a,o){let c=e+1>a+20?e-a-1:0,d=s.slice(c,e);return d.push(o),d}function isAdjacent(s,e){let a=[],o=!1;return s.iterChangedRanges((c,d)=>a.push(c,d)),e.iterChangedRanges((c,d,b,k)=>{for(let $=0;$<a.length;){let _=a[$++],j=a[$++];k>=_&&b<=j&&(o=!0)}}),o}function eqSelectionShape(s,e){return s.ranges.length==e.ranges.length&&s.ranges.filter((a,o)=>a.empty!=e.ranges[o].empty).length===0}function conc(s,e){return s.length?e.length?s.concat(e):s:e}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(s,e){if(s.length){let a=s[s.length-1],o=a.selectionsAfter.slice(Math.max(0,a.selectionsAfter.length-MaxSelectionsPerEvent));return o.length&&o[o.length-1].eq(e)?s:(o.push(e),updateBranch(s,s.length-1,1e9,a.setSelAfter(o)))}else return[HistEvent.selection([e])]}function popSelection(s){let e=s[s.length-1],a=s.slice();return a[s.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),a}function addMappingToBranch(s,e){if(!s.length)return s;let a=s.length,o=none$1;for(;a;){let c=mapEvent(s[a-1],e,o);if(c.changes&&!c.changes.empty||c.effects.length){let d=s.slice(0,a);return d[a-1]=c,d}else e=c.mapped,a--,o=c.selectionsAfter}return o.length?[HistEvent.selection(o)]:none$1}function mapEvent(s,e,a){let o=conc(s.selectionsAfter.length?s.selectionsAfter.map(k=>k.map(e)):none$1,a);if(!s.changes)return HistEvent.selection(o);let c=s.changes.map(e),d=e.mapDesc(s.changes,!0),b=s.mapped?s.mapped.composeDesc(d):d;return new HistEvent(c,StateEffect.mapEffects(s.effects,e),b,s.startSelection.map(d),o)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(e,a,o=0,c=void 0){this.done=e,this.undone=a,this.prevTime=o,this.prevUserEvent=c}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(e,a,o,c,d){let b=this.done,k=b[b.length-1];return k&&k.changes&&!k.changes.empty&&e.changes&&(!o||joinableUserEvent.test(o))&&(!k.selectionsAfter.length&&a-this.prevTime<c&&isAdjacent(k.changes,e.changes)||o=="input.type.compose")?b=updateBranch(b,b.length-1,d,new HistEvent(e.changes.compose(k.changes),conc(e.effects,k.effects),k.mapped,k.startSelection,none$1)):b=updateBranch(b,b.length,d,e),new HistoryState(b,none$1,a,o)}addSelection(e,a,o,c){let d=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return d.length>0&&a-this.prevTime<c&&o==this.prevUserEvent&&o&&/^select($|\.)/.test(o)&&eqSelectionShape(d[d.length-1],e)?this:new HistoryState(addSelection(this.done,e),this.undone,a,o)}addMapping(e){return new HistoryState(addMappingToBranch(this.done,e),addMappingToBranch(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,a,o){let c=e==0?this.done:this.undone;if(c.length==0)return null;let d=c[c.length-1];if(o&&d.selectionsAfter.length)return a.update({selection:d.selectionsAfter[d.selectionsAfter.length-1],annotations:fromHistory.of({side:e,rest:popSelection(c)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(d.changes){let b=c.length==1?none$1:c.slice(0,c.length-1);return d.mapped&&(b=addMappingToBranch(b,d.mapped)),a.update({changes:d.changes,selection:d.startSelection,effects:d.effects,annotations:fromHistory.of({side:e,rest:b}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(s,e){return EditorSelection.create(s.ranges.map(e),s.mainIndex)}function setSel(s,e){return s.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:s,dispatch:e},a){let o=updateSel(s.selection,a);return o.eq(s.selection)?!1:(e(setSel(s,o)),!0)}function rangeEnd(s,e){return EditorSelection.cursor(e?s.to:s.from)}function cursorByChar(s,e){return moveSel(s,a=>a.empty?s.moveByChar(a,e):rangeEnd(a,e))}function ltrAtCursor(s){return s.textDirectionAt(s.state.selection.main.head)==Direction.LTR}const cursorCharLeft=s=>cursorByChar(s,!ltrAtCursor(s)),cursorCharRight=s=>cursorByChar(s,ltrAtCursor(s));function cursorByGroup(s,e){return moveSel(s,a=>a.empty?s.moveByGroup(a,e):rangeEnd(a,e))}const cursorGroupLeft=s=>cursorByGroup(s,!ltrAtCursor(s)),cursorGroupRight=s=>cursorByGroup(s,ltrAtCursor(s));function interestingNode(s,e,a){if(e.type.prop(a))return!0;let o=e.to-e.from;return o&&(o>2||/[^\s,.;:]/.test(s.sliceDoc(e.from,e.to)))||e.firstChild}function moveBySyntax(s,e,a){let o=syntaxTree(s).resolveInner(e.head),c=a?NodeProp.closedBy:NodeProp.openedBy;for(let $=e.head;;){let _=a?o.childAfter($):o.childBefore($);if(!_)break;interestingNode(s,_,c)?o=_:$=a?_.to:_.from}let d=o.type.prop(c),b,k;return d&&(b=a?matchBrackets(s,o.from,1):matchBrackets(s,o.to,-1))&&b.matched?k=a?b.end.to:b.end.from:k=a?o.to:o.from,EditorSelection.cursor(k,a?-1:1)}const cursorSyntaxLeft=s=>moveSel(s,e=>moveBySyntax(s.state,e,!ltrAtCursor(s))),cursorSyntaxRight=s=>moveSel(s,e=>moveBySyntax(s.state,e,ltrAtCursor(s)));function cursorByLine(s,e){return moveSel(s,a=>{if(!a.empty)return rangeEnd(a,e);let o=s.moveVertically(a,e);return o.head!=a.head?o:s.moveToLineBoundary(a,e)})}const cursorLineUp=s=>cursorByLine(s,!1),cursorLineDown=s=>cursorByLine(s,!0);function pageHeight(s){return Math.max(s.defaultLineHeight,Math.min(s.dom.clientHeight,innerHeight)-5)}function cursorByPage(s,e){let{state:a}=s,o=updateSel(a.selection,k=>k.empty?s.moveVertically(k,e,pageHeight(s)):rangeEnd(k,e));if(o.eq(a.selection))return!1;let c=s.coordsAtPos(a.selection.main.head),d=s.scrollDOM.getBoundingClientRect(),b;return c&&c.top>d.top&&c.bottom<d.bottom&&c.top-d.top<=s.scrollDOM.scrollHeight-s.scrollDOM.scrollTop-s.scrollDOM.clientHeight&&(b=EditorView.scrollIntoView(o.main.head,{y:"start",yMargin:c.top-d.top})),s.dispatch(setSel(a,o),{effects:b}),!0}const cursorPageUp=s=>cursorByPage(s,!1),cursorPageDown=s=>cursorByPage(s,!0);function moveByLineBoundary(s,e,a){let o=s.lineBlockAt(e.head),c=s.moveToLineBoundary(e,a);if(c.head==e.head&&c.head!=(a?o.to:o.from)&&(c=s.moveToLineBoundary(e,a,!1)),!a&&c.head==o.from&&o.length){let d=/^\s*/.exec(s.state.sliceDoc(o.from,Math.min(o.from+100,o.to)))[0].length;d&&e.head!=o.from+d&&(c=EditorSelection.cursor(o.from+d))}return c}const cursorLineBoundaryForward=s=>moveSel(s,e=>moveByLineBoundary(s,e,!0)),cursorLineBoundaryBackward=s=>moveSel(s,e=>moveByLineBoundary(s,e,!1)),cursorLineBoundaryLeft=s=>moveSel(s,e=>moveByLineBoundary(s,e,!ltrAtCursor(s))),cursorLineBoundaryRight=s=>moveSel(s,e=>moveByLineBoundary(s,e,ltrAtCursor(s))),cursorLineStart=s=>moveSel(s,e=>EditorSelection.cursor(s.lineBlockAt(e.head).from,1)),cursorLineEnd=s=>moveSel(s,e=>EditorSelection.cursor(s.lineBlockAt(e.head).to,-1));function toMatchingBracket(s,e,a){let o=!1,c=updateSel(s.selection,d=>{let b=matchBrackets(s,d.head,-1)||matchBrackets(s,d.head,1)||d.head>0&&matchBrackets(s,d.head-1,1)||d.head<s.doc.length&&matchBrackets(s,d.head+1,-1);if(!b||!b.end)return d;o=!0;let k=b.start.from==d.head?b.end.to:b.end.from;return a?EditorSelection.range(d.anchor,k):EditorSelection.cursor(k)});return o?(e(setSel(s,c)),!0):!1}const cursorMatchingBracket=({state:s,dispatch:e})=>toMatchingBracket(s,e,!1);function extendSel(s,e){let a=updateSel(s.state.selection,o=>{let c=e(o);return EditorSelection.range(o.anchor,c.head,c.goalColumn)});return a.eq(s.state.selection)?!1:(s.dispatch(setSel(s.state,a)),!0)}function selectByChar(s,e){return extendSel(s,a=>s.moveByChar(a,e))}const selectCharLeft=s=>selectByChar(s,!ltrAtCursor(s)),selectCharRight=s=>selectByChar(s,ltrAtCursor(s));function selectByGroup(s,e){return extendSel(s,a=>s.moveByGroup(a,e))}const selectGroupLeft=s=>selectByGroup(s,!ltrAtCursor(s)),selectGroupRight=s=>selectByGroup(s,ltrAtCursor(s)),selectSyntaxLeft=s=>extendSel(s,e=>moveBySyntax(s.state,e,!ltrAtCursor(s))),selectSyntaxRight=s=>extendSel(s,e=>moveBySyntax(s.state,e,ltrAtCursor(s)));function selectByLine(s,e){return extendSel(s,a=>s.moveVertically(a,e))}const selectLineUp=s=>selectByLine(s,!1),selectLineDown=s=>selectByLine(s,!0);function selectByPage(s,e){return extendSel(s,a=>s.moveVertically(a,e,pageHeight(s)))}const selectPageUp=s=>selectByPage(s,!1),selectPageDown=s=>selectByPage(s,!0),selectLineBoundaryForward=s=>extendSel(s,e=>moveByLineBoundary(s,e,!0)),selectLineBoundaryBackward=s=>extendSel(s,e=>moveByLineBoundary(s,e,!1)),selectLineBoundaryLeft=s=>extendSel(s,e=>moveByLineBoundary(s,e,!ltrAtCursor(s))),selectLineBoundaryRight=s=>extendSel(s,e=>moveByLineBoundary(s,e,ltrAtCursor(s))),selectLineStart=s=>extendSel(s,e=>EditorSelection.cursor(s.lineBlockAt(e.head).from)),selectLineEnd=s=>extendSel(s,e=>EditorSelection.cursor(s.lineBlockAt(e.head).to)),cursorDocStart=({state:s,dispatch:e})=>(e(setSel(s,{anchor:0})),!0),cursorDocEnd=({state:s,dispatch:e})=>(e(setSel(s,{anchor:s.doc.length})),!0),selectDocStart=({state:s,dispatch:e})=>(e(setSel(s,{anchor:s.selection.main.anchor,head:0})),!0),selectDocEnd=({state:s,dispatch:e})=>(e(setSel(s,{anchor:s.selection.main.anchor,head:s.doc.length})),!0),selectAll=({state:s,dispatch:e})=>(e(s.update({selection:{anchor:0,head:s.doc.length},userEvent:"select"})),!0),selectLine=({state:s,dispatch:e})=>{let a=selectedLineBlocks(s).map(({from:o,to:c})=>EditorSelection.range(o,Math.min(c+1,s.doc.length)));return e(s.update({selection:EditorSelection.create(a),userEvent:"select"})),!0},selectParentSyntax=({state:s,dispatch:e})=>{let a=updateSel(s.selection,o=>{var c;let d=syntaxTree(s).resolveInner(o.head,1);for(;!(d.from<o.from&&d.to>=o.to||d.to>o.to&&d.from<=o.from||!(!((c=d.parent)===null||c===void 0)&&c.parent));)d=d.parent;return EditorSelection.range(d.to,d.from)});return e(setSel(s,a)),!0},simplifySelection=({state:s,dispatch:e})=>{let a=s.selection,o=null;return a.ranges.length>1?o=EditorSelection.create([a.main]):a.main.empty||(o=EditorSelection.create([EditorSelection.cursor(a.main.head)])),o?(e(setSel(s,o)),!0):!1};function deleteBy(s,e){if(s.state.readOnly)return!1;let a="delete.selection",{state:o}=s,c=o.changeByRange(d=>{let{from:b,to:k}=d;if(b==k){let $=e(b);$<b?(a="delete.backward",$=skipAtomic(s,$,!1)):$>b&&(a="delete.forward",$=skipAtomic(s,$,!0)),b=Math.min(b,$),k=Math.max(k,$)}else b=skipAtomic(s,b,!1),k=skipAtomic(s,k,!0);return b==k?{range:d}:{changes:{from:b,to:k},range:EditorSelection.cursor(b)}});return c.changes.empty?!1:(s.dispatch(o.update(c,{scrollIntoView:!0,userEvent:a,effects:a=="delete.selection"?EditorView.announce.of(o.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(s,e,a){if(s instanceof EditorView)for(let o of s.state.facet(EditorView.atomicRanges).map(c=>c(s)))o.between(e,e,(c,d)=>{c<e&&d>e&&(e=a?d:c)});return e}const deleteByChar=(s,e)=>deleteBy(s,a=>{let{state:o}=s,c=o.doc.lineAt(a),d,b;if(!e&&a>c.from&&a<c.from+200&&!/[^ \t]/.test(d=c.text.slice(0,a-c.from))){if(d[d.length-1]=="	")return a-1;let k=countColumn(d,o.tabSize),$=k%getIndentUnit(o)||getIndentUnit(o);for(let _=0;_<$&&d[d.length-1-_]==" ";_++)a--;b=a}else b=findClusterBreak(c.text,a-c.from,e,e)+c.from,b==a&&c.number!=(e?o.doc.lines:1)&&(b+=e?1:-1);return b}),deleteCharBackward=s=>deleteByChar(s,!1),deleteCharForward=s=>deleteByChar(s,!0),deleteByGroup=(s,e)=>deleteBy(s,a=>{let o=a,{state:c}=s,d=c.doc.lineAt(o),b=c.charCategorizer(o);for(let k=null;;){if(o==(e?d.to:d.from)){o==a&&d.number!=(e?c.doc.lines:1)&&(o+=e?1:-1);break}let $=findClusterBreak(d.text,o-d.from,e)+d.from,_=d.text.slice(Math.min(o,$)-d.from,Math.max(o,$)-d.from),j=b(_);if(k!=null&&j!=k)break;(_!=" "||o!=a)&&(k=j),o=$}return o}),deleteGroupBackward=s=>deleteByGroup(s,!1),deleteGroupForward=s=>deleteByGroup(s,!0),deleteToLineEnd=s=>deleteBy(s,e=>{let a=s.lineBlockAt(e).to;return e<a?a:Math.min(s.state.doc.length,e+1)}),deleteToLineStart=s=>deleteBy(s,e=>{let a=s.lineBlockAt(e).from;return e>a?a:Math.max(0,e-1)}),splitLine=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let a=s.changeByRange(o=>({changes:{from:o.from,to:o.to,insert:Text.of(["",""])},range:EditorSelection.cursor(o.from)}));return e(s.update(a,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let a=s.changeByRange(o=>{if(!o.empty||o.from==0||o.from==s.doc.length)return{range:o};let c=o.from,d=s.doc.lineAt(c),b=c==d.from?c-1:findClusterBreak(d.text,c-d.from,!1)+d.from,k=c==d.to?c+1:findClusterBreak(d.text,c-d.from,!0)+d.from;return{changes:{from:b,to:k,insert:s.doc.slice(c,k).append(s.doc.slice(b,c))},range:EditorSelection.cursor(k)}});return a.changes.empty?!1:(e(s.update(a,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(s){let e=[],a=-1;for(let o of s.selection.ranges){let c=s.doc.lineAt(o.from),d=s.doc.lineAt(o.to);if(!o.empty&&o.to==d.from&&(d=s.doc.lineAt(o.to-1)),a>=c.number){let b=e[e.length-1];b.to=d.to,b.ranges.push(o)}else e.push({from:c.from,to:d.to,ranges:[o]});a=d.number+1}return e}function moveLine(s,e,a){if(s.readOnly)return!1;let o=[],c=[];for(let d of selectedLineBlocks(s)){if(a?d.to==s.doc.length:d.from==0)continue;let b=s.doc.lineAt(a?d.to+1:d.from-1),k=b.length+1;if(a){o.push({from:d.to,to:b.to},{from:d.from,insert:b.text+s.lineBreak});for(let $ of d.ranges)c.push(EditorSelection.range(Math.min(s.doc.length,$.anchor+k),Math.min(s.doc.length,$.head+k)))}else{o.push({from:b.from,to:d.from},{from:d.to,insert:s.lineBreak+b.text});for(let $ of d.ranges)c.push(EditorSelection.range($.anchor-k,$.head-k))}}return o.length?(e(s.update({changes:o,scrollIntoView:!0,selection:EditorSelection.create(c,s.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:s,dispatch:e})=>moveLine(s,e,!1),moveLineDown=({state:s,dispatch:e})=>moveLine(s,e,!0);function copyLine(s,e,a){if(s.readOnly)return!1;let o=[];for(let c of selectedLineBlocks(s))a?o.push({from:c.from,insert:s.doc.slice(c.from,c.to)+s.lineBreak}):o.push({from:c.to,insert:s.lineBreak+s.doc.slice(c.from,c.to)});return e(s.update({changes:o,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:s,dispatch:e})=>copyLine(s,e,!1),copyLineDown=({state:s,dispatch:e})=>copyLine(s,e,!0),deleteLine=s=>{if(s.state.readOnly)return!1;let{state:e}=s,a=e.changes(selectedLineBlocks(e).map(({from:c,to:d})=>(c>0?c--:d<e.doc.length&&d++,{from:c,to:d}))),o=updateSel(e.selection,c=>s.moveVertically(c,!0)).map(a);return s.dispatch({changes:a,selection:o,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(s,e){if(/\(\)|\[\]|\{\}/.test(s.sliceDoc(e-1,e+1)))return{from:e,to:e};let a=syntaxTree(s).resolveInner(e),o=a.childBefore(e),c=a.childAfter(e),d;return o&&c&&o.to<=e&&c.from>=e&&(d=o.type.prop(NodeProp.closedBy))&&d.indexOf(c.name)>-1&&s.doc.lineAt(o.to).from==s.doc.lineAt(c.from).from?{from:o.to,to:c.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(s){return({state:e,dispatch:a})=>{if(e.readOnly)return!1;let o=e.changeByRange(c=>{let{from:d,to:b}=c,k=e.doc.lineAt(d),$=!s&&d==b&&isBetweenBrackets(e,d);s&&(d=b=(b<=k.to?k:e.doc.lineAt(b)).to);let _=new IndentContext(e,{simulateBreak:d,simulateDoubleBreak:!!$}),j=getIndentation(_,d);for(j==null&&(j=/^\s*/.exec(e.doc.lineAt(d).text)[0].length);b<k.to&&/\s/.test(k.text[b-k.from]);)b++;$?{from:d,to:b}=$:d>k.from&&d<k.from+100&&!/\S/.test(k.text.slice(0,d))&&(d=k.from);let _e=["",indentString(e,j)];return $&&_e.push(indentString(e,_.lineIndent(k.from,-1))),{changes:{from:d,to:b,insert:Text.of(_e)},range:EditorSelection.cursor(d+1+_e[1].length)}});return a(e.update(o,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(s,e){let a=-1;return s.changeByRange(o=>{let c=[];for(let b=o.from;b<=o.to;){let k=s.doc.lineAt(b);k.number>a&&(o.empty||o.to>k.from)&&(e(k,c,o),a=k.number),b=k.to+1}let d=s.changes(c);return{changes:c,range:EditorSelection.range(d.mapPos(o.anchor,1),d.mapPos(o.head,1))}})}const indentSelection=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let a=Object.create(null),o=new IndentContext(s,{overrideIndentation:d=>{let b=a[d];return b==null?-1:b}}),c=changeBySelectedLine(s,(d,b,k)=>{let $=getIndentation(o,d.from);if($==null)return;/\S/.test(d.text)||($=0);let _=/^\s*/.exec(d.text)[0],j=indentString(s,$);(_!=j||k.from<d.from+_.length)&&(a[d.from]=$,b.push({from:d.from,to:d.from+_.length,insert:j}))});return c.changes.empty||e(s.update(c,{userEvent:"indent"})),!0},indentMore=({state:s,dispatch:e})=>s.readOnly?!1:(e(s.update(changeBySelectedLine(s,(a,o)=>{o.push({from:a.from,insert:s.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:s,dispatch:e})=>s.readOnly?!1:(e(s.update(changeBySelectedLine(s,(a,o)=>{let c=/^\s*/.exec(a.text)[0];if(!c)return;let d=countColumn(c,s.tabSize),b=0,k=indentString(s,Math.max(0,d-getIndentUnit(s)));for(;b<c.length&&b<k.length&&c.charCodeAt(b)==k.charCodeAt(b);)b++;o.push({from:a.from+b,to:a.from+c.length,insert:k.slice(b)})}),{userEvent:"delete.dedent"})),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteToLineStart},{mac:"Mod-Delete",run:deleteToLineEnd}].concat(emacsStyleKeymap.map(s=>({mac:s.key,run:s.run,shift:s.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var s=arguments[0];typeof s=="string"&&(s=document.createElement(s));var e=1,a=arguments[1];if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){for(var o in a)if(Object.prototype.hasOwnProperty.call(a,o)){var c=a[o];typeof c=="string"?s.setAttribute(o,c):c!=null&&(s[o]=c)}e++}for(;e<arguments.length;e++)add(s,arguments[e]);return s}function add(s,e){if(typeof e=="string")s.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)s.appendChild(e);else if(Array.isArray(e))for(var a=0;a<e.length;a++)add(s,e[a]);else throw new RangeError("Unsupported child node: "+e)}const basicNormalize=typeof String.prototype.normalize=="function"?s=>s.normalize("NFKD"):s=>s;class SearchCursor{constructor(e,a,o=0,c=e.length,d,b){this.test=b,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(o,c),this.bufferStart=o,this.normalize=d?k=>d(basicNormalize(k)):basicNormalize,this.query=this.normalize(a)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let a=fromCodePoint(e),o=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(e);let c=this.normalize(a);for(let d=0,b=o;;d++){let k=c.charCodeAt(d),$=this.match(k,b);if($)return this.value=$,this;if(d==c.length-1)break;b==o&&d<a.length&&a.charCodeAt(d)==k&&b++}}}match(e,a){let o=null;for(let c=0;c<this.matches.length;c+=2){let d=this.matches[c],b=!1;this.query.charCodeAt(d)==e&&(d==this.query.length-1?o={from:this.matches[c+1],to:a+1}:(this.matches[c]++,b=!0)),b||(this.matches.splice(c,2),c-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?o={from:a,to:a+1}:this.matches.push(1,a)),o&&this.test&&!this.test(o.from,o.to,this.buffer,this.bufferPos)&&(o=null),o}}typeof Symbol!="undefined"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty$2={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(e,a,o,c=0,d=e.length){if(this.text=e,this.to=d,this.curLine="",this.done=!1,this.value=empty$2,/\\[sWDnr]|\n|\r|\[\^/.test(a))return new MultilineRegExpCursor(e,a,o,c,d);this.re=new RegExp(a,baseFlags+(o!=null&&o.ignoreCase?"i":"")),this.test=o==null?void 0:o.test,this.iter=e.iter();let b=e.lineAt(c);this.curLineStart=b.from,this.matchPos=toCharEnd(e,c),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let a=this.matchPos<=this.to&&this.re.exec(this.curLine);if(a){let o=this.curLineStart+a.index,c=o+a[0].length;if(this.matchPos=toCharEnd(this.text,c+(o==c?1:0)),o==this.curLineStart+this.curLine.length&&this.nextLine(),(o<c||o>this.value.to)&&(!this.test||this.test(o,c,a)))return this.value={from:o,to:c,match:a},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(e,a){this.from=e,this.text=a}get to(){return this.from+this.text.length}static get(e,a,o){let c=flattened.get(e);if(!c||c.from>=o||c.to<=a){let k=new FlattenedDoc(a,e.sliceString(a,o));return flattened.set(e,k),k}if(c.from==a&&c.to==o)return c;let{text:d,from:b}=c;return b>a&&(d=e.sliceString(a,b)+d,b=a),c.to<o&&(d+=e.sliceString(c.to,o)),flattened.set(e,new FlattenedDoc(b,d)),new FlattenedDoc(a,d.slice(a-b,o-b))}}class MultilineRegExpCursor{constructor(e,a,o,c,d){this.text=e,this.to=d,this.done=!1,this.value=empty$2,this.matchPos=toCharEnd(e,c),this.re=new RegExp(a,baseFlags+(o!=null&&o.ignoreCase?"i":"")),this.test=o==null?void 0:o.test,this.flat=FlattenedDoc.get(e,c,this.chunkEnd(c+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,a=this.re.exec(this.flat.text);if(a&&!a[0]&&a.index==e&&(this.re.lastIndex=e+1,a=this.re.exec(this.flat.text)),a){let o=this.flat.from+a.index,c=o+a[0].length;if((this.flat.to>=this.to||a.index+a[0].length<=this.flat.text.length-10)&&(!this.test||this.test(o,c,a)))return this.value={from:o,to:c,match:a},this.matchPos=toCharEnd(this.text,c+(o==c?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol!="undefined"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(s){try{return new RegExp(s,baseFlags),!0}catch{return!1}}function toCharEnd(s,e){if(e>=s.length)return e;let a=s.lineAt(e),o;for(;e<a.to&&(o=a.text.charCodeAt(e-a.from))>=56320&&o<57344;)e++;return e}function createLineDialog(s){let e=crelt("input",{class:"cm-textfield",name:"line"}),a=crelt("form",{class:"cm-gotoLine",onkeydown:c=>{c.keyCode==27?(c.preventDefault(),s.dispatch({effects:dialogEffect.of(!1)}),s.focus()):c.keyCode==13&&(c.preventDefault(),o())},onsubmit:c=>{c.preventDefault(),o()}},crelt("label",s.state.phrase("Go to line"),": ",e)," ",crelt("button",{class:"cm-button",type:"submit"},s.state.phrase("go")));function o(){let c=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!c)return;let{state:d}=s,b=d.doc.lineAt(d.selection.main.head),[,k,$,_,j]=c,_e=_?+_.slice(1):0,tt=$?+$:b.number;if($&&j){let nt=tt/100;k&&(nt=nt*(k=="-"?-1:1)+b.number/d.doc.lines),tt=Math.round(d.doc.lines*nt)}else $&&k&&(tt=tt*(k=="-"?-1:1)+b.number);let it=d.doc.line(Math.max(1,Math.min(d.doc.lines,tt)));s.dispatch({effects:dialogEffect.of(!1),selection:EditorSelection.cursor(it.from+Math.max(0,Math.min(_e,it.length))),scrollIntoView:!0}),s.focus()}return{dom:a}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(s,e){for(let a of e.effects)a.is(dialogEffect)&&(s=a.value);return s},provide:s=>showPanel.from(s,e=>e?createLineDialog:null)}),gotoLine=s=>{let e=getPanel(s,createLineDialog);if(!e){let a=[dialogEffect.of(!0)];s.state.field(dialogField,!1)==null&&a.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),s.dispatch({effects:a}),e=getPanel(s,createLineDialog)}return e&&e.dom.querySelector("input").focus(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(s){return combineConfig(s,defaultHighlightOptions,{highlightWordAroundCursor:(e,a)=>e||a,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(s){let e=[defaultTheme,matchHighlighter];return s&&e.push(highlightConfig.of(s)),e}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(s,e,a,o){return(a==0||s(e.sliceDoc(a-1,a))!=CharCategory.Word)&&(o==e.doc.length||s(e.sliceDoc(o,o+1))!=CharCategory.Word)}function insideWord(s,e,a,o){return s(e.sliceDoc(a,a+1))==CharCategory.Word&&s(e.sliceDoc(o-1,o))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(s){this.decorations=this.getDeco(s)}update(s){(s.selectionSet||s.docChanged||s.viewportChanged)&&(this.decorations=this.getDeco(s.view))}getDeco(s){let e=s.state.facet(highlightConfig),{state:a}=s,o=a.selection;if(o.ranges.length>1)return Decoration.none;let c=o.main,d,b=null;if(c.empty){if(!e.highlightWordAroundCursor)return Decoration.none;let $=a.wordAt(c.head);if(!$)return Decoration.none;b=a.charCategorizer(c.head),d=a.sliceDoc($.from,$.to)}else{let $=c.to-c.from;if($<e.minSelectionLength||$>200)return Decoration.none;if(e.wholeWords){if(d=a.sliceDoc(c.from,c.to),b=a.charCategorizer(c.head),!(insideWordBoundaries(b,a,c.from,c.to)&&insideWord(b,a,c.from,c.to)))return Decoration.none}else if(d=a.sliceDoc(c.from,c.to).trim(),!d)return Decoration.none}let k=[];for(let $ of s.visibleRanges){let _=new SearchCursor(a.doc,d,$.from,$.to);for(;!_.next().done;){let{from:j,to:_e}=_.value;if((!b||insideWordBoundaries(b,a,j,_e))&&(c.empty&&j<=c.from&&_e>=c.to?k.push(mainMatchDeco.range(j,_e)):(j>=c.to||_e<=c.from)&&k.push(matchDeco.range(j,_e)),k.length>e.maxMatches))return Decoration.none}}return Decoration.set(k)}},{decorations:s=>s.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:s,dispatch:e})=>{let{selection:a}=s,o=EditorSelection.create(a.ranges.map(c=>s.wordAt(c.head)||EditorSelection.cursor(c.head)),a.mainIndex);return o.eq(a)?!1:(e(s.update({selection:o})),!0)};function findNextOccurrence(s,e){let{main:a,ranges:o}=s.selection,c=s.wordAt(a.head),d=c&&c.from==a.from&&c.to==a.to;for(let b=!1,k=new SearchCursor(s.doc,e,o[o.length-1].to);;)if(k.next(),k.done){if(b)return null;k=new SearchCursor(s.doc,e,0,Math.max(0,o[o.length-1].from-1)),b=!0}else{if(b&&o.some($=>$.from==k.value.from))continue;if(d){let $=s.wordAt(k.value.from);if(!$||$.from!=k.value.from||$.to!=k.value.to)continue}return k.value}}const selectNextOccurrence=({state:s,dispatch:e})=>{let{ranges:a}=s.selection;if(a.some(d=>d.from===d.to))return selectWord({state:s,dispatch:e});let o=s.sliceDoc(a[0].from,a[0].to);if(s.selection.ranges.some(d=>s.sliceDoc(d.from,d.to)!=o))return!1;let c=findNextOccurrence(s,o);return c?(e(s.update({selection:s.selection.addRange(EditorSelection.range(c.from,c.to),!1),effects:EditorView.scrollIntoView(c.to)})),!0):!1},searchConfigFacet=Facet.define({combine(s){return combineConfig(s,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new SearchPanel(e)})}});class SearchQuery{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(a,o)=>o=="n"?`
`:o=="r"?"\r":o=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(e,a=0,o){let c=e.doc?e:EditorState.create({doc:e});return o==null&&(o=c.doc.length),this.regexp?regexpCursor(this,c,a,o):stringCursor(this,c,a,o)}}class QueryType{constructor(e){this.spec=e}}function stringCursor(s,e,a,o){return new SearchCursor(e.doc,s.unquoted,a,o,s.caseSensitive?void 0:c=>c.toLowerCase(),s.wholeWord?stringWordTest(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function stringWordTest(s,e){return(a,o,c,d)=>((d>a||d+c.length<o)&&(d=Math.max(0,a-2),c=s.sliceString(d,Math.min(s.length,o+2))),(e(charBefore(c,a-d))!=CharCategory.Word||e(charAfter(c,a-d))!=CharCategory.Word)&&(e(charAfter(c,o-d))!=CharCategory.Word||e(charBefore(c,o-d))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(e){super(e)}nextMatch(e,a,o){let c=stringCursor(this.spec,e,o,e.doc.length).nextOverlapping();return c.done&&(c=stringCursor(this.spec,e,0,a).nextOverlapping()),c.done?null:c.value}prevMatchInRange(e,a,o){for(let c=o;;){let d=Math.max(a,c-1e4-this.spec.unquoted.length),b=stringCursor(this.spec,e,d,c),k=null;for(;!b.nextOverlapping().done;)k=b.value;if(k)return k;if(d==a)return null;c-=1e4}}prevMatch(e,a,o){return this.prevMatchInRange(e,0,a)||this.prevMatchInRange(e,o,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,a){let o=stringCursor(this.spec,e,0,e.doc.length),c=[];for(;!o.next().done;){if(c.length>=a)return null;c.push(o.value)}return c}highlight(e,a,o,c){let d=stringCursor(this.spec,e,Math.max(0,a-this.spec.unquoted.length),Math.min(o+this.spec.unquoted.length,e.doc.length));for(;!d.next().done;)c(d.value.from,d.value.to)}}function regexpCursor(s,e,a,o){return new RegExpCursor(e.doc,s.search,{ignoreCase:!s.caseSensitive,test:s.wholeWord?regexpWordTest(e.charCategorizer(e.selection.main.head)):void 0},a,o)}function charBefore(s,e){return s.slice(findClusterBreak(s,e,!1),e)}function charAfter(s,e){return s.slice(e,findClusterBreak(s,e))}function regexpWordTest(s){return(e,a,o)=>!o[0].length||(s(charBefore(o.input,o.index))!=CharCategory.Word||s(charAfter(o.input,o.index))!=CharCategory.Word)&&(s(charAfter(o.input,o.index+o[0].length))!=CharCategory.Word||s(charBefore(o.input,o.index+o[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(e,a,o){let c=regexpCursor(this.spec,e,o,e.doc.length).next();return c.done&&(c=regexpCursor(this.spec,e,0,a).next()),c.done?null:c.value}prevMatchInRange(e,a,o){for(let c=1;;c++){let d=Math.max(a,o-c*1e4),b=regexpCursor(this.spec,e,d,o),k=null;for(;!b.next().done;)k=b.value;if(k&&(d==a||k.from>d+10))return k;if(d==a)return null}}prevMatch(e,a,o){return this.prevMatchInRange(e,0,a)||this.prevMatchInRange(e,o,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(a,o)=>o=="$"?"$":o=="&"?e.match[0]:o!="0"&&+o<e.match.length?e.match[o]:a))}matchAll(e,a){let o=regexpCursor(this.spec,e,0,e.doc.length),c=[];for(;!o.next().done;){if(c.length>=a)return null;c.push(o.value)}return c}highlight(e,a,o,c){let d=regexpCursor(this.spec,e,Math.max(0,a-250),Math.min(o+250,e.doc.length));for(;!d.next().done;)c(d.value.from,d.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(s){return new SearchState(defaultQuery(s).create(),null)},update(s,e){for(let a of e.effects)a.is(setSearchQuery)?s=new SearchState(a.value.create(),s.panel):a.is(togglePanel$1)&&(s=new SearchState(s.query,a.value?createSearchPanel:null));return s},provide:s=>showPanel.from(s,e=>e.panel)});class SearchState{constructor(e,a){this.query=e,this.panel=a}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.decorations=this.highlight(s.state.field(searchState))}update(s){let e=s.state.field(searchState);(e!=s.startState.field(searchState)||s.docChanged||s.selectionSet||s.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:s,panel:e}){if(!e||!s.spec.valid)return Decoration.none;let{view:a}=this,o=new RangeSetBuilder;for(let c=0,d=a.visibleRanges,b=d.length;c<b;c++){let{from:k,to:$}=d[c];for(;c<b-1&&$>d[c+1].from-2*250;)$=d[++c].to;s.highlight(a.state,k,$,(_,j)=>{let _e=a.state.selection.ranges.some(tt=>tt.from==_&&tt.to==j);o.add(_,j,_e?selectedMatchMark:matchMark)})}return o.finish()}},{decorations:s=>s.decorations});function searchCommand(s){return e=>{let a=e.state.field(searchState,!1);return a&&a.query.spec.valid?s(e,a):openSearchPanel(e)}}const findNext=searchCommand((s,{query:e})=>{let{to:a}=s.state.selection.main,o=e.nextMatch(s.state,a,a);return o?(s.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:announceMatch(s,o),userEvent:"select.search"}),!0):!1}),findPrevious=searchCommand((s,{query:e})=>{let{state:a}=s,{from:o}=a.selection.main,c=e.prevMatch(a,o,o);return c?(s.dispatch({selection:{anchor:c.from,head:c.to},scrollIntoView:!0,effects:announceMatch(s,c),userEvent:"select.search"}),!0):!1}),selectMatches=searchCommand((s,{query:e})=>{let a=e.matchAll(s.state,1e3);return!a||!a.length?!1:(s.dispatch({selection:EditorSelection.create(a.map(o=>EditorSelection.range(o.from,o.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:s,dispatch:e})=>{let a=s.selection;if(a.ranges.length>1||a.main.empty)return!1;let{from:o,to:c}=a.main,d=[],b=0;for(let k=new SearchCursor(s.doc,s.sliceDoc(o,c));!k.next().done;){if(d.length>1e3)return!1;k.value.from==o&&(b=d.length),d.push(EditorSelection.range(k.value.from,k.value.to))}return e(s.update({selection:EditorSelection.create(d,b),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((s,{query:e})=>{let{state:a}=s,{from:o,to:c}=a.selection.main;if(a.readOnly)return!1;let d=e.nextMatch(a,o,o);if(!d)return!1;let b=[],k,$,_=[];if(d.from==o&&d.to==c&&($=a.toText(e.getReplacement(d)),b.push({from:d.from,to:d.to,insert:$}),d=e.nextMatch(a,d.from,d.to),_.push(EditorView.announce.of(a.phrase("replaced match on line $",a.doc.lineAt(o).number)+"."))),d){let j=b.length==0||b[0].from>=d.to?0:d.to-d.from-$.length;k={anchor:d.from-j,head:d.to-j},_.push(announceMatch(s,d))}return s.dispatch({changes:b,selection:k,scrollIntoView:!!k,effects:_,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((s,{query:e})=>{if(s.state.readOnly)return!1;let a=e.matchAll(s.state,1e9).map(c=>{let{from:d,to:b}=c;return{from:d,to:b,insert:e.getReplacement(c)}});if(!a.length)return!1;let o=s.state.phrase("replaced $ matches",a.length)+".";return s.dispatch({changes:a,effects:EditorView.announce.of(o),userEvent:"input.replace.all"}),!0});function createSearchPanel(s){return s.state.facet(searchConfigFacet).createPanel(s)}function defaultQuery(s,e){var a,o,c,d;let b=s.selection.main,k=b.empty||b.to>b.from+100?"":s.sliceDoc(b.from,b.to);if(e&&!k)return e;let $=s.facet(searchConfigFacet);return new SearchQuery({search:((a=e==null?void 0:e.literal)!==null&&a!==void 0?a:$.literal)?k:k.replace(/\n/g,"\\n"),caseSensitive:(o=e==null?void 0:e.caseSensitive)!==null&&o!==void 0?o:$.caseSensitive,literal:(c=e==null?void 0:e.literal)!==null&&c!==void 0?c:$.literal,wholeWord:(d=e==null?void 0:e.wholeWord)!==null&&d!==void 0?d:$.wholeWord})}const openSearchPanel=s=>{let e=s.state.field(searchState,!1);if(e&&e.panel){let a=getPanel(s,createSearchPanel);if(!a)return!1;let o=a.dom.querySelector("[main-field]");if(o&&o!=s.root.activeElement){let c=defaultQuery(s.state,e.query.spec);c.valid&&s.dispatch({effects:setSearchQuery.of(c)}),o.focus(),o.select()}}else s.dispatch({effects:[togglePanel$1.of(!0),e?setSearchQuery.of(defaultQuery(s.state,e.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=s=>{let e=s.state.field(searchState,!1);if(!e||!e.panel)return!1;let a=getPanel(s,createSearchPanel);return a&&a.dom.contains(s.root.activeElement)&&s.focus(),s.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(e){this.view=e;let a=this.query=e.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:a.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:a.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:a.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:a.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:a.wholeWord,onchange:this.commit});function o(c,d,b){return crelt("button",{class:"cm-button",name:c,onclick:d,type:"button"},b)}this.dom=crelt("div",{onkeydown:c=>this.keydown(c),class:"cm-search"},[this.searchField,o("next",()=>findNext(e),[phrase(e,"next")]),o("prev",()=>findPrevious(e),[phrase(e,"previous")]),o("select",()=>selectMatches(e),[phrase(e,"all")]),crelt("label",null,[this.caseField,phrase(e,"match case")]),crelt("label",null,[this.reField,phrase(e,"regexp")]),crelt("label",null,[this.wordField,phrase(e,"by word")]),...e.state.readOnly?[]:[crelt("br"),this.replaceField,o("replace",()=>replaceNext(e),[phrase(e,"replace")]),o("replaceAll",()=>replaceAll(e),[phrase(e,"replace all")]),crelt("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},["\xD7"])]])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:setSearchQuery.of(e)}))}keydown(e){runScopeHandlers(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?findPrevious:findNext)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),replaceNext(this.view))}update(e){for(let a of e.transactions)for(let o of a.effects)o.is(setSearchQuery)&&!o.value.eq(this.query)&&this.setQuery(o.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(s,e){return s.state.phrase(e)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(s,{from:e,to:a}){let o=s.state.doc.lineAt(e),c=s.state.doc.lineAt(a).to,d=Math.max(o.from,e-AnnounceMargin),b=Math.min(c,a+AnnounceMargin),k=s.state.sliceDoc(d,b);if(d!=o.from){for(let $=0;$<AnnounceMargin;$++)if(!Break.test(k[$+1])&&Break.test(k[$])){k=k.slice($);break}}if(b!=c){for(let $=k.length-1;$>k.length-AnnounceMargin;$--)if(!Break.test(k[$-1])&&Break.test(k[$])){k=k.slice(0,$);break}}return EditorView.announce.of(`${s.state.phrase("current match")}. ${k} ${s.state.phrase("on line")} ${o.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.lowest(searchHighlighter),baseTheme$2];class CompletionContext{constructor(e,a,o){this.state=e,this.pos=a,this.explicit=o,this.abortListeners=[]}tokenBefore(e){let a=syntaxTree(this.state).resolveInner(this.pos,-1);for(;a&&e.indexOf(a.name)<0;)a=a.parent;return a?{from:a.from,to:this.pos,text:this.state.sliceDoc(a.from,this.pos),type:a.type}:null}matchBefore(e){let a=this.state.doc.lineAt(this.pos),o=Math.max(a.from,this.pos-250),c=a.text.slice(o-a.from,this.pos-a.from),d=c.search(ensureAnchor(e,!1));return d<0?null:{from:o+d,to:this.pos,text:c.slice(d)}}get aborted(){return this.abortListeners==null}addEventListener(e,a){e=="abort"&&this.abortListeners&&this.abortListeners.push(a)}}function toSet(s){let e=Object.keys(s).join(""),a=/\w/.test(e);return a&&(e=e.replace(/\w/g,"")),`[${a?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(s){let e=Object.create(null),a=Object.create(null);for(let{label:c}of s){e[c[0]]=!0;for(let d=1;d<c.length;d++)a[c[d]]=!0}let o=toSet(e)+toSet(a)+"*$";return[new RegExp("^"+o),new RegExp(o)]}function completeFromList(s){let e=s.map(c=>typeof c=="string"?{label:c}:c),[a,o]=e.every(c=>/^\w+$/.test(c.label))?[/\w*$/,/\w+$/]:prefixMatch(e);return c=>{let d=c.matchBefore(o);return d||c.explicit?{from:d?d.from:c.pos,options:e,validFor:a}:null}}function ifNotIn(s,e){return a=>{for(let o=syntaxTree(a.state).resolveInner(a.pos,-1);o;o=o.parent)if(s.indexOf(o.name)>-1)return null;return e(a)}}class Option{constructor(e,a,o){this.completion=e,this.source=a,this.match=o}}function cur(s){return s.selection.main.head}function ensureAnchor(s,e){var a;let{source:o}=s,c=e&&o[0]!="^",d=o[o.length-1]!="$";return!c&&!d?s:new RegExp(`${c?"^":""}(?:${o})${d?"$":""}`,(a=s.flags)!==null&&a!==void 0?a:s.ignoreCase?"i":"")}function insertCompletionText(s,e,a,o){return Object.assign(Object.assign({},s.changeByRange(c=>{if(c==s.selection.main)return{changes:{from:a,to:o,insert:e},range:EditorSelection.cursor(a+e.length)};let d=o-a;return!c.empty||d&&s.sliceDoc(c.from-d,c.from)!=s.sliceDoc(a,o)?{range:c}:{changes:{from:c.from-d,to:c.from,insert:e},range:EditorSelection.cursor(c.from-d+e.length)}})),{userEvent:"input.complete"})}function applyCompletion(s,e){const a=e.completion.apply||e.completion.label;let o=e.source;typeof a=="string"?s.dispatch(insertCompletionText(s.state,a,o.from,o.to)):a(s,e.completion,o.from,o.to)}const SourceCache=new WeakMap;function asSource(s){if(!Array.isArray(s))return s;let e=SourceCache.get(s);return e||SourceCache.set(s,e=completeFromList(s)),e}class FuzzyMatcher{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let a=0;a<e.length;){let o=codePointAt(e,a),c=codePointSize(o);this.chars.push(o);let d=e.slice(a,a+c),b=d.toUpperCase();this.folded.push(codePointAt(b==d?d.toLowerCase():b,0)),a+=c}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:a,folded:o,any:c,precise:d,byWord:b}=this;if(a.length==1){let ht=codePointAt(e,0);return ht==a[0]?[0,0,codePointSize(ht)]:ht==o[0]?[-200,0,codePointSize(ht)]:null}let k=e.indexOf(this.pattern);if(k==0)return[0,0,this.pattern.length];let $=a.length,_=0;if(k<0){for(let ht=0,gt=Math.min(e.length,200);ht<gt&&_<$;){let ct=codePointAt(e,ht);(ct==a[_]||ct==o[_])&&(c[_++]=ht),ht+=codePointSize(ct)}if(_<$)return null}let j=0,_e=0,tt=!1,it=0,nt=-1,at=-1,rt=/[a-z]/.test(e),st=!0;for(let ht=0,gt=Math.min(e.length,200),ct=0;ht<gt&&_e<$;){let ft=codePointAt(e,ht);k<0&&(j<$&&ft==a[j]&&(d[j++]=ht),it<$&&(ft==a[it]||ft==o[it]?(it==0&&(nt=ht),at=ht+1,it++):it=0));let dt,mt=ft<255?ft>=48&&ft<=57||ft>=97&&ft<=122?2:ft>=65&&ft<=90?1:0:(dt=fromCodePoint(ft))!=dt.toLowerCase()?1:dt!=dt.toUpperCase()?2:0;(!ht||mt==1&&rt||ct==0&&mt!=0)&&(a[_e]==ft||o[_e]==ft&&(tt=!0)?b[_e++]=ht:b.length&&(st=!1)),ct=mt,ht+=codePointSize(ft)}return _e==$&&b[0]==0&&st?this.result(-100+(tt?-200:0),b,e):it==$&&nt==0?[-200-e.length,0,at]:k>-1?[-700-e.length,k,k+this.pattern.length]:it==$?[-200+-700-e.length,nt,at]:_e==$?this.result(-100+(tt?-200:0)+-700+(st?0:-1100),b,e):a.length==2?null:this.result((c[0]?-700:0)+-200+-1100,c,e)}result(e,a,o){let c=[e-o.length],d=1;for(let b of a){let k=b+(this.astral?codePointSize(codePointAt(o,b)):1);d>1&&c[d-1]==b?c[d-1]=k:(c[d++]=b,c[d++]=k)}return c}}const completionConfig=Facet.define({combine(s){return combineConfig(s,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,a)=>e.label.localeCompare(a.label)},{defaultKeymap:(e,a)=>e&&a,closeOnBlur:(e,a)=>e&&a,icons:(e,a)=>e&&a,optionClass:(e,a)=>o=>joinClass(e(o),a(o)),addToOptions:(e,a)=>e.concat(a)})}});function joinClass(s,e){return s?e?s+" "+e:s:e}function optionContent(s){let e=s.addToOptions.slice();return s.icons&&e.push({render(a){let o=document.createElement("div");return o.classList.add("cm-completionIcon"),a.type&&o.classList.add(...a.type.split(/\s+/g).map(c=>"cm-completionIcon-"+c)),o.setAttribute("aria-hidden","true"),o},position:20}),e.push({render(a,o,c){let d=document.createElement("span");d.className="cm-completionLabel";let{label:b}=a,k=0;for(let $=1;$<c.length;){let _=c[$++],j=c[$++];_>k&&d.appendChild(document.createTextNode(b.slice(k,_)));let _e=d.appendChild(document.createElement("span"));_e.appendChild(document.createTextNode(b.slice(_,j))),_e.className="cm-completionMatchedText",k=j}return k<b.length&&d.appendChild(document.createTextNode(b.slice(k))),d},position:50},{render(a){if(!a.detail)return null;let o=document.createElement("span");return o.className="cm-completionDetail",o.textContent=a.detail,o},position:80}),e.sort((a,o)=>a.position-o.position).map(a=>a.render)}function rangeAroundSelected(s,e,a){if(s<=a)return{from:0,to:s};if(e<0&&(e=0),e<=s>>1){let c=Math.floor(e/a);return{from:c*a,to:(c+1)*a}}let o=Math.floor((s-e)/a);return{from:s-(o+1)*a,to:s-o*a}}class CompletionTooltip{constructor(e,a){this.view=e,this.stateField=a,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:k=>this.positionInfo(k),key:this};let o=e.state.field(a),{options:c,selected:d}=o.open,b=e.state.facet(completionConfig);this.optionContent=optionContent(b),this.optionClass=b.optionClass,this.range=rangeAroundSelected(c.length,d,b.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",k=>{for(let $=k.target,_;$&&$!=this.dom;$=$.parentNode)if($.nodeName=="LI"&&(_=/-(\d+)$/.exec($.id))&&+_[1]<c.length){applyCompletion(e,c[+_[1]]),k.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(c,o.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),a=e.open;if((a.selected<this.range.from||a.selected>=this.range.to)&&(this.range=rangeAroundSelected(a.options.length,a.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(a.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(a.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:o}=a.options[a.selected],{info:c}=o;if(!c)return;let d=typeof c=="string"?document.createTextNode(c):c(o);if(!d)return;"then"in d?d.then(b=>{b&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(b)}).catch(b=>logException(this.view.state,b,"completion info")):this.addInfoPane(d)}}addInfoPane(e){let a=this.info=document.createElement("div");a.className="cm-tooltip cm-completionInfo",a.appendChild(e),this.dom.appendChild(a),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let a=null;for(let o=this.list.firstChild,c=this.range.from;o;o=o.nextSibling,c++)c==e?o.hasAttribute("aria-selected")||(o.setAttribute("aria-selected","true"),a=o):o.hasAttribute("aria-selected")&&o.removeAttribute("aria-selected");return a&&scrollIntoView(this.list,a),a}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let a=this.dom.getBoundingClientRect(),o=this.info.getBoundingClientRect(),c=e.getBoundingClientRect();if(c.top>Math.min(innerHeight,a.bottom)-10||c.bottom<Math.max(0,a.top)+10)return null;let d=Math.max(0,Math.min(c.top,innerHeight-o.height))-a.top,b=this.view.textDirection==Direction.RTL,k=a.left,$=innerWidth-a.right;return b&&k<Math.min(o.width,$)?b=!1:!b&&$<Math.min(o.width,k)&&(b=!0),{top:d,left:b}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,a,o){const c=document.createElement("ul");c.id=a,c.setAttribute("role","listbox"),c.setAttribute("aria-expanded","true"),c.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let d=o.from;d<o.to;d++){let{completion:b,match:k}=e[d];const $=c.appendChild(document.createElement("li"));$.id=a+"-"+d,$.setAttribute("role","option");let _=this.optionClass(b);_&&($.className=_);for(let j of this.optionContent){let _e=j(b,this.view.state,k);_e&&$.appendChild(_e)}}return o.from&&c.classList.add("cm-completionListIncompleteTop"),o.to<e.length&&c.classList.add("cm-completionListIncompleteBottom"),c}}function completionTooltip(s){return e=>new CompletionTooltip(e,s)}function scrollIntoView(s,e){let a=s.getBoundingClientRect(),o=e.getBoundingClientRect();o.top<a.top?s.scrollTop-=a.top-o.top:o.bottom>a.bottom&&(s.scrollTop+=o.bottom-a.bottom)}function score(s){return(s.boost||0)*100+(s.apply?10:0)+(s.info?5:0)+(s.type?1:0)}function sortOptions(s,e){let a=[],o=0;for(let k of s)if(k.hasResult())if(k.result.filter===!1){let $=k.result.getMatch;for(let _ of k.result.options){let j=[1e9-o++];if($)for(let _e of $(_))j.push(_e);a.push(new Option(_,k,j))}}else{let $=new FuzzyMatcher(e.sliceDoc(k.from,k.to)),_;for(let j of k.result.options)(_=$.match(j.label))&&(j.boost!=null&&(_[0]+=j.boost),a.push(new Option(j,k,_)))}let c=[],d=null,b=e.facet(completionConfig).compareCompletions;for(let k of a.sort(($,_)=>_.match[0]-$.match[0]||b($.completion,_.completion)))!d||d.label!=k.completion.label||d.detail!=k.completion.detail||d.type!=null&&k.completion.type!=null&&d.type!=k.completion.type||d.apply!=k.completion.apply?c.push(k):score(k.completion)>score(d)&&(c[c.length-1]=k),d=k.completion;return c}class CompletionDialog{constructor(e,a,o,c,d){this.options=e,this.attrs=a,this.tooltip=o,this.timestamp=c,this.selected=d}setSelected(e,a){return e==this.selected||e>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(a,e),this.tooltip,this.timestamp,e)}static build(e,a,o,c,d){let b=sortOptions(e,a);if(!b.length)return null;let k=a.facet(completionConfig).selectOnOpen?0:-1;if(c&&c.selected!=k&&c.selected!=-1){let $=c.options[c.selected].completion;for(let _=0;_<b.length;_++)if(b[_].completion==$){k=_;break}}return new CompletionDialog(b,makeAttrs(o,k),{pos:e.reduce(($,_)=>_.hasResult()?Math.min($,_.from):$,1e8),create:completionTooltip(completionState),above:d.aboveCursor},c?c.timestamp:Date.now(),k)}map(e){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class CompletionState{constructor(e,a,o){this.active=e,this.id=a,this.open=o}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:a}=e,o=a.facet(completionConfig),d=(o.override||a.languageDataAt("autocomplete",cur(a)).map(asSource)).map(k=>(this.active.find(_=>_.source==k)||new ActiveSource(k,this.active.some(_=>_.state!=0)?1:0)).update(e,o));d.length==this.active.length&&d.every((k,$)=>k==this.active[$])&&(d=this.active);let b=e.selection||d.some(k=>k.hasResult()&&e.changes.touchesRange(k.from,k.to))||!sameResults(d,this.active)?CompletionDialog.build(d,a,this.id,this.open,o):this.open&&e.docChanged?this.open.map(e.changes):this.open;!b&&d.every(k=>k.state!=1)&&d.some(k=>k.hasResult())&&(d=d.map(k=>k.hasResult()?new ActiveSource(k.source,0):k));for(let k of e.effects)k.is(setSelectedEffect)&&(b=b&&b.setSelected(k.value,this.id));return d==this.active&&b==this.open?this:new CompletionState(d,this.id,b)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:baseAttrs}}function sameResults(s,e){if(s==e)return!0;for(let a=0,o=0;;){for(;a<s.length&&!s[a].hasResult;)a++;for(;o<e.length&&!e[o].hasResult;)o++;let c=a==s.length,d=o==e.length;if(c||d)return c==d;if(s[a++].result!=e[o++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"};function makeAttrs(s,e){let a={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":s};return e>-1&&(a["aria-activedescendant"]=s+"-"+e),a}const none=[];function getUserEvent(s){return s.isUserEvent("input.type")?"input":s.isUserEvent("delete.backward")?"delete":null}class ActiveSource{constructor(e,a,o=-1){this.source=e,this.state=a,this.explicitPos=o}hasResult(){return!1}update(e,a){let o=getUserEvent(e),c=this;o?c=c.handleUserEvent(e,o,a):e.docChanged?c=c.handleChange(e):e.selection&&c.state!=0&&(c=new ActiveSource(c.source,0));for(let d of e.effects)if(d.is(startCompletionEffect))c=new ActiveSource(c.source,1,d.value?cur(e.state):-1);else if(d.is(closeCompletionEffect))c=new ActiveSource(c.source,0);else if(d.is(setActiveEffect))for(let b of d.value)b.source==c.source&&(c=b);return c}handleUserEvent(e,a,o){return a=="delete"||!o.activateOnTyping?this.map(e.changes):new ActiveSource(this.source,1)}handleChange(e){return e.changes.touchesRange(cur(e.startState))?new ActiveSource(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,e.mapPos(this.explicitPos))}}class ActiveResult extends ActiveSource{constructor(e,a,o,c,d){super(e,2,a),this.result=o,this.from=c,this.to=d}hasResult(){return!0}handleUserEvent(e,a,o){var c;let d=e.changes.mapPos(this.from),b=e.changes.mapPos(this.to,1),k=cur(e.state);if((this.explicitPos<0?k<=d:k<this.from)||k>b||a=="delete"&&cur(e.startState)==this.from)return new ActiveSource(this.source,a=="input"&&o.activateOnTyping?1:0);let $=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),_;return checkValid(this.result.validFor,e.state,d,b)?new ActiveResult(this.source,$,this.result,d,b):this.result.update&&(_=this.result.update(this.result,d,b,new CompletionContext(e.state,k,$>=0)))?new ActiveResult(this.source,$,_,_.from,(c=_.to)!==null&&c!==void 0?c:cur(e.state)):new ActiveSource(this.source,1,$)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new ActiveSource(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new ActiveResult(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function checkValid(s,e,a,o){if(!s)return!1;let c=e.sliceDoc(a,o);return typeof s=="function"?s(c,a,o,e):ensureAnchor(s,!0).test(c)}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define(),setActiveEffect=StateEffect.define({map(s,e){return s.map(a=>a.map(e))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(s,e){return s.update(e)},provide:s=>[showTooltip.from(s,e=>e.tooltip),EditorView.contentAttributes.from(s,e=>e.attrs)]}),CompletionInteractMargin=75;function moveCompletionSelection(s,e="option"){return a=>{let o=a.state.field(completionState,!1);if(!o||!o.open||Date.now()-o.open.timestamp<CompletionInteractMargin)return!1;let c=1,d;e=="page"&&(d=getTooltip(a,o.open.tooltip))&&(c=Math.max(2,Math.floor(d.dom.offsetHeight/d.dom.querySelector("li").offsetHeight)-1));let{length:b}=o.open.options,k=o.open.selected>-1?o.open.selected+c*(s?1:-1):s?0:b-1;return k<0?k=e=="page"?0:b-1:k>=b&&(k=e=="page"?b-1:0),a.dispatch({effects:setSelectedEffect.of(k)}),!0}}const acceptCompletion=s=>{let e=s.state.field(completionState,!1);return s.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<CompletionInteractMargin||e.open.selected<0?!1:(applyCompletion(s,e.open.options[e.open.selected]),!0)},startCompletion=s=>s.state.field(completionState,!1)?(s.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=s=>{let e=s.state.field(completionState,!1);return!e||!e.active.some(a=>a.state!=0)?!1:(s.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(e,a){this.active=e,this.context=a,this.time=Date.now(),this.updates=[],this.done=void 0}}const DebounceTime=50,MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of s.state.field(completionState).active)e.state==1&&this.startQuery(e)}update(s){let e=s.state.field(completionState);if(!s.selectionSet&&!s.docChanged&&s.startState.field(completionState)==e)return;let a=s.transactions.some(o=>(o.selection||o.docChanged)&&!getUserEvent(o));for(let o=0;o<this.running.length;o++){let c=this.running[o];if(a||c.updates.length+s.transactions.length>MaxUpdateCount&&Date.now()-c.time>MinAbortTime){for(let d of c.context.abortListeners)try{d()}catch(b){logException(this.view.state,b)}c.context.abortListeners=null,this.running.splice(o--,1)}else c.updates.push(...s.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(o=>o.state==1&&!this.running.some(c=>c.active.source==o.source))?setTimeout(()=>this.startUpdate(),DebounceTime):-1,this.composing!=0)for(let o of s.transactions)getUserEvent(o)=="input"?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:s}=this.view,e=s.field(completionState);for(let a of e.active)a.state==1&&!this.running.some(o=>o.active.source==a.source)&&this.startQuery(a)}startQuery(s){let{state:e}=this.view,a=cur(e),o=new CompletionContext(e,a,s.explicitPos==a),c=new RunningQuery(s,o);this.running.push(c),Promise.resolve(s.source(o)).then(d=>{c.context.aborted||(c.done=d||null,this.scheduleAccept())},d=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,d)})}scheduleAccept(){this.running.every(s=>s.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),DebounceTime))}accept(){var s;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],a=this.view.state.facet(completionConfig);for(let o=0;o<this.running.length;o++){let c=this.running[o];if(c.done===void 0)continue;if(this.running.splice(o--,1),c.done){let b=new ActiveResult(c.active.source,c.active.explicitPos,c.done,c.done.from,(s=c.done.to)!==null&&s!==void 0?s:cur(c.updates.length?c.updates[0].startState:this.view.state));for(let k of c.updates)b=b.update(k,a);if(b.hasResult()){e.push(b);continue}}let d=this.view.state.field(completionState).active.find(b=>b.source==c.active.source);if(d&&d.state==1)if(c.done==null){let b=new ActiveSource(c.active.source,0);for(let k of c.updates)b=b.update(k,a);b.state!=1&&e.push(b)}else this.startQuery(d)}e.length&&this.view.dispatch({effects:setActiveEffect.of(e)})}},{eventHandlers:{blur(){let s=this.view.state.field(completionState,!1);s&&s.tooltip&&this.view.state.facet(completionConfig).closeOnBlur&&this.view.dispatch({effects:closeCompletionEffect.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(e,a,o,c){this.field=e,this.line=a,this.from=o,this.to=c}}class FieldRange{constructor(e,a,o){this.field=e,this.from=a,this.to=o}map(e){let a=e.mapPos(this.from,-1,MapMode.TrackDel),o=e.mapPos(this.to,1,MapMode.TrackDel);return a==null||o==null?null:new FieldRange(this.field,a,o)}}class Snippet{constructor(e,a){this.lines=e,this.fieldPositions=a}instantiate(e,a){let o=[],c=[a],d=e.doc.lineAt(a),b=/^\s*/.exec(d.text)[0];for(let $ of this.lines){if(o.length){let _=b,j=/^\t*/.exec($)[0].length;for(let _e=0;_e<j;_e++)_+=e.facet(indentUnit);c.push(a+_.length-j),$=_+$.slice(j)}o.push($),a+=$.length+1}let k=this.fieldPositions.map($=>new FieldRange($.field,c[$.line]+$.from,c[$.line]+$.to));return{text:o,ranges:k}}static parse(e){let a=[],o=[],c=[],d;for(let b of e.split(/\r\n?|\n/)){for(;d=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(b);){let k=d[1]?+d[1]:null,$=d[2]||d[3]||"",_=-1;for(let j=0;j<a.length;j++)(k!=null?a[j].seq==k:$?a[j].name==$:!1)&&(_=j);if(_<0){let j=0;for(;j<a.length&&(k==null||a[j].seq!=null&&a[j].seq<k);)j++;a.splice(j,0,{seq:k,name:$}),_=j;for(let _e of c)_e.field>=_&&_e.field++}c.push(new FieldPos(_,o.length,d.index,d.index+$.length)),b=b.slice(0,d.index)+$+b.slice(d.index+d[0].length)}for(let k;k=/([$#])\\{/.exec(b);){b=b.slice(0,k.index)+k[1]+"{"+b.slice(k.index+k[0].length);for(let $ of c)$.line==o.length&&$.from>k.index&&($.from--,$.to--)}o.push(b)}return new Snippet(o,c)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let s=document.createElement("span");return s.className="cm-snippetFieldPosition",s}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(e,a){this.ranges=e,this.active=a,this.deco=Decoration.set(e.map(o=>(o.from==o.to?fieldMarker:fieldRange).range(o.from,o.to)))}map(e){let a=[];for(let o of this.ranges){let c=o.map(e);if(!c)return null;a.push(c)}return new ActiveSnippet(a,this.active)}selectionInsideField(e){return e.ranges.every(a=>this.ranges.some(o=>o.field==this.active&&o.from<=a.from&&o.to>=a.to))}}const setActive=StateEffect.define({map(s,e){return s&&s.map(e)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(s,e){for(let a of e.effects){if(a.is(setActive))return a.value;if(a.is(moveToField)&&s)return new ActiveSnippet(s.ranges,a.value)}return s&&e.docChanged&&(s=s.map(e.changes)),s&&e.selection&&!s.selectionInsideField(e.selection)&&(s=null),s},provide:s=>EditorView.decorations.from(s,e=>e?e.deco:Decoration.none)});function fieldSelection(s,e){return EditorSelection.create(s.filter(a=>a.field==e).map(a=>EditorSelection.range(a.from,a.to)))}function snippet(s){let e=Snippet.parse(s);return(a,o,c,d)=>{let{text:b,ranges:k}=e.instantiate(a.state,c),$={changes:{from:c,to:d,insert:Text.of(b)},scrollIntoView:!0};if(k.length&&($.selection=fieldSelection(k,0)),k.length>1){let _=new ActiveSnippet(k,0),j=$.effects=[setActive.of(_)];a.state.field(snippetState,!1)===void 0&&j.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}a.dispatch(a.state.update($))}}function moveField(s){return({state:e,dispatch:a})=>{let o=e.field(snippetState,!1);if(!o||s<0&&o.active==0)return!1;let c=o.active+s,d=s>0&&!o.ranges.some(b=>b.field==c+s);return a(e.update({selection:fieldSelection(o.ranges,c),effects:setActive.of(d?null:new ActiveSnippet(o.ranges,c))})),!0}}const clearSnippet=({state:s,dispatch:e})=>s.field(snippetState,!1)?(e(s.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(s){return s.length?s[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],s=>s.facet(snippetKeymap)));function snippetCompletion(s,e){return Object.assign(Object.assign({},e),{apply:snippet(s)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(s,e){let a=e.state.field(snippetState,!1),o;if(!a||(o=e.posAtCoords({x:s.clientX,y:s.clientY}))==null)return!1;let c=a.ranges.find(d=>d.from<=o&&d.to>=o);return!c||c.field==a.active?!1:(e.dispatch({selection:fieldSelection(a.ranges,c.field),effects:setActive.of(a.ranges.some(d=>d.field>c.field)?new ActiveSnippet(a.ranges,c.field):null)}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>"},closeBracketEffect=StateEffect.define({map(s,e){let a=e.mapPos(s,-1,MapMode.TrackAfter);return a==null?void 0:a}}),skipBracketEffect=StateEffect.define({map(s,e){return e.mapPos(s)}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(s,e){if(e.selection){let a=e.state.doc.lineAt(e.selection.main.head).from,o=e.startState.doc.lineAt(e.startState.selection.main.head).from;a!=e.changes.mapPos(o,-1)&&(s=RangeSet.empty)}s=s.map(e.changes);for(let a of e.effects)a.is(closeBracketEffect)?s=s.update({add:[closedBracket.range(a.value,a.value+1)]}):a.is(skipBracketEffect)&&(s=s.update({filter:o=>o!=a.value}));return s}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(s){for(let e=0;e<definedClosing.length;e+=2)if(definedClosing.charCodeAt(e)==s)return definedClosing.charAt(e+1);return fromCodePoint(s<128?s:s+1)}function config(s,e){return s.languageDataAt("closeBrackets",e)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((s,e,a,o)=>{if((android$1?s.composing:s.compositionStarted)||s.state.readOnly)return!1;let c=s.state.selection.main;if(o.length>2||o.length==2&&codePointSize(codePointAt(o,0))==1||e!=c.from||a!=c.to)return!1;let d=insertBracket(s.state,o);return d?(s.dispatch(d),!0):!1}),deleteBracketPair=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let o=config(s,s.selection.main.head).brackets||defaults.brackets,c=null,d=s.changeByRange(b=>{if(b.empty){let k=prevChar(s.doc,b.head);for(let $ of o)if($==k&&nextChar(s.doc,b.head)==closing(codePointAt($,0)))return{changes:{from:b.head-$.length,to:b.head+$.length},range:EditorSelection.cursor(b.head-$.length),userEvent:"delete.backward"}}return{range:c=b}});return c||e(s.update(d,{scrollIntoView:!0})),!c},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(s,e){let a=config(s,s.selection.main.head),o=a.brackets||defaults.brackets;for(let c of o){let d=closing(codePointAt(c,0));if(e==c)return d==c?handleSame(s,c,o.indexOf(c+c+c)>-1):handleOpen(s,c,d,a.before||defaults.before);if(e==d&&closedBracketAt(s,s.selection.main.from))return handleClose(s,c,d)}return null}function closedBracketAt(s,e){let a=!1;return s.field(bracketState).between(0,s.doc.length,o=>{o==e&&(a=!0)}),a}function nextChar(s,e){let a=s.sliceString(e,e+2);return a.slice(0,codePointSize(codePointAt(a,0)))}function prevChar(s,e){let a=s.sliceString(e-2,e);return codePointSize(codePointAt(a,0))==a.length?a:a.slice(1)}function handleOpen(s,e,a,o){let c=null,d=s.changeByRange(b=>{if(!b.empty)return{changes:[{insert:e,from:b.from},{insert:a,from:b.to}],effects:closeBracketEffect.of(b.to+e.length),range:EditorSelection.range(b.anchor+e.length,b.head+e.length)};let k=nextChar(s.doc,b.head);return!k||/\s/.test(k)||o.indexOf(k)>-1?{changes:{insert:e+a,from:b.head},effects:closeBracketEffect.of(b.head+e.length),range:EditorSelection.cursor(b.head+e.length)}:{range:c=b}});return c?null:s.update(d,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(s,e,a){let o=null,c=s.selection.ranges.map(d=>d.empty&&nextChar(s.doc,d.head)==a?EditorSelection.cursor(d.head+a.length):o=d);return o?null:s.update({selection:EditorSelection.create(c,s.selection.mainIndex),scrollIntoView:!0,effects:s.selection.ranges.map(({from:d})=>skipBracketEffect.of(d))})}function handleSame(s,e,a){let o=null,c=s.changeByRange(d=>{if(!d.empty)return{changes:[{insert:e,from:d.from},{insert:e,from:d.to}],effects:closeBracketEffect.of(d.to+e.length),range:EditorSelection.range(d.anchor+e.length,d.head+e.length)};let b=d.head,k=nextChar(s.doc,b);if(k==e){if(nodeStart(s,b))return{changes:{insert:e+e,from:b},effects:closeBracketEffect.of(b+e.length),range:EditorSelection.cursor(b+e.length)};if(closedBracketAt(s,b)){let $=a&&s.sliceDoc(b,b+e.length*3)==e+e+e;return{range:EditorSelection.cursor(b+e.length*($?3:1)),effects:skipBracketEffect.of(b)}}}else{if(a&&s.sliceDoc(b-2*e.length,b)==e+e&&nodeStart(s,b-2*e.length))return{changes:{insert:e+e+e+e,from:b},effects:closeBracketEffect.of(b+e.length),range:EditorSelection.cursor(b+e.length)};if(s.charCategorizer(b)(k)!=CharCategory.Word){let $=s.sliceDoc(b-1,b);if($!=e&&s.charCategorizer(b)($)!=CharCategory.Word&&!probablyInString(s,b,e))return{changes:{insert:e+e,from:b},effects:closeBracketEffect.of(b+e.length),range:EditorSelection.cursor(b+e.length)}}}return{range:o=d}});return o?null:s.update(c,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(s,e){let a=syntaxTree(s).resolveInner(e+1);return a.parent&&a.from==e}function probablyInString(s,e,a){let o=syntaxTree(s).resolveInner(e,-1);for(let c=0;c<5;c++){if(s.sliceDoc(o.from,o.from+a.length)==a){let b=o.firstChild;for(;b&&b.from==o.from&&b.to-b.from>a.length;){if(s.sliceDoc(b.to-a.length,b.to)==a)return!1;b=b.firstChild}return!0}let d=o.to==e&&o.parent;if(!d)break;o=d}return!1}function autocompletion(s={}){return[completionState,completionConfig.of(s),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],s=>s.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(e,a,o){this.from=e,this.to=a,this.diagnostic=o}}class LintState{constructor(e,a,o){this.diagnostics=e,this.panel=a,this.selected=o}static init(e,a,o){let c=e,d=o.facet(lintConfig).markerFilter;d&&(c=d(c));let b=Decoration.set(c.map(k=>k.from==k.to||k.from==k.to-1&&o.doc.lineAt(k.from).to==k.from?Decoration.widget({widget:new DiagnosticWidget(k),diagnostic:k}).range(k.from):Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+k.severity},diagnostic:k}).range(k.from,k.to)),!0);return new LintState(b,a,findDiagnostic(b))}}function findDiagnostic(s,e=null,a=0){let o=null;return s.between(a,1e9,(c,d,{spec:b})=>{if(!(e&&b.diagnostic!=e))return o=new SelectedDiagnostic(c,d,b.diagnostic),!1}),o}function hideTooltip(s,e){return!!(s.effects.some(a=>a.is(setDiagnosticsEffect))||s.changes.touchesRange(e.pos))}function maybeEnableLint(s,e){return s.field(lintState,!1)?e:e.concat(StateEffect.appendConfig.of([lintState,EditorView.decorations.compute([lintState],a=>{let{selected:o,panel:c}=a.field(lintState);return!o||!c||o.from==o.to?Decoration.none:Decoration.set([activeMark.range(o.from,o.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme]))}function setDiagnostics(s,e){return{effects:maybeEnableLint(s,[setDiagnosticsEffect.of(e)])}}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(s,e){if(e.docChanged){let a=s.diagnostics.map(e.changes),o=null;if(s.selected){let c=e.changes.mapPos(s.selected.from,1);o=findDiagnostic(a,s.selected.diagnostic,c)||findDiagnostic(a,null,c)}s=new LintState(a,s.panel,o)}for(let a of e.effects)a.is(setDiagnosticsEffect)?s=LintState.init(a.value,s.panel,e.state):a.is(togglePanel)?s=new LintState(s.diagnostics,a.value?LintPanel.open:null,s.selected):a.is(movePanelSelection)&&(s=new LintState(s.diagnostics,s.panel,a.value));return s},provide:s=>[showPanel.from(s,e=>e.panel),EditorView.decorations.from(s,e=>e.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(s,e,a){let{diagnostics:o}=s.state.field(lintState),c=[],d=2e8,b=0;o.between(e-(a<0?1:0),e+(a>0?1:0),($,_,{spec:j})=>{e>=$&&e<=_&&($==_||(e>$||a>0)&&(e<_||a<0))&&(c.push(j.diagnostic),d=Math.min($,d),b=Math.max(_,b))});let k=s.state.facet(lintConfig).tooltipFilter;return k&&(c=k(c)),c.length?{pos:d,end:b,above:s.state.doc.lineAt(d).to<b,create(){return{dom:diagnosticsTooltip(s,c)}}}:null}function diagnosticsTooltip(s,e){return crelt("ul",{class:"cm-tooltip-lint"},e.map(a=>renderDiagnostic(s,a,!1)))}const openLintPanel=s=>{let e=s.state.field(lintState,!1);(!e||!e.panel)&&s.dispatch({effects:maybeEnableLint(s.state,[togglePanel.of(!0)])});let a=getPanel(s,LintPanel.open);return a&&a.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=s=>{let e=s.state.field(lintState,!1);return!e||!e.panel?!1:(s.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=s=>{let e=s.state.field(lintState,!1);if(!e)return!1;let a=s.state.selection.main,o=e.diagnostics.iter(a.to+1);return!o.value&&(o=e.diagnostics.iter(0),!o.value||o.from==a.from&&o.to==a.to)?!1:(s.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel},{key:"F8",run:nextDiagnostic}],lintPlugin=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.timeout=-1,this.set=!0;let{delay:e}=s.state.facet(lintConfig);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let s=Date.now();if(s<this.lintTime-10)setTimeout(this.run,this.lintTime-s);else{this.set=!1;let{state:e}=this.view,{sources:a}=e.facet(lintConfig);Promise.all(a.map(o=>Promise.resolve(o(this.view)))).then(o=>{let c=o.reduce((d,b)=>d.concat(b));this.view.state.doc==e.doc&&this.view.dispatch(setDiagnostics(this.view.state,c))},o=>{logException(this.view.state,o)})}}update(s){let e=s.state.facet(lintConfig);(s.docChanged||e!=s.startState.facet(lintConfig))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),lintConfig=Facet.define({combine(s){return Object.assign({sources:s.map(e=>e.source)},combineConfig(s.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:lintPlugin});function assignKeys(s){let e=[];if(s)e:for(let{name:a}of s){for(let o=0;o<a.length;o++){let c=a[o];if(/[a-zA-Z]/.test(c)&&!e.some(d=>d.toLowerCase()==c.toLowerCase())){e.push(c);continue e}}e.push("")}return e}function renderDiagnostic(s,e,a){var o;let c=a?assignKeys(e.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},crelt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(o=e.actions)===null||o===void 0?void 0:o.map((d,b)=>{let k=_e=>{_e.preventDefault();let tt=findDiagnostic(s.state.field(lintState).diagnostics,e);tt&&d.apply(s,tt.from,tt.to)},{name:$}=d,_=c[b]?$.indexOf(c[b]):-1,j=_<0?$:[$.slice(0,_),crelt("u",$.slice(_,_+1)),$.slice(_+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:k,onmousedown:k,"aria-label":` Action: ${$}${_<0?"":` (access key "${c[b]})"`}.`},j)}),e.source&&crelt("div",{class:"cm-diagnosticSource"},e.source))}class DiagnosticWidget extends WidgetType{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class PanelItem{constructor(e,a){this.diagnostic=a,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(e,a,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(e){this.view=e,this.items=[];let a=c=>{if(c.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(c.keyCode==38||c.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(c.keyCode==40||c.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(c.keyCode==36)this.moveSelection(0);else if(c.keyCode==35)this.moveSelection(this.items.length-1);else if(c.keyCode==13)this.view.focus();else if(c.keyCode>=65&&c.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:d}=this.items[this.selectedIndex],b=assignKeys(d.actions);for(let k=0;k<b.length;k++)if(b[k].toUpperCase().charCodeAt(0)==c.keyCode){let $=findDiagnostic(this.view.state.field(lintState).diagnostics,d);$&&d.actions[k].apply(e,$.from,$.to)}}else return;c.preventDefault()},o=c=>{for(let d=0;d<this.items.length;d++)this.items[d].dom.contains(c.target)&&this.moveSelection(d)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:a,onclick:o}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(lintState).selected;if(!e)return-1;for(let a=0;a<this.items.length;a++)if(this.items[a].diagnostic==e.diagnostic)return a;return-1}update(){let{diagnostics:e,selected:a}=this.view.state.field(lintState),o=0,c=!1,d=null;for(e.between(0,this.view.state.doc.length,(b,k,{spec:$})=>{let _=-1,j;for(let _e=o;_e<this.items.length;_e++)if(this.items[_e].diagnostic==$.diagnostic){_=_e;break}_<0?(j=new PanelItem(this.view,$.diagnostic),this.items.splice(o,0,j),c=!0):(j=this.items[_],_>o&&(this.items.splice(o,_-o),c=!0)),a&&j.diagnostic==a.diagnostic?j.dom.hasAttribute("aria-selected")||(j.dom.setAttribute("aria-selected","true"),d=j):j.dom.hasAttribute("aria-selected")&&j.dom.removeAttribute("aria-selected"),o++});o<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)c=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),c=!0),d?(this.list.setAttribute("aria-activedescendant",d.id),this.view.requestMeasure({key:this,read:()=>({sel:d.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:b,panel:k})=>{b.top<k.top?this.list.scrollTop-=k.top-b.top:b.bottom>k.bottom&&(this.list.scrollTop+=b.bottom-k.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),c&&this.sync()}sync(){let e=this.list.firstChild;function a(){let o=e;e=o.nextSibling,o.remove()}for(let o of this.items)if(o.dom.parentNode==this.list){for(;e!=o.dom;)a();e=o.dom.nextSibling}else this.list.insertBefore(o.dom,e);for(;e;)a()}moveSelection(e){if(this.selectedIndex<0)return;let a=this.view.state.field(lintState),o=findDiagnostic(a.diagnostics,this.items[e].diagnostic);!o||this.view.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:movePanelSelection.of(o)})}static open(e){return new LintPanel(e)}}function svg(s,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(s)}</svg>')`}function underline(s){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${s}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});var basicSetup=function s(e){e===void 0&&(e={});var a=[];e.closeBracketsKeymap!==!1&&(a=a.concat(closeBracketsKeymap)),e.defaultKeymap!==!1&&(a=a.concat(defaultKeymap)),e.searchKeymap!==!1&&(a=a.concat(searchKeymap)),e.historyKeymap!==!1&&(a=a.concat(historyKeymap)),e.foldKeymap!==!1&&(a=a.concat(foldKeymap)),e.completionKeymap!==!1&&(a=a.concat(completionKeymap)),e.lintKeymap!==!1&&(a=a.concat(lintKeymap));var o=[];return e.lineNumbers!==!1&&o.push(lineNumbers()),e.highlightActiveLineGutter!==!1&&o.push(highlightActiveLineGutter()),e.highlightSpecialChars!==!1&&o.push(highlightSpecialChars()),e.history!==!1&&o.push(history()),e.foldGutter!==!1&&o.push(foldGutter()),e.drawSelection!==!1&&o.push(drawSelection()),e.dropCursor!==!1&&o.push(dropCursor()),e.allowMultipleSelections!==!1&&o.push(EditorState.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&o.push(indentOnInput()),e.syntaxHighlighting!==!1&&o.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),e.bracketMatching!==!1&&o.push(bracketMatching()),e.closeBrackets!==!1&&o.push(closeBrackets()),e.autocompletion!==!1&&o.push(autocompletion()),e.rectangularSelection!==!1&&o.push(rectangularSelection()),e.crosshairCursor!==!1&&o.push(crosshairCursor()),e.highlightActiveLine!==!1&&o.push(highlightActiveLine()),e.highlightSelectionMatches!==!1&&o.push(highlightSelectionMatches()),o.concat([keymap.of(a.flat())]).filter(Boolean)};const chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:highlightBackground},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];var getStatistics=s=>({line:s.state.doc.lineAt(s.state.selection.main.from),lineCount:s.state.doc.lines,lineBreak:s.state.lineBreak,length:s.state.doc.length,readOnly:s.state.readOnly,tabSize:s.state.tabSize,selection:s.state.selection,selectionAsSingle:s.state.selection.asSingle().main,ranges:s.state.selection.ranges,selectionCode:s.state.sliceDoc(s.state.selection.main.from,s.state.selection.main.to),selections:s.state.selection.ranges.map(e=>s.state.sliceDoc(e.from,e.to)),selectedText:s.state.selection.ranges.some(e=>!e.empty)});function useCodeMirror(s){var{value:e,selection:a,onChange:o,onStatistics:c,onCreateEditor:d,onUpdate:b,extensions:k=[],autoFocus:$,theme:_="light",height:j="",minHeight:_e="",maxHeight:tt="",placeholder:it="",width:nt="",minWidth:at="",maxWidth:rt="",editable:st=!0,readOnly:ht=!1,indentWithTab:gt=!0,basicSetup:ct=!0,root:ft,initialState:dt}=s,[mt,Ot]=react.exports.useState(),[yt,Ct]=react.exports.useState(),[kt,bt]=react.exports.useState(),Et=EditorView.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),At=EditorView.theme({"&":{height:j,minHeight:_e,maxHeight:tt,width:nt,minWidth:at,maxWidth:rt}}),Rt=EditorView.updateListener.of(Bt=>{if(Bt.docChanged&&typeof o=="function"){var Tt=Bt.state.doc,Qt=Tt.toString();o(Qt,Bt)}c&&c(getStatistics(Bt))}),Dt=[Rt,At];switch(gt&&Dt.unshift(keymap.of([indentWithTab])),ct&&(typeof ct=="boolean"?Dt.unshift(basicSetup()):Dt.unshift(basicSetup(ct))),it&&Dt.unshift(placeholder(it)),_){case"light":Dt.push(Et);break;case"dark":Dt.push(oneDark);break;default:Dt.push(_);break}return st===!1&&Dt.push(EditorView.editable.of(!1)),ht&&Dt.push(EditorState.readOnly.of(!0)),b&&typeof b=="function"&&Dt.push(EditorView.updateListener.of(b)),Dt=Dt.concat(k),react.exports.useEffect(()=>{if(mt&&!kt){var Bt={doc:e,selection:a,extensions:Dt},Tt=dt?EditorState.fromJSON(dt.json,Bt,dt.fields):EditorState.create(Bt);if(bt(Tt),!yt){var Qt=new EditorView({state:Tt,parent:mt,root:ft});Ct(Qt),d&&d(Qt,Tt)}}return()=>{yt&&(bt(void 0),Ct(void 0))}},[mt,kt]),react.exports.useEffect(()=>Ot(s.container),[s.container]),react.exports.useEffect(()=>()=>{yt&&(yt.destroy(),Ct(void 0))},[yt]),react.exports.useEffect(()=>{$&&yt&&yt.focus()},[$,yt]),react.exports.useEffect(()=>{yt&&yt.dispatch({effects:StateEffect.reconfigure.of(Dt)})},[_,k,j,_e,tt,nt,at,rt,it,st,ht,gt,ct,o,b]),react.exports.useEffect(()=>{var Bt=yt?yt.state.doc.toString():"";yt&&e!==Bt&&yt.dispatch({changes:{from:0,to:Bt.length,insert:e||""}})},[e,yt]),{state:kt,setState:bt,view:yt,setView:Ct,container:mt,setContainer:Ot}}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=react.exports,g=60103;reactJsxRuntime_production_min.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var h=Symbol.for;g=h("react.element"),reactJsxRuntime_production_min.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(s,e,a){var o,c={},d=null,b=null;a!==void 0&&(d=""+a),e.key!==void 0&&(d=""+e.key),e.ref!==void 0&&(b=e.ref);for(o in e)n.call(e,o)&&!p.hasOwnProperty(o)&&(c[o]=e[o]);if(s&&s.defaultProps)for(o in e=s.defaultProps,e)c[o]===void 0&&(c[o]=e[o]);return{$$typeof:g,type:s,key:d,ref:b,props:c,_owner:m.current}}reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,Fragment=jsxRuntime.exports.Fragment;var _excluded=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ReactCodeMirror=react.exports.forwardRef((s,e)=>{var{className:a,value:o="",selection:c,extensions:d=[],onChange:b,onStatistics:k,onCreateEditor:$,onUpdate:_,autoFocus:j,theme:_e="light",height:tt,minHeight:it,maxHeight:nt,width:at,minWidth:rt,maxWidth:st,basicSetup:ht,placeholder:gt,indentWithTab:ct,editable:ft,readOnly:dt,root:mt,initialState:Ot}=s,yt=_objectWithoutPropertiesLoose(s,_excluded),Ct=react.exports.useRef(null),{state:kt,view:bt,container:Et,setContainer:At}=useCodeMirror({container:Ct.current,root:mt,value:o,autoFocus:j,theme:_e,height:tt,minHeight:it,maxHeight:nt,width:at,minWidth:rt,maxWidth:st,basicSetup:ht,placeholder:gt,indentWithTab:ct,editable:ft,readOnly:dt,selection:c,onChange:b,onStatistics:k,onCreateEditor:$,onUpdate:_,extensions:d,initialState:Ot});if(react.exports.useImperativeHandle(e,()=>({editor:Ct.current,state:kt,view:bt}),[Ct,Et,kt,bt]),typeof o!="string")throw new Error("value must be typeof string but got "+typeof o);var Rt=typeof _e=="string"?"cm-theme-"+_e:"cm-theme";return jsx("div",_extends({ref:Ct,className:""+Rt+(a?" "+a:"")},yt))});ReactCodeMirror.displayName="CodeMirror";class Stack{constructor(e,a,o,c,d,b,k,$,_,j=0,_e){this.p=e,this.stack=a,this.state=o,this.reducePos=c,this.pos=d,this.score=b,this.buffer=k,this.bufferBase=$,this.curContext=_,this.lookAhead=j,this.parent=_e}toString(){return`[${this.stack.filter((e,a)=>a%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,a,o=0){let c=e.parser.context;return new Stack(e,[],a,o,o,0,[],0,c?new StackContext(c,c.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,a){this.stack.push(this.state,a,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let a=e>>19,o=e&65535,{parser:c}=this.p,d=c.dynamicPrecedence(o);if(d&&(this.score+=d),a==0){this.pushState(c.getGoto(this.state,o,!0),this.reducePos),o<c.minRepeatTerm&&this.storeNode(o,this.reducePos,this.reducePos,4,!0),this.reduceContext(o,this.reducePos);return}let b=this.stack.length-(a-1)*3-(e&262144?6:0),k=this.stack[b-2],$=this.stack[b-1],_=this.bufferBase+this.buffer.length-$;if(o<c.minRepeatTerm||e&131072){let j=c.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(o,k,j,_+4,!0)}if(e&262144)this.state=this.stack[b];else{let j=this.stack[b-3];this.state=c.getGoto(j,o,!0)}for(;this.stack.length>b;)this.stack.pop();this.reduceContext(o,k)}storeNode(e,a,o,c=4,d=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let b=this,k=this.buffer.length;if(k==0&&b.parent&&(k=b.bufferBase-b.parent.bufferBase,b=b.parent),k>0&&b.buffer[k-4]==0&&b.buffer[k-1]>-1){if(a==o)return;if(b.buffer[k-2]>=a){b.buffer[k-2]=o;return}}}if(!d||this.pos==o)this.buffer.push(e,a,o,c);else{let b=this.buffer.length;if(b>0&&this.buffer[b-4]!=0)for(;b>0&&this.buffer[b-2]>o;)this.buffer[b]=this.buffer[b-4],this.buffer[b+1]=this.buffer[b-3],this.buffer[b+2]=this.buffer[b-2],this.buffer[b+3]=this.buffer[b-1],b-=4,c>4&&(c-=4);this.buffer[b]=e,this.buffer[b+1]=a,this.buffer[b+2]=o,this.buffer[b+3]=c}}shift(e,a,o){let c=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let d=e,{parser:b}=this.p;(o>this.pos||a<=b.maxNode)&&(this.pos=o,b.stateFlag(d,1)||(this.reducePos=o)),this.pushState(d,c),this.shiftContext(a,c),a<=b.maxNode&&this.buffer.push(a,c,o,4)}else this.pos=o,this.shiftContext(a,c),a<=this.p.parser.maxNode&&this.buffer.push(a,c,o,4)}apply(e,a,o){e&65536?this.reduce(e):this.shift(e,a,o)}useNode(e,a){let o=this.p.reused.length-1;(o<0||this.p.reused[o]!=e)&&(this.p.reused.push(e),o++);let c=this.pos;this.reducePos=this.pos=c+e.length,this.pushState(a,c),this.buffer.push(o,c,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,a=e.buffer.length;for(;a>0&&e.buffer[a-2]>e.reducePos;)a-=4;let o=e.buffer.slice(a),c=e.bufferBase+a;for(;e&&c==e.bufferBase;)e=e.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,o,c,this.curContext,this.lookAhead,e)}recoverByDelete(e,a){let o=e<=this.p.parser.maxNode;o&&this.storeNode(e,this.pos,a,4),this.storeNode(0,this.pos,a,o?8:4),this.pos=this.reducePos=a,this.score-=190}canShift(e){for(let a=new SimulatedStack(this);;){let o=this.p.parser.stateSlot(a.state,4)||this.p.parser.hasAction(a.state,e);if((o&65536)==0)return!0;if(o==0)return!1;a.reduce(o)}}recoverByInsert(e){if(this.stack.length>=300)return[];let a=this.p.parser.nextStates(this.state);if(a.length>4<<1||this.stack.length>=120){let c=[];for(let d=0,b;d<a.length;d+=2)(b=a[d+1])!=this.state&&this.p.parser.hasAction(b,e)&&c.push(a[d],b);if(this.stack.length<120)for(let d=0;c.length<4<<1&&d<a.length;d+=2){let b=a[d+1];c.some((k,$)=>$&1&&k==b)||c.push(a[d],b)}a=c}let o=[];for(let c=0;c<a.length&&o.length<4;c+=2){let d=a[c+1];if(d==this.state)continue;let b=this.split();b.pushState(d,this.pos),b.storeNode(0,b.pos,b.pos,4,!0),b.shiftContext(a[c],this.pos),b.score-=200,o.push(b)}return o}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if((e&65536)==0)return!1;let{parser:a}=this.p;if(!a.validAction(this.state,e)){let o=e>>19,c=e&65535,d=this.stack.length-o*3;if(d<0||a.getGoto(this.stack[d],c,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let a=0;a<this.stack.length;a+=3)if(this.stack[a]!=e.stack[a])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,a){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(a)))}reduceContext(e,a){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(a)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let a=new StackContext(this.curContext.tracker,e);a.hash!=this.curContext.hash&&this.emitContext(),this.curContext=a}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(e,a){this.tracker=e,this.context=a,this.hash=e.strict?e.hash(a):0}}var Recover;(function(s){s[s.Insert=200]="Insert",s[s.Delete=190]="Delete",s[s.Reduce=100]="Reduce",s[s.MaxNext=4]="MaxNext",s[s.MaxInsertStackDepth=300]="MaxInsertStackDepth",s[s.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(Recover||(Recover={}));class SimulatedStack{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let a=e&65535,o=e>>19;o==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(o-1)*3;let c=this.start.p.parser.getGoto(this.stack[this.base-3],a,!0);this.state=c}}class StackBufferCursor{constructor(e,a,o){this.stack=e,this.pos=a,this.index=o,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,a=e.bufferBase+e.buffer.length){return new StackBufferCursor(e,a,a-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(e,a){this.input=e,this.ranges=a,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=a[0].from,this.range=a[0],this.end=a[a.length-1].to,this.readNext()}resolveOffset(e,a){let o=this.range,c=this.rangeIndex,d=this.pos+e;for(;d<o.from;){if(!c)return null;let b=this.ranges[--c];d-=o.from-b.to,o=b}for(;a<0?d>o.to:d>=o.to;){if(c==this.ranges.length-1)return null;let b=this.ranges[++c];d+=b.from-o.to,o=b}return d}peek(e){let a=this.chunkOff+e,o,c;if(a>=0&&a<this.chunk.length)o=this.pos+e,c=this.chunk.charCodeAt(a);else{let d=this.resolveOffset(e,1);if(d==null)return-1;if(o=d,o>=this.chunk2Pos&&o<this.chunk2Pos+this.chunk2.length)c=this.chunk2.charCodeAt(o-this.chunk2Pos);else{let b=this.rangeIndex,k=this.range;for(;k.to<=o;)k=this.ranges[++b];this.chunk2=this.input.chunk(this.chunk2Pos=o),o+this.chunk2.length>k.to&&(this.chunk2=this.chunk2.slice(0,k.to-o)),c=this.chunk2.charCodeAt(0)}}return o>=this.token.lookAhead&&(this.token.lookAhead=o+1),c}acceptToken(e,a=0){let o=a?this.resolveOffset(a,-1):this.pos;if(o==null||o<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=o}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:a}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=a,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),a=this.pos+e.length;this.chunk=a>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,a){if(a?(this.token=a,a.start=e,a.lookAhead=e+1,a.value=a.extended=-1):this.token=nullToken,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,a){if(e>=this.chunkPos&&a<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,a-this.chunkPos);if(e>=this.chunk2Pos&&a<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,a-this.chunk2Pos);if(e>=this.range.from&&a<=this.range.to)return this.input.read(e,a);let o="";for(let c of this.ranges){if(c.from>=a)break;c.to>e&&(o+=this.input.read(Math.max(c.from,e),Math.min(c.to,a)))}return o}}class TokenGroup{constructor(e,a){this.data=e,this.id=a}token(e,a){readToken(this.data,e,a,this.id)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(e,a={}){this.token=e,this.contextual=!!a.contextual,this.fallback=!!a.fallback,this.extend=!!a.extend}}function readToken(s,e,a,o){let c=0,d=1<<o,{parser:b}=a.p,{dialect:k}=b;e:for(;(d&s[c])!=0;){let $=s[c+1];for(let tt=c+3;tt<$;tt+=2)if((s[tt+1]&d)>0){let it=s[tt];if(k.allows(it)&&(e.token.value==-1||e.token.value==it||b.overrides(it,e.token.value))){e.acceptToken(it);break}}let _=e.next,j=0,_e=s[c+2];if(e.next<0&&_e>j&&s[$+_e*3-3]==65535){c=s[$+_e*3-1];continue e}for(;j<_e;){let tt=j+_e>>1,it=$+tt+(tt<<1),nt=s[it],at=s[it+1];if(_<nt)_e=tt;else if(_>=at)j=tt+1;else{c=s[it+2],e.advance();continue e}}break}}function decodeArray(s,e=Uint16Array){if(typeof s!="string")return s;let a=null;for(let o=0,c=0;o<s.length;){let d=0;for(;;){let b=s.charCodeAt(o++),k=!1;if(b==126){d=65535;break}b>=92&&b--,b>=34&&b--;let $=b-32;if($>=46&&($-=46,k=!0),d+=$,k)break;d*=46}a?a[c++]=d:a=new e(d)}return a}const verbose=typeof process!="undefined"&&process.env&&/\bparse\b/.test({}.LOG);let stackIDs=null;var Safety;(function(s){s[s.Margin=25]="Margin"})(Safety||(Safety={}));function cutAt(s,e,a){let o=s.cursor(IterMode.IncludeAnonymous);for(o.moveTo(e);;)if(!(a<0?o.childBefore(e):o.childAfter(e)))for(;;){if((a<0?o.to<e:o.from>e)&&!o.type.isError)return a<0?Math.max(0,Math.min(o.to-1,e-25)):Math.min(s.length,Math.max(o.from+1,e+25));if(a<0?o.prevSibling():o.nextSibling())break;if(!o.parent())return a<0?0:s.length}}class FragmentCursor{constructor(e,a){this.fragments=e,this.nodeSet=a,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?cutAt(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?cutAt(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let a=this.trees.length-1;if(a<0)return this.nextFragment(),null;let o=this.trees[a],c=this.index[a];if(c==o.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let d=o.children[c],b=this.start[a]+o.positions[c];if(b>e)return this.nextStart=b,null;if(d instanceof Tree){if(b==e){if(b<this.safeFrom)return null;let k=b+d.length;if(k<=this.safeTo){let $=d.prop(NodeProp.lookAhead);if(!$||k+$<this.fragment.to)return d}}this.index[a]++,b+d.length>=Math.max(this.safeFrom,e)&&(this.trees.push(d),this.start.push(b),this.index.push(0))}else this.index[a]++,this.nextStart=b+d.length}}}class TokenCache{constructor(e,a){this.stream=a,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(o=>new CachedToken)}getActions(e){let a=0,o=null,{parser:c}=e.p,{tokenizers:d}=c,b=c.stateSlot(e.state,3),k=e.curContext?e.curContext.hash:0,$=0;for(let _=0;_<d.length;_++){if((1<<_&b)==0)continue;let j=d[_],_e=this.tokens[_];if(!(o&&!j.fallback)&&((j.contextual||_e.start!=e.pos||_e.mask!=b||_e.context!=k)&&(this.updateCachedToken(_e,j,e),_e.mask=b,_e.context=k),_e.lookAhead>_e.end+25&&($=Math.max(_e.lookAhead,$)),_e.value!=0)){let tt=a;if(_e.extended>-1&&(a=this.addActions(e,_e.extended,_e.end,a)),a=this.addActions(e,_e.value,_e.end,a),!j.extend&&(o=_e,a>tt))break}}for(;this.actions.length>a;)this.actions.pop();return $&&e.setLookAhead($),!o&&e.pos==this.stream.end&&(o=new CachedToken,o.value=e.p.parser.eofTerm,o.start=o.end=e.pos,a=this.addActions(e,o.value,o.end,a)),this.mainToken=o,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let a=new CachedToken,{pos:o,p:c}=e;return a.start=o,a.end=Math.min(o+1,c.stream.end),a.value=o==c.stream.end?c.parser.eofTerm:0,a}updateCachedToken(e,a,o){if(a.token(this.stream.reset(o.pos,e),o),e.value>-1){let{parser:c}=o.p;for(let d=0;d<c.specialized.length;d++)if(c.specialized[d]==e.value){let b=c.specializers[d](this.stream.read(e.start,e.end),o);if(b>=0&&o.p.parser.dialect.allows(b>>1)){(b&1)==0?e.value=b>>1:e.extended=b>>1;break}}}else e.value=0,e.end=Math.min(o.p.stream.end,o.pos+1)}putAction(e,a,o,c){for(let d=0;d<c;d+=3)if(this.actions[d]==e)return c;return this.actions[c++]=e,this.actions[c++]=a,this.actions[c++]=o,c}addActions(e,a,o,c){let{state:d}=e,{parser:b}=e.p,{data:k}=b;for(let $=0;$<2;$++)for(let _=b.stateSlot(d,$?2:1);;_+=3){if(k[_]==65535)if(k[_+1]==1)_=pair(k,_+2);else{c==0&&k[_+1]==2&&(c=this.putAction(pair(k,_+2),a,o,c));break}k[_]==a&&(c=this.putAction(pair(k,_+1),a,o,c))}return c}}var Rec;(function(s){s[s.Distance=5]="Distance",s[s.MaxRemainingPerStep=3]="MaxRemainingPerStep",s[s.MinBufferLengthPrune=500]="MinBufferLengthPrune",s[s.ForceReduceLimit=10]="ForceReduceLimit",s[s.CutDepth=15e3]="CutDepth",s[s.CutTo=9e3]="CutTo"})(Rec||(Rec={}));class Parse{constructor(e,a,o,c){this.parser=e,this.input=a,this.ranges=c,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new InputStream(a,c),this.tokens=new TokenCache(e,this.stream),this.topTerm=e.top[1];let{from:d}=c[0];this.stacks=[Stack.start(this,e.top[0],d)],this.fragments=o.length&&this.stream.end-d>e.bufferLength*4?new FragmentCursor(o,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,a=this.minStackPos,o=this.stacks=[],c,d;for(let b=0;b<e.length;b++){let k=e[b];for(;;){if(this.tokens.mainToken=null,k.pos>a)o.push(k);else{if(this.advanceStack(k,o,e))continue;{c||(c=[],d=[]),c.push(k);let $=this.tokens.getMainToken(k);d.push($.value,$.end)}}break}}if(!o.length){let b=c&&findFinished(c);if(b)return this.stackToTree(b);if(this.parser.strict)throw verbose&&c&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+a);this.recovering||(this.recovering=5)}if(this.recovering&&c){let b=this.stoppedAt!=null&&c[0].pos>this.stoppedAt?c[0]:this.runRecovery(c,d,o);if(b)return this.stackToTree(b.forceAll())}if(this.recovering){let b=this.recovering==1?1:this.recovering*3;if(o.length>b)for(o.sort((k,$)=>$.score-k.score);o.length>b;)o.pop();o.some(k=>k.reducePos>a)&&this.recovering--}else if(o.length>1){e:for(let b=0;b<o.length-1;b++){let k=o[b];for(let $=b+1;$<o.length;$++){let _=o[$];if(k.sameState(_)||k.buffer.length>500&&_.buffer.length>500)if((k.score-_.score||k.buffer.length-_.buffer.length)>0)o.splice($--,1);else{o.splice(b--,1);continue e}}}}this.minStackPos=o[0].pos;for(let b=1;b<o.length;b++)o[b].pos<this.minStackPos&&(this.minStackPos=o[b].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,a,o){let c=e.pos,{parser:d}=this,b=verbose?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&c>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let _=e.curContext&&e.curContext.tracker.strict,j=_?e.curContext.hash:0;for(let _e=this.fragments.nodeAt(c);_e;){let tt=this.parser.nodeSet.types[_e.type.id]==_e.type?d.getGoto(e.state,_e.type.id):-1;if(tt>-1&&_e.length&&(!_||(_e.prop(NodeProp.contextHash)||0)==j))return e.useNode(_e,tt),verbose&&console.log(b+this.stackID(e)+` (via reuse of ${d.getName(_e.type.id)})`),!0;if(!(_e instanceof Tree)||_e.children.length==0||_e.positions[0]>0)break;let it=_e.children[0];if(it instanceof Tree&&_e.positions[0]==0)_e=it;else break}}let k=d.stateSlot(e.state,4);if(k>0)return e.reduce(k),verbose&&console.log(b+this.stackID(e)+` (via always-reduce ${d.getName(k&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let $=this.tokens.getActions(e);for(let _=0;_<$.length;){let j=$[_++],_e=$[_++],tt=$[_++],it=_==$.length||!o,nt=it?e:e.split();if(nt.apply(j,_e,tt),verbose&&console.log(b+this.stackID(nt)+` (via ${(j&65536)==0?"shift":`reduce of ${d.getName(j&65535)}`} for ${d.getName(_e)} @ ${c}${nt==e?"":", split"})`),it)return!0;nt.pos>c?a.push(nt):o.push(nt)}return!1}advanceFully(e,a){let o=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>o)return pushStackDedup(e,a),!0}}runRecovery(e,a,o){let c=null,d=!1;for(let b=0;b<e.length;b++){let k=e[b],$=a[b<<1],_=a[(b<<1)+1],j=verbose?this.stackID(k)+" -> ":"";if(k.deadEnd&&(d||(d=!0,k.restart(),verbose&&console.log(j+this.stackID(k)+" (restarted)"),this.advanceFully(k,o))))continue;let _e=k.split(),tt=j;for(let it=0;_e.forceReduce()&&it<10&&(verbose&&console.log(tt+this.stackID(_e)+" (via force-reduce)"),!this.advanceFully(_e,o));it++)verbose&&(tt=this.stackID(_e)+" -> ");for(let it of k.recoverByInsert($))verbose&&console.log(j+this.stackID(it)+" (via recover-insert)"),this.advanceFully(it,o);this.stream.end>k.pos?(_==k.pos&&(_++,$=0),k.recoverByDelete($,_),verbose&&console.log(j+this.stackID(k)+` (via recover-delete ${this.parser.getName($)})`),pushStackDedup(k,o)):(!c||c.score<k.score)&&(c=k)}return c}stackToTree(e){return e.close(),Tree.build({buffer:StackBufferCursor.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let a=(stackIDs||(stackIDs=new WeakMap)).get(e);return a||stackIDs.set(e,a=String.fromCodePoint(this.nextStackID++)),a+e}}function pushStackDedup(s,e){for(let a=0;a<e.length;a++){let o=e[a];if(o.pos==s.pos&&o.sameState(s)){e[a].score<s.score&&(e[a]=s);return}}e.push(s)}class Dialect{constructor(e,a,o){this.source=e,this.flags=a,this.disabled=o}allows(e){return!this.disabled||this.disabled[e]==0}}const id=s=>s;class ContextTracker{constructor(e){this.start=e.start,this.shift=e.shift||id,this.reduce=e.reduce||id,this.reuse=e.reuse||id,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class LRParser extends Parser$1{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (${14})`);let a=e.nodeNames.split(" ");this.minRepeatTerm=a.length;for(let k=0;k<e.repeatNodeCount;k++)a.push("");let o=Object.keys(e.topRules).map(k=>e.topRules[k][1]),c=[];for(let k=0;k<a.length;k++)c.push([]);function d(k,$,_){c[k].push([$,$.deserialize(String(_))])}if(e.nodeProps)for(let k of e.nodeProps){let $=k[0];typeof $=="string"&&($=NodeProp[$]);for(let _=1;_<k.length;){let j=k[_++];if(j>=0)d(j,$,k[_++]);else{let _e=k[_+-j];for(let tt=-j;tt>0;tt--)d(k[_++],$,_e);_++}}}this.nodeSet=new NodeSet(a.map((k,$)=>NodeType.define({name:$>=this.minRepeatTerm?void 0:k,id:$,props:c[$],top:o.indexOf($)>-1,error:$==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf($)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let b=decodeArray(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let k=0;k<this.specializerSpecs.length;k++)this.specialized[k]=this.specializerSpecs[k].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(e.states,Uint32Array),this.data=decodeArray(e.stateData),this.goto=decodeArray(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(k=>typeof k=="number"?new TokenGroup(b,k):k),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,a,o){let c=new Parse(this,e,a,o);for(let d of this.wrappers)c=d(c,e,a,o);return c}getGoto(e,a,o=!1){let c=this.goto;if(a>=c[0])return-1;for(let d=c[a+1];;){let b=c[d++],k=b&1,$=c[d++];if(k&&o)return $;for(let _=d+(b>>1);d<_;d++)if(c[d]==e)return $;if(k)return-1}}hasAction(e,a){let o=this.data;for(let c=0;c<2;c++)for(let d=this.stateSlot(e,c?2:1),b;;d+=3){if((b=o[d])==65535)if(o[d+1]==1)b=o[d=pair(o,d+2)];else{if(o[d+1]==2)return pair(o,d+2);break}if(b==a||b==0)return pair(o,d+1)}return 0}stateSlot(e,a){return this.states[e*6+a]}stateFlag(e,a){return(this.stateSlot(e,0)&a)>0}validAction(e,a){if(a==this.stateSlot(e,4))return!0;for(let o=this.stateSlot(e,1);;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=pair(this.data,o+2);else return!1;if(a==pair(this.data,o+1))return!0}}nextStates(e){let a=[];for(let o=this.stateSlot(e,1);;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=pair(this.data,o+2);else break;if((this.data[o+2]&1)==0){let c=this.data[o+1];a.some((d,b)=>b&1&&d==c)||a.push(this.data[o],c)}}return a}overrides(e,a){let o=findOffset(this.data,this.tokenPrecTable,a);return o<0||findOffset(this.data,this.tokenPrecTable,e)<o}configure(e){let a=Object.assign(Object.create(LRParser.prototype),this);if(e.props&&(a.nodeSet=this.nodeSet.extend(...e.props)),e.top){let o=this.topRules[e.top];if(!o)throw new RangeError(`Invalid top rule name ${e.top}`);a.top=o}return e.tokenizers&&(a.tokenizers=this.tokenizers.map(o=>{let c=e.tokenizers.find(d=>d.from==o);return c?c.to:o})),e.specializers&&(a.specializers=this.specializers.slice(),a.specializerSpecs=this.specializerSpecs.map((o,c)=>{let d=e.specializers.find(k=>k.from==o.external);if(!d)return o;let b=Object.assign(Object.assign({},o),{external:d.to});return a.specializers[c]=getSpecializer(b),b})),e.contextTracker&&(a.context=e.contextTracker),e.dialect&&(a.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(a.strict=e.strict),e.wrap&&(a.wrappers=a.wrappers.concat(e.wrap)),e.bufferLength!=null&&(a.bufferLength=e.bufferLength),a}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let a=this.dynamicPrecedences;return a==null?0:a[e]||0}parseDialect(e){let a=Object.keys(this.dialects),o=a.map(()=>!1);if(e)for(let d of e.split(" ")){let b=a.indexOf(d);b>=0&&(o[b]=!0)}let c=null;for(let d=0;d<a.length;d++)if(!o[d])for(let b=this.dialects[a[d]],k;(k=this.data[b++])!=65535;)(c||(c=new Uint8Array(this.maxTerm+1)))[k]=1;return new Dialect(e,o,c)}static deserialize(e){return new LRParser(e)}}function pair(s,e){return s[e]|s[e+1]<<16}function findOffset(s,e,a){for(let o=e,c;(c=s[o])!=65535;o++)if(c==a)return o-e;return-1}function findFinished(s){let e=null;for(let a of s){let o=a.p.stoppedAt;(a.pos==a.p.stream.end||o!=null&&a.pos>o)&&a.p.parser.stateFlag(a.state,2)&&(!e||e.score<a.score)&&(e=a)}return e}function getSpecializer(s){if(s.external){let e=s.extend?1:0;return(a,o)=>s.external(a,o)<<1|e}return s.get}const TSExtends=1,noSemi=281,incdec=2,incdecPrefix=3,templateContent=282,InterpolationStart=4,templateEnd=283,insertSemi=284,spaces=286,newline=287,LineComment=5,BlockComment=6,Dialect_ts=1,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,braceL=123,semicolon=59,slash=47,star=42,plus=43,minus=45,dollar=36,backtick=96,backslash=92,trackNewline=new ContextTracker({start:!1,shift(s,e){return e==LineComment||e==BlockComment||e==spaces?s:e==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((s,e)=>{let{next:a}=s;(a==braceR||a==-1||e.context)&&e.canShift(insertSemi)&&s.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((s,e)=>{let{next:a}=s,o;space.indexOf(a)>-1||a==slash&&((o=s.peek(1))==slash||o==star)||a!=braceR&&a!=semicolon&&a!=-1&&!e.context&&e.canShift(noSemi)&&s.acceptToken(noSemi)},{contextual:!0}),incdecToken=new ExternalTokenizer((s,e)=>{let{next:a}=s;if((a==plus||a==minus)&&(s.advance(),a==s.next)){s.advance();let o=!e.context&&e.canShift(incdec);s.acceptToken(o?incdec:incdecPrefix)}},{contextual:!0}),template=new ExternalTokenizer(s=>{for(let e=!1,a=0;;a++){let{next:o}=s;if(o<0){a&&s.acceptToken(templateContent);break}else if(o==backtick){a?s.acceptToken(templateContent):s.acceptToken(templateEnd,1);break}else if(o==braceL&&e){a==1?s.acceptToken(InterpolationStart,1):s.acceptToken(templateContent,-1);break}else if(o==10&&a){s.advance(),s.acceptToken(templateContent);break}else o==backslash&&s.advance();e=o==dollar,s.advance()}}),tsExtends=new ExternalTokenizer((s,e)=>{if(!(s.next!=101||!e.dialectEnabled(Dialect_ts))){s.advance();for(let a=0;a<6;a++){if(s.next!="xtends".charCodeAt(a))return;s.advance()}s.next>=57&&s.next<=65||s.next>=48&&s.next<=90||s.next==95||s.next>=97&&s.next<=122||s.next>160||s.acceptToken(TSExtends)}}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof":tags.operatorKeyword,"let var const function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger as new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,LineComment:tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName}),spec_identifier={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:48,true:56,false:56,void:66,typeof:70,null:86,super:88,new:122,await:139,yield:141,delete:142,class:152,extends:154,public:197,private:197,protected:197,readonly:199,instanceof:220,in:222,const:224,import:256,keyof:307,unique:311,infer:317,is:351,abstract:371,implements:373,type:375,let:378,var:380,interface:387,enum:391,namespace:397,module:399,declare:403,global:407,for:428,of:437,while:440,with:444,do:448,if:452,else:454,switch:458,case:464,try:470,catch:474,finally:478,return:482,throw:486,break:490,continue:494,debugger:498},spec_word={__proto__:null,async:109,get:111,set:113,public:161,private:161,protected:161,static:163,abstract:165,override:167,readonly:173,new:355},spec_LessThan={__proto__:null,"<":129},parser=LRParser.deserialize({version:14,states:"$8SO`QdOOO'QQ(C|O'#ChO'XOWO'#DVO)dQdO'#D]O)tQdO'#DhO){QdO'#DrO-xQdO'#DxOOQO'#E]'#E]O.]Q`O'#E[O.bQ`O'#E[OOQ(C['#Ef'#EfO0aQ(C|O'#ItO2wQ(C|O'#IuO3eQ`O'#EzO3jQ!bO'#FaOOQ(C['#FS'#FSO3rO#tO'#FSO4QQ&jO'#FhO5bQ`O'#FgOOQ(C['#Iu'#IuOOQ(CW'#It'#ItOOQS'#J^'#J^O5gQ`O'#HpO5lQ(ChO'#HqOOQS'#Ih'#IhOOQS'#Hr'#HrQ`QdOOO){QdO'#DjO5tQ`O'#G[O5yQ&jO'#CmO6XQ`O'#EZO6dQ`O'#EgO6iQ,UO'#FRO7TQ`O'#G[O7YQ`O'#G`O7eQ`O'#G`O7sQ`O'#GcO7sQ`O'#GdO7sQ`O'#GfO5tQ`O'#GiO8dQ`O'#GlO9rQ`O'#CdO:SQ`O'#GyO:[Q`O'#HPO:[Q`O'#HRO`QdO'#HTO:[Q`O'#HVO:[Q`O'#HYO:aQ`O'#H`O:fQ(CjO'#HfO){QdO'#HhO:qQ(CjO'#HjO:|Q(CjO'#HlO5lQ(ChO'#HnO){QdO'#DWOOOW'#Ht'#HtO;XOWO,59qOOQ(C[,59q,59qO=jQtO'#ChO=tQdO'#HuO>XQ`O'#IvO@WQtO'#IvO'dQdO'#IvO@_Q`O,59wO@uQ7[O'#DbOAnQ`O'#E]OA{Q`O'#JROBWQ`O'#JQOBWQ`O'#JQOB`Q`O,5:yOBeQ`O'#JPOBlQaO'#DyO5yQ&jO'#EZOBzQ`O'#EZOCVQpO'#FROOQ(C[,5:S,5:SOC_QdO,5:SOE]Q(C|O,5:^OEyQ`O,5:dOFdQ(ChO'#JOO7YQ`O'#I}OFkQ`O'#I}OFsQ`O,5:xOFxQ`O'#I}OGWQdO,5:vOIWQ&jO'#EWOJeQ`O,5:vOKwQ&jO'#DlOLOQdO'#DqOLYQ7[O,5;PO){QdO,5;POOQS'#Er'#ErOOQS'#Et'#EtO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;RO){QdO,5;ROOQS'#Ex'#ExOLbQdO,5;cOOQ(C[,5;h,5;hOOQ(C[,5;i,5;iONbQ`O,5;iOOQ(C[,5;j,5;jO){QdO'#IPONgQ(ChO,5<TO! RQ&jO,5;RO){QdO,5;fO! kQ!bO'#JVO! YQ!bO'#JVO! rQ!bO'#JVO!!TQ!bO,5;qOOOO,5;{,5;{O!!cQdO'#FcOOOO'#IO'#IOO3rO#tO,5;nO!!jQ!bO'#FeOOQ(C[,5;n,5;nO!#WQ,VO'#CrOOQ(C]'#Cu'#CuO!#kQ`O'#CuO!#pOWO'#CyO!$^Q,VO,5<QO!$eQ`O,5<SO!%tQ&jO'#FrO!&RQ`O'#FsO!&WQ`O'#FsO!&]Q&jO'#FwO!'[Q7[O'#F{O!'}Q,VO'#IqOOQ(C]'#Iq'#IqO!(XQaO'#IpO!(gQ`O'#IoO!(oQ`O'#CqOOQ(C]'#Cs'#CsOOQ(C]'#C|'#C|O!(wQ`O'#DOOJjQ&jO'#FjOJjQ&jO'#FlO!(|Q`O'#FnO!)RQ`O'#FoO!&WQ`O'#FuOJjQ&jO'#FzO!)WQ`O'#E^O!)oQ`O,5<RO`QdO,5>[OOQS'#Ik'#IkOOQS,5>],5>]OOQS-E;p-E;pO!+kQ(C|O,5:UOOQ(CX'#Cp'#CpO!,[Q&kO,5<vOOQO'#Cf'#CfO!,mQ(ChO'#IlO5bQ`O'#IlO:aQ`O,59XO!-OQ!bO,59XO!-WQ&jO,59XO5yQ&jO,59XO!-cQ`O,5:vO!-kQ`O'#GxO!-yQ`O'#JbO){QdO,5;kO!.RQ7[O,5;mO!.WQ`O,5=cO!.]Q`O,5=cO!.bQ`O,5=cO5lQ(ChO,5=cO5tQ`O,5<vO!.pQ`O'#E_O!/UQ7[O'#E`OOQ(CW'#JP'#JPO!/gQ(ChO'#J_O5lQ(ChO,5<zO7sQ`O,5=QOOQP'#Cr'#CrO!/rQ!bO,5<}O!/zQ!cO,5=OO!0VQ`O,5=QO!0[QpO,5=TO:aQ`O'#GnO5tQ`O'#GpO!0dQ`O'#GpO5yQ&jO'#GsO!0iQ`O'#GsOOQS,5=W,5=WO!0nQ`O'#GtO!0vQ`O'#CmO!0{Q`O,59OO!1VQ`O,59OO!3XQdO,59OOOQS,59O,59OO!3fQ(ChO,59OO){QdO,59OO!3qQdO'#G{OOQS'#G|'#G|OOQS'#G}'#G}O`QdO,5=eO!4RQ`O,5=eO){QdO'#DxO`QdO,5=kO`QdO,5=mO!4WQ`O,5=oO`QdO,5=qO!4]Q`O,5=tO!4bQdO,5=zOOQS,5>Q,5>QO){QdO,5>QO5lQ(ChO,5>SOOQS,5>U,5>UO!8cQ`O,5>UOOQS,5>W,5>WO!8cQ`O,5>WOOQS,5>Y,5>YO!8hQpO,59rOOOW-E;r-E;rOOQ(C[1G/]1G/]O!8mQtO,5>aO'dQdO,5>aOOQO,5>f,5>fO!8wQdO'#HuOOQO-E;s-E;sO!9UQ`O,5?bO!9^QtO,5?bO!9eQ`O,5?lOOQ(C[1G/c1G/cO!9mQ!bO'#DTOOQO'#Ix'#IxO){QdO'#IxO!:[Q!bO'#IxO!:yQ!bO'#DcO!;[Q7[O'#DcO!=gQdO'#DcO!=nQ`O'#IwO!=vQ`O,59|O!={Q`O'#EaO!>ZQ`O'#JSO!>cQ`O,5:zO!>yQ7[O'#DcO){QdO,5?mO!?TQ`O'#HzOOQO-E;x-E;xO!9eQ`O,5?lOOQ(CW1G0e1G0eO!@aQ7[O'#D|OOQ(C[,5:e,5:eO){QdO,5:eOIWQ&jO,5:eO!@hQaO,5:eO:aQ`O,5:uO!-OQ!bO,5:uO!-WQ&jO,5:uO5yQ&jO,5:uOOQ(C[1G/n1G/nOOQ(C[1G0O1G0OOOQ(CW'#EV'#EVO){QdO,5?jO!@sQ(ChO,5?jO!AUQ(ChO,5?jO!A]Q`O,5?iO!AeQ`O'#H|O!A]Q`O,5?iOOQ(CW1G0d1G0dO7YQ`O,5?iOOQ(C[1G0b1G0bO!BPQ(C|O1G0bO!CRQ(CyO,5:rOOQ(C]'#Fq'#FqO!CoQ(C}O'#IqOGWQdO1G0bO!EqQ,VO'#IyO!E{Q`O,5:WO!FQQtO'#IzO){QdO'#IzO!F[Q`O,5:]OOQ(C]'#DT'#DTOOQ(C[1G0k1G0kO!FaQ`O1G0kO!HrQ(C|O1G0mO!HyQ(C|O1G0mO!K^Q(C|O1G0mO!KeQ(C|O1G0mO!MlQ(C|O1G0mO!NPQ(C|O1G0mO#!pQ(C|O1G0mO#!wQ(C|O1G0mO#%[Q(C|O1G0mO#%cQ(C|O1G0mO#'WQ(C|O1G0mO#*QQMlO'#ChO#+{QMlO1G0}O#-vQMlO'#IuOOQ(C[1G1T1G1TO#.ZQ(C|O,5>kOOQ(CW-E;}-E;}O#.zQ(C}O1G0mOOQ(C[1G0m1G0mO#1PQ(C|O1G1QO#1pQ!bO,5;sO#1uQ!bO,5;tO#1zQ!bO'#F[O#2`Q`O'#FZOOQO'#JW'#JWOOQO'#H}'#H}O#2eQ!bO1G1]OOQ(C[1G1]1G1]OOOO1G1f1G1fO#2sQMlO'#ItO#2}Q`O,5;}OLbQdO,5;}OOOO-E;|-E;|OOQ(C[1G1Y1G1YOOQ(C[,5<P,5<PO#3SQ!bO,5<POOQ(C],59a,59aOIWQ&jO'#C{OOOW'#Hs'#HsO#3XOWO,59eOOQ(C],59e,59eO){QdO1G1lO!)RQ`O'#IRO#3dQ`O,5<eOOQ(C],5<b,5<bOOQO'#GV'#GVOJjQ&jO,5<pOOQO'#GX'#GXOJjQ&jO,5<rOIWQ&jO,5<tOOQO1G1n1G1nO#3oQqO'#CpO#4SQqO,5<^O#4ZQ`O'#JZO5tQ`O'#JZO#4iQ`O,5<`OJjQ&jO,5<_O#4nQ`O'#FtO#4yQ`O,5<_O#5OQqO'#FqO#5]QqO'#J[O#5gQ`O'#J[OIWQ&jO'#J[O#5lQ`O,5<cOOQ(CW'#Dg'#DgO#5qQ!bO'#F|O!'VQ7[O'#F|O!'VQ7[O'#GOO#6SQ`O'#GPO!&WQ`O'#GSO#6XQ(ChO'#ITO#6dQ7[O,5<gOOQ(C],5<g,5<gO#6kQ7[O'#F|O#6yQ7[O'#F}O#7RQ7[O'#F}OOQ(C],5<u,5<uOJjQ&jO,5?[OJjQ&jO,5?[O#7WQ`O'#IUO#7cQ`O,5?ZO#7kQ`O,59]OOQ(C]'#Ch'#ChO#8[Q,VO,59jOOQ(C],59j,59jO#8}Q,VO,5<UO#9pQ,VO,5<WO#9zQ`O,5<YOOQ(C],5<Z,5<ZO#:PQ`O,5<aO#:UQ,VO,5<fOGWQdO1G1mO#:fQ`O1G1mOOQS1G3v1G3vOOQ(C[1G/p1G/pONbQ`O1G/pOOQS1G2b1G2bOIWQ&jO1G2bO){QdO1G2bOIWQ&jO1G2bO#:kQaO1G2bO#<QQ&jO'#EWOOQ(CW,5?W,5?WO#<[Q(ChO,5?WOOQS1G.s1G.sO:aQ`O1G.sO!-OQ!bO1G.sO!-WQ&jO1G.sO#<mQ`O1G0bO#<rQ`O'#ChO#<}Q`O'#JcO#=VQ`O,5=dO#=[Q`O'#JcO#=aQ`O'#JcO#=iQ`O'#I^O#=wQ`O,5?|O#>PQtO1G1VOOQ(C[1G1X1G1XO5tQ`O1G2}O#>WQ`O1G2}O#>]Q`O1G2}O#>bQ`O1G2}OOQS1G2}1G2}O#>gQ&kO1G2bO7YQ`O'#JQO7YQ`O'#EaO7YQ`O'#IWO#>xQ(ChO,5?yOOQS1G2f1G2fO!0VQ`O1G2lOIWQ&jO1G2iO#?TQ`O1G2iOOQS1G2j1G2jOIWQ&jO1G2jO#?YQaO1G2jO#?bQ7[O'#GhOOQS1G2l1G2lO!'VQ7[O'#IYO!0[QpO1G2oOOQS1G2o1G2oOOQS,5=Y,5=YO#?jQ&kO,5=[O5tQ`O,5=[O#6SQ`O,5=_O5bQ`O,5=_O!-OQ!bO,5=_O!-WQ&jO,5=_O5yQ&jO,5=_O#?{Q`O'#JaO#@WQ`O,5=`OOQS1G.j1G.jO#@]Q(ChO1G.jO#@hQ`O1G.jO#@mQ`O1G.jO5lQ(ChO1G.jO#@uQtO,5@OO#APQ`O,5@OO#A[QdO,5=gO#AcQ`O,5=gO7YQ`O,5@OOOQS1G3P1G3PO`QdO1G3POOQS1G3V1G3VOOQS1G3X1G3XO:[Q`O1G3ZO#AhQdO1G3]O#EcQdO'#H[OOQS1G3`1G3`O#EpQ`O'#HbO:aQ`O'#HdOOQS1G3f1G3fO#ExQdO1G3fO5lQ(ChO1G3lOOQS1G3n1G3nOOQ(CW'#Fx'#FxO5lQ(ChO1G3pO5lQ(ChO1G3rOOOW1G/^1G/^O#IvQpO,5<TO#JOQtO1G3{OOQO1G4Q1G4QO){QdO,5>aO#JYQ`O1G4|O#JbQ`O1G5WO#JjQ`O,5?dOLbQdO,5:{O7YQ`O,5:{O:aQ`O,59}OLbQdO,59}O!-OQ!bO,59}O#JoQMlO,59}OOQO,5:{,5:{O#JyQ7[O'#HvO#KaQ`O,5?cOOQ(C[1G/h1G/hO#KiQ7[O'#H{O#K}Q`O,5?nOOQ(CW1G0f1G0fO!;[Q7[O,59}O#LVQtO1G5XO7YQ`O,5>fOOQ(CW'#ES'#ESO#LaQ(DjO'#ETO!@XQ7[O'#D}OOQO'#Hy'#HyO#L{Q7[O,5:hOOQ(C[,5:h,5:hO#MSQ7[O'#D}O#MeQ7[O'#D}O#MlQ7[O'#EYO#MoQ7[O'#ETO#M|Q7[O'#ETO!@XQ7[O'#ETO#NaQ`O1G0PO#NfQqO1G0POOQ(C[1G0P1G0PO){QdO1G0POIWQ&jO1G0POOQ(C[1G0a1G0aO:aQ`O1G0aO!-OQ!bO1G0aO!-WQ&jO1G0aO#NmQ(C|O1G5UO){QdO1G5UO#N}Q(ChO1G5UO$ `Q`O1G5TO7YQ`O,5>hOOQO,5>h,5>hO$ hQ`O,5>hOOQO-E;z-E;zO$ `Q`O1G5TO$ vQ(C}O,59jO$#xQ(C}O,5<UO$%}Q(C}O,5<WO$(SQ(C}O,5<fOOQ(C[7+%|7+%|O$*_Q(C|O7+%|O$+OQ&jO'#HwO$+YQ`O,5?eOOQ(C]1G/r1G/rO$+bQdO'#HxO$+oQ`O,5?fO$+wQtO,5?fOOQ(C[1G/w1G/wOOQ(C[7+&V7+&VO$,RQMlO,5:^O){QdO7+&iO$,]QMlO,5:UOOQO1G1_1G1_OOQO1G1`1G1`O$,jQ!LQO,5;vOLbQdO,5;uOOQO-E;{-E;{OOQ(C[7+&w7+&wOOOO7+'Q7+'QOOOO1G1i1G1iO$,uQ`O1G1iOOQ(C[1G1k1G1kO$,zQqO,59gOOOW-E;q-E;qOOQ(C]1G/P1G/PO$-RQ(C|O7+'WOOQ(C],5>m,5>mO$-rQ`O,5>mOOQ(C]1G2P1G2PP$-wQ`O'#IRPOQ(C]-E<P-E<PO$.hQ,VO1G2[O$/ZQ,VO1G2^O$/eQqO1G2`OOQ(C]1G1x1G1xO$/lQ`O'#IQO$/zQ`O,5?uO$/zQ`O,5?uO$0SQ`O,5?uO$0_Q`O,5?uOOQO1G1z1G1zO$0mQ,VO1G1yOJjQ&jO1G1yO$0}Q&jO'#ISO$1_Q`O,5?vOIWQ&jO,5?vO$1gQqO,5?vOOQ(C]1G1}1G1}OOQ(CW,5<h,5<hOOQ(CW,5<i,5<iO$1qQ`O,5<iO#5}Q`O,5<iO!-OQ!bO,5<hO$1vQ`O,5<jOOQ(CW,5<k,5<kO$1qQ`O,5<nOOQO,5>o,5>oOOQO-E<R-E<ROOQ(C]1G2R1G2RO!'VQ7[O,5<hO$2OQ`O,5<iO!'VQ7[O,5<jO!'VQ7[O,5<iO$2ZQ,VO1G4vO$2eQ,VO1G4vOOQO,5>p,5>pOOQO-E<S-E<SOOQP1G.w1G.wO!.RQ7[O,59lO){QdO,59lO$2rQ`O1G1tOJjQ&jO1G1{O$2wQ(C|O7+'XOOQ(C[7+'X7+'XOGWQdO7+'XOOQ(C[7+%[7+%[O$3hQqO'#J]O#NaQ`O7+'|O$3rQ`O7+'|O$3zQqO7+'|OOQS7+'|7+'|OIWQ&jO7+'|O){QdO7+'|OIWQ&jO7+'|O$4UQ(CyO'#ChO$4iQ(CyO,5<lO$5ZQ`O,5<lOOQ(CW1G4r1G4rOOQS7+$_7+$_O:aQ`O7+$_O!-OQ!bO7+$_OGWQdO7+%|O$5`Q`O'#I]O$5qQ`O,5?}OOQO1G3O1G3OO5tQ`O,5?}O$5qQ`O,5?}O$5yQ`O,5?}OOQO,5>x,5>xOOQO-E<[-E<[OOQ(C[7+&q7+&qO$6OQ`O7+(iO5lQ(ChO7+(iO5tQ`O7+(iO$6TQ`O7+(iO$6YQaO7+'|OOQ(CW,5>r,5>rOOQ(CW-E<U-E<UOOQS7+(W7+(WO$6hQ(CyO7+(TOIWQ&jO7+(TO$6rQqO7+(UOOQS7+(U7+(UOIWQ&jO7+(UO$6yQ`O'#J`O$7UQ`O,5=SOOQO,5>t,5>tOOQO-E<W-E<WOOQS7+(Z7+(ZO$8OQ7[O'#GqOOQS1G2v1G2vOIWQ&jO1G2vO){QdO1G2vOIWQ&jO1G2vO$8VQaO1G2vO$8eQ&kO1G2vO5lQ(ChO1G2yO#6SQ`O1G2yO5bQ`O1G2yO!-OQ!bO1G2yO!-WQ&jO1G2yO$8vQ`O'#I[O$9RQ`O,5?{O$9ZQ7[O,5?{OOQ(CW1G2z1G2zOOQS7+$U7+$UO$9cQ`O7+$UO5lQ(ChO7+$UO$9hQ`O7+$UO){QdO1G5jO){QdO1G5kO$9mQdO1G3RO$9tQ`O1G3RO$9yQdO1G3RO$:QQ(ChO1G5jOOQS7+(k7+(kO5lQ(ChO7+(uO`QdO7+(wOOQS'#Jf'#JfOOQS'#I_'#I_O$:[QdO,5=vOOQS,5=v,5=vO){QdO'#H]O$:iQ`O'#H_OOQS,5=|,5=|O7YQ`O,5=|OOQS,5>O,5>OOOQS7+)Q7+)QOOQS7+)W7+)WOOQS7+)[7+)[OOQS7+)^7+)^OOQO1G5O1G5OO$:nQMlO1G0gO$:xQ`O1G0gOOQO1G/i1G/iO$;TQMlO1G/iO:aQ`O1G/iOLbQdO'#DcOOQO,5>b,5>bOOQO-E;t-E;tOOQO,5>g,5>gOOQO-E;y-E;yO!-OQ!bO1G/iO:aQ`O,5:iOOQO,5:o,5:oO){QdO,5:oO$;_Q(ChO,5:oO$;jQ(ChO,5:oO!-OQ!bO,5:iOOQO-E;w-E;wOOQ(C[1G0S1G0SO!@XQ7[O,5:iO$;xQ7[O,5:iO$<ZQ(DjO,5:oO$<uQ7[O,5:iO!@XQ7[O,5:oOOQO,5:t,5:tO$<|Q7[O,5:oO$=ZQ(ChO,5:oOOQ(C[7+%k7+%kO#NaQ`O7+%kO#NfQqO7+%kOOQ(C[7+%{7+%{O:aQ`O7+%{O!-OQ!bO7+%{O$=oQ(C|O7+*pO){QdO7+*pOOQO1G4S1G4SO7YQ`O1G4SO$>PQ`O7+*oO$>XQ(C}O1G2[O$@^Q(C}O1G2^O$BcQ(C}O1G1yO$DnQ,VO,5>cOOQO-E;u-E;uO$DxQtO,5>dO){QdO,5>dOOQO-E;v-E;vO$ESQ`O1G5QO$E[QMlO1G0bO$GcQMlO1G0mO$GjQMlO1G0mO$IkQMlO1G0mO$IrQMlO1G0mO$KgQMlO1G0mO$KzQMlO1G0mO$NXQMlO1G0mO$N`QMlO1G0mO%!aQMlO1G0mO%!hQMlO1G0mO%$]QMlO1G0mO%$pQ(C|O<<JTO%%rQMmO1G0mO%'|QMmO'#IqO%)iQMlO1G1QOLbQdO'#F^OOQO'#JX'#JXOOQO1G1b1G1bO%)vQ`O1G1aO%){QMlO,5>kOOOO7+'T7+'TOOOW1G/R1G/ROOQ(C]1G4X1G4XOJjQ&jO7+'zO%*VQ`O,5>lO5tQ`O,5>lOOQO-E<O-E<OO%*eQ`O1G5aO%*eQ`O1G5aO%*mQ`O1G5aO%*xQ,VO7+'eO%+YQqO,5>nO%+dQ`O,5>nOIWQ&jO,5>nOOQO-E<Q-E<QO%+iQqO1G5bO%+sQ`O1G5bOOQ(CW1G2T1G2TO$1qQ`O1G2TOOQ(CW1G2S1G2SO%+{Q`O1G2UOIWQ&jO1G2UOOQ(CW1G2Y1G2YO!-OQ!bO1G2SO#5}Q`O1G2TO%,QQ`O1G2UO%,YQ`O1G2TOJjQ&jO7+*bOOQ(C]1G/W1G/WO%,eQ`O1G/WOOQ(C]7+'`7+'`O%,jQ,VO7+'gO%,zQ(C|O<<JsOOQ(C[<<Js<<JsOIWQ&jO'#IVO%-kQ`O,5?wOOQS<<Kh<<KhOIWQ&jO<<KhO#NaQ`O<<KhO%-sQ`O<<KhO%-{QqO<<KhOIWQ&jO1G2WOOQS<<Gy<<GyO:aQ`O<<GyO%.VQ(C|O<<IhOOQ(C[<<Ih<<IhOOQO,5>w,5>wO%.vQ`O,5>wO%.{Q`O,5>wOOQO-E<Z-E<ZO%/TQ`O1G5iO%/TQ`O1G5iO5tQ`O1G5iO%/]Q`O<<LTOOQS<<LT<<LTO%/bQ`O<<LTO5lQ(ChO<<LTO){QdO<<KhOIWQ&jO<<KhOOQS<<Ko<<KoO$6hQ(CyO<<KoOOQS<<Kp<<KpO$6rQqO<<KpO%/gQ7[O'#IXO%/rQ`O,5?zOLbQdO,5?zOOQS1G2n1G2nO#LaQ(DjO'#ETO!@XQ7[O'#GrOOQO'#IZ'#IZO%/zQ7[O,5=]OOQS,5=],5=]O%0RQ7[O'#ETO%0^Q7[O'#ETO%0uQ7[O'#ETO%1PQ7[O'#GrO%1bQ`O7+(bO%1gQ`O7+(bO%1oQqO7+(bOOQS7+(b7+(bOIWQ&jO7+(bO){QdO7+(bOIWQ&jO7+(bO%1yQaO7+(bOOQS7+(e7+(eO5lQ(ChO7+(eO#6SQ`O7+(eO5bQ`O7+(eO!-OQ!bO7+(eO%2XQ`O,5>vOOQO-E<Y-E<YOOQO'#Gu'#GuO%2dQ`O1G5gO5lQ(ChO<<GpOOQS<<Gp<<GpO%2lQ`O<<GpO%2qQ`O7++UO%2vQ`O7++VOOQS7+(m7+(mO%2{Q`O7+(mO%3QQdO7+(mO%3XQ`O7+(mO){QdO7++UO){QdO7++VOOQS<<La<<LaOOQS<<Lc<<LcOOQS-E<]-E<]OOQS1G3b1G3bO%3^Q`O,5=wOOQS,5=y,5=yO%3cQ`O1G3hOLbQdO7+&ROOQO7+%T7+%TO%3hQMlO1G5XO:aQ`O7+%TOOQO1G0T1G0TO%3rQ(C|O1G0ZOOQO1G0Z1G0ZO){QdO1G0ZO%3|Q(ChO1G0ZO:aQ`O1G0TO!-OQ!bO1G0TO!@XQ7[O1G0TO%4XQ(ChO1G0ZO%4gQ7[O1G0TO%4xQ(ChO1G0ZO%5^Q(DjO1G0ZO%5hQ7[O1G0TO!@XQ7[O1G0ZOOQ(C[<<IV<<IVOOQ(C[<<Ig<<IgO:aQ`O<<IgO%5oQ(C|O<<N[OOQO7+)n7+)nO%6PQ(C}O7+'eO%8[Q(C}O7+'gO%:gQtO1G4OO%:qQMlO7+%|O%;gQMmO,59jO%=hQMmO,5<UO%?lQMmO,5<WO%A[QMmO,5<fO%B}QMlO7+'WO%C[QMlO7+'XO%CiQ`O,5;xOOQO7+&{7+&{O%CnQ,VO<<KfOOQO1G4W1G4WO%CuQ`O1G4WO%DQQ`O1G4WO%D`Q`O7+*{O%D`Q`O7+*{OIWQ&jO1G4YO%DhQqO1G4YO%DrQ`O7+*|OOQ(CW7+'o7+'oO$1qQ`O7+'pO%DzQqO7+'pOOQ(CW7+'n7+'nO$1qQ`O7+'oO%ERQ`O7+'pOIWQ&jO7+'pO#5}Q`O7+'oO%EWQ,VO<<M|OOQ(C]7+$r7+$rO%EbQqO,5>qOOQO-E<T-E<TO#NaQ`OANASOOQSANASANASOIWQ&jOANASO%ElQ(CyO7+'rOOQSAN=eAN=eO5tQ`O1G4cOOQO1G4c1G4cO%E|Q`O1G4cO%FRQ`O7++TO%FRQ`O7++TO5lQ(ChOANAoO%FZQ`OANAoOOQSANAoANAoO%F`Q`OANASO%FhQqOANASOOQSANAZANAZOOQSANA[ANA[O%FrQ`O,5>sOOQO-E<V-E<VO%F}QMlO1G5fO#6SQ`O,5=^O5bQ`O,5=^O!-OQ!bO,5=^OOQO-E<X-E<XOOQS1G2w1G2wO$<ZQ(DjO,5:oO!@XQ7[O,5=^O%GXQ7[O,5=^O%GjQ7[O,5:oOOQS<<K|<<K|OIWQ&jO<<K|O%1bQ`O<<K|O%GtQ`O<<K|O%G|QqO<<K|O){QdO<<K|OIWQ&jO<<K|OOQS<<LP<<LPO5lQ(ChO<<LPO#6SQ`O<<LPO5bQ`O<<LPO%HWQ7[O1G4bO%H`Q`O7++ROOQSAN=[AN=[O5lQ(ChOAN=[OOQS<<Np<<NpOOQS<<Nq<<NqOOQS<<LX<<LXO%HhQ`O<<LXO%HmQdO<<LXO%HtQ`O<<NpO%HyQ`O<<NqOOQS1G3c1G3cO:aQ`O7+)SO%IOQMlO<<ImOOQO<<Ho<<HoOOQO7+%u7+%uO%3rQ(C|O7+%uO){QdO7+%uOOQO7+%o7+%oO:aQ`O7+%oO!-OQ!bO7+%oO%IYQ(ChO7+%uO!@XQ7[O7+%oO%IeQ(ChO7+%uO%IsQ7[O7+%oO%JUQ(ChO7+%uOOQ(C[AN?RAN?RO%JjQMlO<<JTO%JwQMmO1G1yO%MOQMmO1G2[O& SQMmO1G2^O&!rQMlO<<JsO&#PQMlO<<IhOOQO1G1d1G1dOJjQ&jOANAQOOQO7+)r7+)rO&#^Q`O7+)rO&#iQ`O<<NgO&#qQqO7+)tOOQ(CW<<K[<<K[O$1qQ`O<<K[OOQ(CW<<KZ<<KZO&#{QqO<<K[O$1qQ`O<<KZOOQSG26nG26nO#NaQ`OG26nOOQO7+)}7+)}O5tQ`O7+)}O&$SQ`O<<NoOOQSG27ZG27ZO5lQ(ChOG27ZOIWQ&jOG26nOLbQdO1G4_O&$[Q`O7++QO5lQ(ChO1G2xO#6SQ`O1G2xO5bQ`O1G2xO!-OQ!bO1G2xO!@XQ7[O1G2xO%5^Q(DjO1G0ZO&$dQ7[O1G2xO%1bQ`OANAhOOQSANAhANAhOIWQ&jOANAhO&$uQ`OANAhO&$}QqOANAhOOQSANAkANAkO5lQ(ChOANAkO#6SQ`OANAkOOQO'#Gv'#GvOOQO7+)|7+)|OOQSG22vG22vOOQSANAsANAsO&%XQ`OANAsOOQSAND[AND[OOQSAND]AND]OOQS<<Ln<<LnOOQO<<Ia<<IaO%3rQ(C|O<<IaOOQO<<IZ<<IZO:aQ`O<<IZO){QdO<<IaO!-OQ!bO<<IZO&%^Q(ChO<<IaO!@XQ7[O<<IZO&%iQ(ChO<<IaO&%wQMmO7+'eO&'jQMmO7+'gO&)]Q,VOG26lOOQO<<M^<<M^OOQ(CWAN@vAN@vO$1qQ`OAN@vOOQ(CWAN@uAN@uOOQSLD,YLD,YOOQO<<Mi<<MiOOQSLD,uLD,uO#NaQ`OLD,YO&)mQMlO7+)yOOQO7+(d7+(dO5lQ(ChO7+(dO#6SQ`O7+(dO5bQ`O7+(dO!-OQ!bO7+(dO!@XQ7[O7+(dOOQSG27SG27SO%1bQ`OG27SOIWQ&jOG27SOOQSG27VG27VO5lQ(ChOG27VOOQSG27_G27_OOQOAN>{AN>{OOQOAN>uAN>uO%3rQ(C|OAN>{O:aQ`OAN>uO){QdOAN>{O!-OQ!bOAN>uO&)wQ(ChOAN>{O&*SQ(C}OG26lOOQ(CWG26bG26bOOQS!$( t!$( tOOQO<<LO<<LOO5lQ(ChO<<LOO#6SQ`O<<LOO5bQ`O<<LOO!-OQ!bO<<LOOOQSLD,nLD,nO%1bQ`OLD,nOOQSLD,qLD,qOOQOG24gG24gOOQOG24aG24aO%3rQ(C|OG24gO:aQ`OG24aO){QdOG24gO&,pQ!LRO,5:rO&-gQ$ITO'#IqOOQOANAjANAjO5lQ(ChOANAjO#6SQ`OANAjO5bQ`OANAjOOQS!$(!Y!$(!YOOQOLD*RLD*ROOQOLD){LD){O%3rQ(C|OLD*RO&.ZQMmOG26lO&/|Q!LRO,59jO&0pQ!LRO,5<UO&1dQ!LRO,5<WO&2WQ!LRO,5<fOOQOG27UG27UO5lQ(ChOG27UO#6SQ`OG27UOOQO!$'Mm!$'MmO&2}Q!LRO1G2[O&3qQ!LRO1G2^O&4eQ!LRO1G1yOOQOLD,pLD,pO5lQ(ChOLD,pO&5[Q!LRO7+'eO&6RQ!LRO7+'gOOQO!$(![!$(![O&6xQ!LROG26lOLbQdO'#DrO&7oQtO'#ItOLbQdO'#DjO&7vQ(C|O'#ChO&8aQtO'#ChO&8qQdO,5:vO&:qQ&jO'#EWOLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO,5;ROLbQdO'#IPO&<OQ`O,5<TO&=eQ&jO,5;ROLbQdO,5;fO!(wQ`O'#DOO!(wQ`O'#DOO!(wQ`O'#DOOIWQ&jO'#FjO&:qQ&jO'#FjO&<WQ&jO'#FjOIWQ&jO'#FlO&:qQ&jO'#FlO&<WQ&jO'#FlOIWQ&jO'#FzO&:qQ&jO'#FzO&<WQ&jO'#FzOLbQdO,5?mO&8qQdO1G0bO&=lQMlO'#ChOLbQdO1G1lOIWQ&jO,5<pO&:qQ&jO,5<pO&<WQ&jO,5<pOIWQ&jO,5<rO&:qQ&jO,5<rO&<WQ&jO,5<rOIWQ&jO,5<_O&:qQ&jO,5<_O&<WQ&jO,5<_O&8qQdO1G1mOLbQdO7+&iOIWQ&jO1G1yO&:qQ&jO1G1yO&<WQ&jO1G1yOIWQ&jO1G1{O&:qQ&jO1G1{O&<WQ&jO1G1{O&8qQdO7+'XO&8qQdO7+%|O&=vQ`O7+'pOIWQ&jOANAQO&:qQ&jOANAQO&<WQ&jOANAQO&=vQ`O<<K[O&=vQ`OAN@vO&={Q`O'#E[O&>QQ`O'#E[O&>YQ`O'#EzO&>_Q`O'#EgO&>dQ`O'#JRO&>oQ`O'#JPO&>zQ`O,5:vO&?PQ,VO,5<QO&?WQ`O'#FsO&?]Q`O'#FsO&?bQ`O'#FsO&?gQ`O,5<RO&?oQ`O,5:vO&?wQMlO1G0}O&@OQ`O,5<_O&@TQ`O,5<_O&@YQ`O,5<_O&@_Q`O,5<aO&@dQ`O,5<aO&@iQ`O,5<aO&@nQ`O1G1mO&@sQ`O1G0bO&@xQ`O1G2UO&@}Q,VO<<KfO&AUQ,VO<<KfO&A]Q,VO<<KfO&AdQqO7+'pO&AkQ`O7+'pO&ApQqO<<K[O4QQ&jO'#FhO5bQ`O'#FgOBzQ`O'#EZOLbQdO,5;cO!&WQ`O'#FsO!&WQ`O'#FsO!&WQ`O'#FsO!&WQ`O'#FuO!&WQ`O'#FuO!&WQ`O'#FuO&AwQ`O,5<jOJjQ&jO7+'zOJjQ&jO7+'zOJjQ&jO7+'zOIWQ&jO1G2UO&BPQ`O1G2UOIWQ&jO7+'pO!'VQ7[O'#GOO$/eQqO1G2`O$/eQqO1G2`O$/eQqO1G2`O!'VQ7[O,5<jOIWQ&jO,5<tOIWQ&jO,5<tOIWQ&jO,5<t",stateData:"&B}~O'YOS'ZOSTOSUOS~OQTORTOXyO]cO_hObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#dsO#tpO#x^O%PqO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO%axO%nzO%t{O%v|O%x}O%z!OO%}!PO&T!QO&Z!RO&]!SO&_!TO&a!UO&c!VO']PO'fQO'oYO'|aO~OQ[XZ[X_[Xj[Xu[Xv[Xx[X!R[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'W[X'f[X'p[X'w[X'x[X~O!]$lX~P$zOS!WO'U!XO'V!ZO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']![O'fQO'oYO'|aO~O!Q!`O!R!]O!O'jP!O'tP~P'dO!S!mO~P`OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9aO'fQO'oYO'|aO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'fQO'oYO'|aO~O!Q!rO#U!uO#V!rO']9bO!c'qP~P+{O#W!vO~O!]!wO#W!vO~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!R#bO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_'hX'W'hX!c'hX!O'hX!T'hX%Q'hX!]'hX~P.jO!{#eO#o#eOQ'iXZ'iX_'iXj'iXu'iXv'iXx'iX!R'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX~O#c'iX'W'iX!O'iX!c'iXn'iX!T'iX%Q'iX!]'iX~P0zO!{#eO~O#z#fO$R#jO~O!T#kO#x^O$U#lO$W#nO~O]#qOh$QOj#rOk#qOl#qOq$ROs$SOx#yO!T#zO!_$XO!d#vO#V$YO#t$VO$_$TO$a$UO$d$WO']#pO'b$PO'f#sO'a'cP~O!d$ZO~O!]$]O~O_$^O'W$^O~O']$bO~O!d$ZO']$bO'^$dO'b$PO~Oc$jO!d$ZO']$bO~O#c#TO~O]$sOu$oO!T$lO!d$nO%R$rO']$bO'^$dO^(UP~O!n$tO~Ox$uO!T$vO']$bO~Ox$uO!T$vO%Z$zO']$bO~O']${O~O#dsO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO~Ob%UOc%TO!n%RO%P%SO%c%QO~P7xOb%XOcmO!T%WO!nlO#dsO%PqO%TrO%UrO%XuO%ZvO%^wO%_wO%axO~O`%[O!{%_O%R%YO'^$dO~P8wO!d%`O!g%dO~O!d%eO~O!TSO~O_$^O'T%mO'W$^O~O_$^O'T%pO'W$^O~O_$^O'T%rO'W$^O~OS!WO'U!XO'V%vO~OQ[XZ[Xj[Xu[Xv[Xx[X!R[X!RdX!a[X!b[X!d[X!j[X!{[X!{dX#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X~O!O[X!OdX~P;dO!Q%xO!O&iX!O&nX!R&iX!R&nX~P'dO!R%zO!O'jX~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!R%zO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O!O'jX~P>aO!O&PO~Ox&SO!W&^O!X&VO!Y&VO'^$dO~O]&TOk&TO!Q&WO'g&QO!S'kP!S'vP~P@dO!O'sX!R'sX!]'sX!c'sX'p'sX~O!{'sX#W#PX!S'sX~PA]O!{&_O!O'uX!R'uX~O!R&`O!O'tX~O!O&cO~O!{#eO~PA]OP&gO!T&dO!o&fO']$bO~Oc&lO!d$ZO']$bO~Ou$oO!d$nO~O!S&mO~P`Ou!{Ov!{Ox!|O!b!yO!d!zO'fQOQ!faZ!faj!fa!R!fa!a!fa!j!fa#[!fa#]!fa#^!fa#_!fa#`!fa#a!fa#b!fa#c!fa#e!fa#g!fa#i!fa#j!fa'p!fa'w!fa'x!fa~O_!fa'W!fa!O!fa!c!fan!fa!T!fa%Q!fa!]!fa~PCfO!c&nO~O!]!wO!{&pO'p&oO!R'rX_'rX'W'rX~O!c'rX~PFOO!R&tO!c'qX~O!c&vO~Ox$uO!T$vO#V&wO']$bO~OQTORTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9aO'fQO'oYO'|aO~O]#qOh$QOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO']&{O'b$PO'f#sO~O#W&}O~O]#qOh$QOj#rOk#qOl#qOq$ROs$SOx#yO!T#zO!_$XO!d#vO#V$YO#t$VO$_$TO$a$UO$d$WO']&{O'b$PO'f#sO~O'a'mP~PJjO!Q'RO!c'nP~P){O'g'TO'oYO~OQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!T!bO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O']'cO'fQO'oYO'|;^O~O!d!zO~O!R#bO_$]a'W$]a!c$]a!O$]a!T$]a%Q$]a!]$]a~O#d'jO~PIWO!]'lO!T'yX#w'yX#z'yX$R'yX~Ou'mO~P! YOu'mO!T'yX#w'yX#z'yX$R'yX~O!T'oO#w'sO#z'nO$R'tO~O!Q'wO~PLbO#z#fO$R'zO~OP$eXu$eXx$eX!b$eX'w$eX'x$eX~OPfX!RfX!{fX'afX'a$eX~P!!rOk'|O~OS'}O'U(OO'V(QO~OP(ZOu(SOx(TO'w(VO'x(XO~O'a(RO~P!#{O'a([O~O]#qOh$QOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO'b$PO'f#sO~O!Q(`O'](]O!c'}P~P!$jO#W(bO~O!d(cO~O!Q(hO'](eO!O(OP~P!$jOj(uOx(mO!W(sO!X(lO!Y(lO!d(cO!x(tO$w(oO'^$dO'g(jO~O!S(rO~P!&jO!b!yOP'eXu'eXx'eX'w'eX'x'eX!R'eX!{'eX~O'a'eX#m'eX~P!'cOP(xO!{(wO!R'dX'a'dX~O!R(yO'a'cX~O']${O'a'cP~O'](|O~O!d)RO~O']&{O~Ox$uO!Q!rO!T$vO#U!uO#V!rO']$bO!c'qP~O!]!wO#W)VO~OQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_!^a!R!^a'W!^a!O!^a!c!^an!^a!T!^a%Q!^a!]!^a~P!)wOP)_O!T&dO!o)^O%Q)]O'b$PO~O!])aO!T'`X_'`X!R'`X'W'`X~O!d$ZO'b$PO~O!d$ZO']$bO'b$PO~O!]!wO#W&}O~O])lO%R)mO'])iO!S(VP~O!R)nO^(UX~O'g'TO~OZ)rO~O^)sO~O!T$lO']$bO'^$dO^(UP~Ox$uO!Q)xO!R&`O!T$vO']$bO!O'tP~O]&ZOk&ZO!Q)yO'g'TO!S'vP~O!R)zO_(RX'W(RX~O!{*OO'b$PO~OP*RO!T#zO'b$PO~O!T*TO~Ou*VO!TSO~O!n*[O~Oc*aO~O'](|O!S(TP~Oc$jO~O%RtO']${O~P8wOZ*gO^*fO~OQTORTO]cObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#x^O%PqO'fQO'oYO'|aO~O!T!bO#t!lO']9aO~P!1_O^*fO_$^O'W$^O~O_*kO#d*mO%T*mO%U*mO~P){O!d%`O~O%t*rO~O!T*tO~O&V*vO&X*wOQ&SaR&SaX&Sa]&Sa_&Sab&Sac&Sah&Saj&Sak&Sal&Saq&Sas&Sax&Sa{&Sa|&Sa}&Sa!T&Sa!_&Sa!d&Sa!g&Sa!h&Sa!i&Sa!j&Sa!k&Sa!n&Sa#d&Sa#t&Sa#x&Sa%P&Sa%R&Sa%T&Sa%U&Sa%X&Sa%Z&Sa%^&Sa%_&Sa%a&Sa%n&Sa%t&Sa%v&Sa%x&Sa%z&Sa%}&Sa&T&Sa&Z&Sa&]&Sa&_&Sa&a&Sa&c&Sa'S&Sa']&Sa'f&Sa'o&Sa'|&Sa!S&Sa%{&Sa`&Sa&Q&Sa~O']*|O~On+PO~O!O&ia!R&ia~P!)wO!Q+TO!O&iX!R&iX~P){O!R%zO!O'ja~O!O'ja~P>aO!R&`O!O'ta~O!RwX!R!ZX!SwX!S!ZX!]wX!]!ZX!d!ZX!{wX'b!ZX~O!]+YO!{+XO!R#TX!R'lX!S#TX!S'lX!]'lX!d'lX'b'lX~O!]+[O!d$ZO'b$PO!R!VX!S!VX~O]&ROk&ROx&SO'g(jO~OQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!T!bO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O'fQO'oYO'|;^O~O']:SO~P!;jO!R+`O!S'kX~O!S+bO~O!]+YO!{+XO!R#TX!S#TX~O!R+cO!S'vX~O!S+eO~O]&ROk&ROx&SO'^$dO'g(jO~O!X+fO!Y+fO~P!>hOx$uO!Q+hO!T$vO']$bO!O&nX!R&nX~O_+lO!W+oO!X+kO!Y+kO!r+sO!s+qO!t+rO!u+pO!x+tO'^$dO'g(jO'o+iO~O!S+nO~P!?iOP+yO!T&dO!o+xO~O!{,PO!R'ra!c'ra_'ra'W'ra~O!]!wO~P!@sO!R&tO!c'qa~Ox$uO!Q,SO!T$vO#U,UO#V,SO']$bO!R&pX!c&pX~O_#Oi!R#Oi'W#Oi!O#Oi!c#Oin#Oi!T#Oi%Q#Oi!]#Oi~P!)wOP;tOu(SOx(TO'w(VO'x(XO~O#W!za!R!za!c!za!{!za!T!za_!za'W!za!O!za~P!BpO#W'eXQ'eXZ'eX_'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX'W'eX'f'eX'p'eX!c'eX!O'eX!T'eXn'eX%Q'eX!]'eX~P!'cO!R,_O'a'mX~P!#{O'a,aO~O!R,bO!c'nX~P!)wO!c,eO~O!O,fO~OQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zi_#Zij#Zi!R#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O#[#Zi~P!FfO#[#PO~P!FfOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO'fQOZ#Zi_#Zi!R#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~Oj#Zi~P!IQOj#RO~P!IQOQ#^Oj#ROu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO'fQO_#Zi!R#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P!KlOZ#dO!a#TO#a#TO#b#TO#c#TO~P!KlOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO'fQO_#Zi!R#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'w#Zi~P!NdO'w!}O~P!NdOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO'fQO'w!}O_#Zi!R#Zi#i#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'x#Zi~P##OO'x#OO~P##OOQ#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO'fQO'w!}O'x#OO~O_#Zi!R#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P#%jOQ[XZ[Xj[Xu[Xv[Xx[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X!R[X!S[X~O#m[X~P#'}OQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO#i9nO#j9oO'fQO'p#[O'w!}O'x#OO~O#m,hO~P#*XOQ'iXZ'iXj'iXu'iXv'iXx'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX!R'iX~O!{9sO#o9sO#c'iX#m'iX!S'iX~P#,SO_&sa!R&sa'W&sa!c&san&sa!O&sa!T&sa%Q&sa!]&sa~P!)wOQ#ZiZ#Zi_#Zij#Ziv#Zi!R#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'f#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P!BpO_#ni!R#ni'W#ni!O#ni!c#nin#ni!T#ni%Q#ni!]#ni~P!)wO#z,jO~O#z,kO~O!]'lO!{,lO!T$OX#w$OX#z$OX$R$OX~O!Q,mO~O!T'oO#w,oO#z'nO$R,pO~O!R9pO!S'hX~P#*XO!S,qO~O$R,sO~OS'}O'U(OO'V,vO~O],yOk,yO!O,zO~O!RdX!]dX!cdX!c$eX'pdX~P!!rO!c-QO~P!BpO!R-RO!]!wO'p&oO!c'}X~O!c-WO~O!Q(`O']$bO!c'}P~O#W-YO~O!O$eX!R$eX!]$lX~P!!rO!R-ZO!O(OX~P!BpO!]-]O~O!O-_O~Oj-cO!]!wO!d$ZO'b$PO'p&oO~O!])aO~O_$^O!R-hO'W$^O~O!S-jO~P!&jO!X-kO!Y-kO'^$dO'g(jO~Ox-mO'g(jO~O!x-nO~O']${O!R&xX'a&xX~O!R(yO'a'ca~O'a-sO~Ou-tOv-tOx-uOPra'wra'xra!Rra!{ra~O'ara#mra~P#7pOu(SOx(TOP$^a'w$^a'x$^a!R$^a!{$^a~O'a$^a#m$^a~P#8fOu(SOx(TOP$`a'w$`a'x$`a!R$`a!{$`a~O'a$`a#m$`a~P#9XO]-vO~O#W-wO~O'a$na!R$na!{$na#m$na~P!#{O#W-zO~OP.TO!T&dO!o.SO%Q.RO~O]#qOj#rOk#qOl#qOq$ROs9tOx#yO!T#zO!_;eO!d#vO#V9}O#t$VO$_9wO$a9zO$d$WO'b$PO'f#sO~Oh.VO'].UO~P#:yO!])aO!T'`a_'`a!R'`a'W'`a~O#W.]O~OZ[X!RdX!SdX~O!R.^O!S(VX~O!S.`O~OZ.aO~O].cO'])iO~O!T$lO']$bO^'QX!R'QX~O!R)nO^(Ua~O!c.fO~P!)wO].hO~OZ.iO~O^.jO~OP.TO!T&dO!o.SO%Q.RO'b$PO~O!R)zO_(Ra'W(Ra~O!{.pO~OP.sO!T#zO~O'g'TO!S(SP~OP.}O!T.yO!o.|O%Q.{O'b$PO~OZ/XO!R/VO!S(TX~O!S/YO~O^/[O_$^O'W$^O~O]/]O~O]/^O'](|O~O#c/_O%r/`O~P0zO!{#eO#c/_O%r/`O~O_/aO~P){O_/cO~O%{/gOQ%yiR%yiX%yi]%yi_%yib%yic%yih%yij%yik%yil%yiq%yis%yix%yi{%yi|%yi}%yi!T%yi!_%yi!d%yi!g%yi!h%yi!i%yi!j%yi!k%yi!n%yi#d%yi#t%yi#x%yi%P%yi%R%yi%T%yi%U%yi%X%yi%Z%yi%^%yi%_%yi%a%yi%n%yi%t%yi%v%yi%x%yi%z%yi%}%yi&T%yi&Z%yi&]%yi&_%yi&a%yi&c%yi'S%yi']%yi'f%yi'o%yi'|%yi!S%yi`%yi&Q%yi~O`/mO!S/kO&Q/lO~P`O!TSO!d/oO~O&X*wOQ&SiR&SiX&Si]&Si_&Sib&Sic&Sih&Sij&Sik&Sil&Siq&Sis&Six&Si{&Si|&Si}&Si!T&Si!_&Si!d&Si!g&Si!h&Si!i&Si!j&Si!k&Si!n&Si#d&Si#t&Si#x&Si%P&Si%R&Si%T&Si%U&Si%X&Si%Z&Si%^&Si%_&Si%a&Si%n&Si%t&Si%v&Si%x&Si%z&Si%}&Si&T&Si&Z&Si&]&Si&_&Si&a&Si&c&Si'S&Si']&Si'f&Si'o&Si'|&Si!S&Si%{&Si`&Si&Q&Si~O!R#bOn$]a~O!O&ii!R&ii~P!)wO!R%zO!O'ji~O!R&`O!O'ti~O!O/uO~O!R!Va!S!Va~P#*XO]&ROk&RO!Q/{O'g(jO!R&jX!S&jX~P@dO!R+`O!S'ka~O]&ZOk&ZO!Q)yO'g'TO!R&oX!S&oX~O!R+cO!S'va~O!O'ui!R'ui~P!)wO_$^O!]!wO!d$ZO!j0VO!{0TO'W$^O'b$PO'p&oO~O!S0YO~P!?iO!X0ZO!Y0ZO'^$dO'g(jO'o+iO~O!W0[O~P#MSO!TSO!W0[O!u0^O!x0_O~P#MSO!W0[O!s0aO!t0aO!u0^O!x0_O~P#MSO!T&dO~O!T&dO~P!BpO!R'ri!c'ri_'ri'W'ri~P!)wO!{0jO!R'ri!c'ri_'ri'W'ri~O!R&tO!c'qi~Ox$uO!T$vO#V0lO']$bO~O#WraQraZra_rajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra'Wra'fra'pra!cra!Ora!Tranra%Qra!]ra~P#7pO#W$^aQ$^aZ$^a_$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a'W$^a'f$^a'p$^a!c$^a!O$^a!T$^an$^a%Q$^a!]$^a~P#8fO#W$`aQ$`aZ$`a_$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a'W$`a'f$`a'p$`a!c$`a!O$`a!T$`an$`a%Q$`a!]$`a~P#9XO#W$naQ$naZ$na_$naj$nav$na!R$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na'W$na'f$na'p$na!c$na!O$na!T$na!{$nan$na%Q$na!]$na~P!BpO_#Oq!R#Oq'W#Oq!O#Oq!c#Oqn#Oq!T#Oq%Q#Oq!]#Oq~P!)wO!R&kX'a&kX~PJjO!R,_O'a'ma~O!Q0tO!R&lX!c&lX~P){O!R,bO!c'na~O!R,bO!c'na~P!)wO#m!fa!S!fa~PCfO#m!^a!R!^a!S!^a~P#*XO!T1XO#x^O$P1YO~O!S1^O~On1_O~P!BpO_$Yq!R$Yq'W$Yq!O$Yq!c$Yqn$Yq!T$Yq%Q$Yq!]$Yq~P!)wO!O1`O~O],yOk,yO~Ou(SOx(TO'x(XOP$xi'w$xi!R$xi!{$xi~O'a$xi#m$xi~P$.POu(SOx(TOP$zi'w$zi'x$zi!R$zi!{$zi~O'a$zi#m$zi~P$.rO'p#[O~P!BpO!Q1cO']$bO!R&tX!c&tX~O!R-RO!c'}a~O!R-RO!]!wO!c'}a~O!R-RO!]!wO'p&oO!c'}a~O'a$gi!R$gi!{$gi#m$gi~P!#{O!Q1kO'](eO!O&vX!R&vX~P!$jO!R-ZO!O(Oa~O!R-ZO!O(Oa~P!BpO!]!wO~O!]!wO#c1sO~Oj1vO!]!wO'p&oO~O!R'di'a'di~P!#{O!{1yO!R'di'a'di~P!#{O!c1|O~O_$Zq!R$Zq'W$Zq!O$Zq!c$Zqn$Zq!T$Zq%Q$Zq!]$Zq~P!)wO!R2QO!T(PX~P!BpO!T&dO%Q2TO~O!T&dO%Q2TO~P!BpO!T$eX$u[X_$eX!R$eX'W$eX~P!!rO$u2XOPgXugXxgX!TgX'wgX'xgX_gX!RgX'WgX~O$u2XO~O]2_O%R2`O'])iO!R'PX!S'PX~O!R.^O!S(Va~OZ2dO~O^2eO~O]2hO~OP2jO!T&dO!o2iO%Q2TO~O_$^O'W$^O~P!BpO!T#zO~P!BpO!R2oO!{2qO!S(SX~O!S2rO~Ox;oO!W2{O!X2tO!Y2tO!r2zO!s2yO!t2yO!x2xO'^$dO'g(jO'o+iO~O!S2wO~P$7ZOP3SO!T.yO!o3RO%Q3QO~OP3SO!T.yO!o3RO%Q3QO'b$PO~O'](|O!R'OX!S'OX~O!R/VO!S(Ta~O]3^O'g3]O~O]3_O~O^3aO~O!c3dO~P){O_3fO~O_3fO~P){O#c3hO%r3iO~PFOO`/mO!S3mO&Q/lO~P`O!]3oO~O!R#Ti!S#Ti~P#*XO!{3qO!R#Ti!S#Ti~O!R!Vi!S!Vi~P#*XO_$^O!{3xO'W$^O~O_$^O!]!wO!{3xO'W$^O~O!X3|O!Y3|O'^$dO'g(jO'o+iO~O_$^O!]!wO!d$ZO!j3}O!{3xO'W$^O'b$PO'p&oO~O!W4OO~P$;xO!W4OO!u4RO!x4SO~P$;xO_$^O!]!wO!j3}O!{3xO'W$^O'p&oO~O!R'rq!c'rq_'rq'W'rq~P!)wO!R&tO!c'qq~O#W$xiQ$xiZ$xi_$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi'W$xi'f$xi'p$xi!c$xi!O$xi!T$xin$xi%Q$xi!]$xi~P$.PO#W$ziQ$ziZ$zi_$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi'W$zi'f$zi'p$zi!c$zi!O$zi!T$zin$zi%Q$zi!]$zi~P$.rO#W$giQ$giZ$gi_$gij$giv$gi!R$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi'W$gi'f$gi'p$gi!c$gi!O$gi!T$gi!{$gin$gi%Q$gi!]$gi~P!BpO!R&ka'a&ka~P!#{O!R&la!c&la~P!)wO!R,bO!c'ni~O#m#Oi!R#Oi!S#Oi~P#*XOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zij#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~O#[#Zi~P$EiO#[9eO~P$EiOQ#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO'fQOZ#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~Oj#Zi~P$GqOj9gO~P$GqOQ#^Oj9gOu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO'fQO#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P$IyOZ9rO!a9iO#a9iO#b9iO#c9iO~P$IyOQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO'fQO#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'x#Zi!R#Zi!S#Zi~O'w#Zi~P$L_O'w!}O~P$L_OQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO'fQO'w!}O#i#Zi#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~O'x#Zi~P$NgO'x#OO~P$NgOQ#^OZ9rOj9gOu!{Ov!{Ox!|O!a9iO!b!yO!d!zO!j#^O#[9eO#]9fO#^9fO#_9fO#`9hO#a9iO#b9iO#c9iO#e9jO#g9lO#i9nO'fQO'w!}O'x#OO~O#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~P%!oO_#ky!R#ky'W#ky!O#ky!c#kyn#ky!T#ky%Q#ky!]#ky~P!)wOP;vOu(SOx(TO'w(VO'x(XO~OQ#ZiZ#Zij#Ziv#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'f#Zi'p#Zi!R#Zi!S#Zi~P%%aO!b!yOP'eXu'eXx'eX'w'eX'x'eX!S'eX~OQ'eXZ'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX#m'eX'f'eX'p'eX!R'eX~P%'eO#m#ni!R#ni!S#ni~P#*XO!S4eO~O!R&sa!S&sa~P#*XO!]!wO'p&oO!R&ta!c&ta~O!R-RO!c'}i~O!R-RO!]!wO!c'}i~O'a$gq!R$gq!{$gq#m$gq~P!#{O!O&va!R&va~P!BpO!]4lO~O!R-ZO!O(Oi~P!BpO!R-ZO!O(Oi~O!O4pO~O!]!wO#c4uO~Oj4vO!]!wO'p&oO~O!O4xO~O'a$iq!R$iq!{$iq#m$iq~P!#{O_$Zy!R$Zy'W$Zy!O$Zy!c$Zyn$Zy!T$Zy%Q$Zy!]$Zy~P!)wO!R2QO!T(Pa~O!T&dO%Q4}O~O!T&dO%Q4}O~P!BpO_#Oy!R#Oy'W#Oy!O#Oy!c#Oyn#Oy!T#Oy%Q#Oy!]#Oy~P!)wOZ5QO~O]5SO'])iO~O!R.^O!S(Vi~O]5VO~O^5WO~O'g'TO!R&{X!S&{X~O!R2oO!S(Sa~O!S5eO~P$7ZOx;sO'g(jO'o+iO~O!W5hO!X5gO!Y5gO!x0_O'^$dO'g(jO'o+iO~O!s5iO!t5iO~P%0^O!X5gO!Y5gO'^$dO'g(jO'o+iO~O!T.yO~O!T.yO%Q5kO~O!T.yO%Q5kO~P!BpOP5pO!T.yO!o5oO%Q5kO~OZ5uO!R'Oa!S'Oa~O!R/VO!S(Ti~O]5xO~O!c5yO~O!c5zO~O!c5{O~O!c5{O~P){O_5}O~O!]6QO~O!c6RO~O!R'ui!S'ui~P#*XO_$^O'W$^O~P!)wO_$^O!{6WO'W$^O~O_$^O!]!wO!{6WO'W$^O~O!X6]O!Y6]O'^$dO'g(jO'o+iO~O_$^O!]!wO!j6^O!{6WO'W$^O'p&oO~O!d$ZO'b$PO~P%4xO!W6_O~P%4gO!R'ry!c'ry_'ry'W'ry~P!)wO#W$gqQ$gqZ$gq_$gqj$gqv$gq!R$gq!a$gq!b$gq!d$gq!j$gq#[$gq#]$gq#^$gq#_$gq#`$gq#a$gq#b$gq#c$gq#e$gq#g$gq#i$gq#j$gq'W$gq'f$gq'p$gq!c$gq!O$gq!T$gq!{$gqn$gq%Q$gq!]$gq~P!BpO#W$iqQ$iqZ$iq_$iqj$iqv$iq!R$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq'W$iq'f$iq'p$iq!c$iq!O$iq!T$iq!{$iqn$iq%Q$iq!]$iq~P!BpO!R&li!c&li~P!)wO#m#Oq!R#Oq!S#Oq~P#*XOu-tOv-tOx-uOPra'wra'xra!Sra~OQraZrajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra#mra'fra'pra!Rra~P%;OOu(SOx(TOP$^a'w$^a'x$^a!S$^a~OQ$^aZ$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a#m$^a'f$^a'p$^a!R$^a~P%=SOu(SOx(TOP$`a'w$`a'x$`a!S$`a~OQ$`aZ$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a#m$`a'f$`a'p$`a!R$`a~P%?WOQ$naZ$naj$nav$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na#m$na'f$na'p$na!R$na!S$na~P%%aO#m$Yq!R$Yq!S$Yq~P#*XO#m$Zq!R$Zq!S$Zq~P#*XO!S6hO~O#m6iO~P!#{O!]!wO!R&ti!c&ti~O!]!wO'p&oO!R&ti!c&ti~O!R-RO!c'}q~O!O&vi!R&vi~P!BpO!R-ZO!O(Oq~O!O6oO~P!BpO!O6oO~O!R'dy'a'dy~P!#{O!R&ya!T&ya~P!BpO!T$tq_$tq!R$tq'W$tq~P!BpOZ6vO~O!R.^O!S(Vq~O]6yO~O!T&dO%Q6zO~O!T&dO%Q6zO~P!BpO!{6{O!R&{a!S&{a~O!R2oO!S(Si~P#*XO!X7RO!Y7RO'^$dO'g(jO'o+iO~O!W7TO!x4SO~P%GXO!T.yO%Q7WO~O!T.yO%Q7WO~P!BpO]7_O'g7^O~O!R/VO!S(Tq~O!c7aO~O!c7aO~P){O!c7cO~O!c7dO~O!R#Ty!S#Ty~P#*XO_$^O!{7jO'W$^O~O_$^O!]!wO!{7jO'W$^O~O!X7mO!Y7mO'^$dO'g(jO'o+iO~O_$^O!]!wO!j7nO!{7jO'W$^O'p&oO~O#m#ky!R#ky!S#ky~P#*XOQ$giZ$gij$giv$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi#m$gi'f$gi'p$gi!R$gi!S$gi~P%%aOu(SOx(TO'x(XOP$xi'w$xi!S$xi~OQ$xiZ$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi#m$xi'f$xi'p$xi!R$xi~P%LjOu(SOx(TOP$zi'w$zi'x$zi!S$zi~OQ$ziZ$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi#m$zi'f$zi'p$zi!R$zi~P%NnO#m$Zy!R$Zy!S$Zy~P#*XO#m#Oy!R#Oy!S#Oy~P#*XO!]!wO!R&tq!c&tq~O!R-RO!c'}y~O!O&vq!R&vq~P!BpO!O7tO~P!BpO!R.^O!S(Vy~O!R2oO!S(Sq~O!X8QO!Y8QO'^$dO'g(jO'o+iO~O!T.yO%Q8TO~O!T.yO%Q8TO~P!BpO!c8WO~O_$^O!{8]O'W$^O~O_$^O!]!wO!{8]O'W$^O~OQ$gqZ$gqj$gqv$gq!a$gq!b$gq!d$gq!j$gq#[$gq#]$gq#^$gq#_$gq#`$gq#a$gq#b$gq#c$gq#e$gq#g$gq#i$gq#j$gq#m$gq'f$gq'p$gq!R$gq!S$gq~P%%aOQ$iqZ$iqj$iqv$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq#m$iq'f$iq'p$iq!R$iq!S$iq~P%%aO'a$|!Z!R$|!Z!{$|!Z#m$|!Z~P!#{O!R&{q!S&{q~P#*XO_$^O!{8oO'W$^O~O#W$|!ZQ$|!ZZ$|!Z_$|!Zj$|!Zv$|!Z!R$|!Z!a$|!Z!b$|!Z!d$|!Z!j$|!Z#[$|!Z#]$|!Z#^$|!Z#_$|!Z#`$|!Z#a$|!Z#b$|!Z#c$|!Z#e$|!Z#g$|!Z#i$|!Z#j$|!Z'W$|!Z'f$|!Z'p$|!Z!c$|!Z!O$|!Z!T$|!Z!{$|!Zn$|!Z%Q$|!Z!]$|!Z~P!BpOP;uOu(SOx(TO'w(VO'x(XO~O!S!za!W!za!X!za!Y!za!r!za!s!za!t!za!x!za'^!za'g!za'o!za~P&,_O!W'eX!X'eX!Y'eX!r'eX!s'eX!t'eX!x'eX'^'eX'g'eX'o'eX~P%'eOQ$|!ZZ$|!Zj$|!Zv$|!Z!a$|!Z!b$|!Z!d$|!Z!j$|!Z#[$|!Z#]$|!Z#^$|!Z#_$|!Z#`$|!Z#a$|!Z#b$|!Z#c$|!Z#e$|!Z#g$|!Z#i$|!Z#j$|!Z#m$|!Z'f$|!Z'p$|!Z!R$|!Z!S$|!Z~P%%aO!Wra!Xra!Yra!rra!sra!tra!xra'^ra'gra'ora~P%;OO!W$^a!X$^a!Y$^a!r$^a!s$^a!t$^a!x$^a'^$^a'g$^a'o$^a~P%=SO!W$`a!X$`a!Y$`a!r$`a!s$`a!t$`a!x$`a'^$`a'g$`a'o$`a~P%?WO!S$na!W$na!X$na!Y$na!r$na!s$na!t$na!x$na'^$na'g$na'o$na~P&,_O!W$xi!X$xi!Y$xi!r$xi!s$xi!t$xi!x$xi'^$xi'g$xi'o$xi~P%LjO!W$zi!X$zi!Y$zi!r$zi!s$zi!t$zi!x$zi'^$zi'g$zi'o$zi~P%NnO!S$gi!W$gi!X$gi!Y$gi!r$gi!s$gi!t$gi!x$gi'^$gi'g$gi'o$gi~P&,_O!S$gq!W$gq!X$gq!Y$gq!r$gq!s$gq!t$gq!x$gq'^$gq'g$gq'o$gq~P&,_O!S$iq!W$iq!X$iq!Y$iq!r$iq!s$iq!t$iq!x$iq'^$iq'g$iq'o$iq~P&,_O!S$|!Z!W$|!Z!X$|!Z!Y$|!Z!r$|!Z!s$|!Z!t$|!Z!x$|!Z'^$|!Z'g$|!Z'o$|!Z~P&,_On'hX~P.jOn[X!O[X!c[X%r[X!T[X%Q[X!][X~P$zO!]dX!c[X!cdX'pdX~P;dOQ9^OR9^O]cOb;`Oc!jOhcOj9^OkcOlcOq9^Os9^OxRO{cO|cO}cO!TSO!_9`O!dUO!g9^O!h9^O!i9^O!j9^O!k9^O!n!iO#t!lO#x^O']'cO'fQO'oYO'|;^O~O]#qOh$QOj#rOk#qOl#qOq$ROs9uOx#yO!T#zO!_;fO!d#vO#V:OO#t$VO$_9xO$a9{O$d$WO']&{O'b$PO'f#sO~O!R9pO!S$]a~O]#qOh$QOj#rOk#qOl#qOq$ROs9vOx#yO!T#zO!_;gO!d#vO#V:PO#t$VO$_9yO$a9|O$d$WO']&{O'b$PO'f#sO~O#d'jO~P&<WO!S[X!SdX~P;dO!]9dO~O#W9cO~O!]!wO#W9cO~O!{9sO~O#c9iO~O!{:QO!R'uX!S'uX~O!{9sO!R'sX!S'sX~O#W:RO~O'a:TO~P!#{O#W:[O~O#W:]O~O#W:^O~O!]!wO#W:_O~O!]!wO#W:RO~O#m:`O~P#*XO#W:aO~O#W:bO~O#W:cO~O#W:dO~O#W:eO~O#W:fO~O#W:gO~O#W:hO~O!O:iO~O#m:jO~P!#{O#m:kO~P!#{O#m:lO~P!#{O!O:mO~P!BpO!O:mO~O!O:nO~P!BpO!]!wO#c;lO~O!]!wO#c;nO~O#x~!b!r!t!u#U#V'|$_$a$d$u%P%Q%R%X%Z%^%_%a%c~UT#x'|#]}'Y'Z#z'Y']'g~",goto:"#Kk(ZPPPPPPPP([P(lP*`PPPP-zPP.a3s7o8SP8SPPP8SP:U8SP8SP:YPP:`P:t?VPPPP?ZPPPP?ZA{PPPBRDdP?ZPFwPPPPHp?ZPPPPPJi?ZPPMjNgPPPPNk!!TP!!]!#^PNg?Z?Z!&n!)i!.[!.[!1kPPP!1r!4h?ZPPPPPPPPPP!7_P!8pPP?Z!9}P?ZP?Z?Z?Z?ZP?Z!;dPP!>]P!AQ!AY!A^!A^P!>YP!Ab!AbP!DVP!DZ?Z?Z!Da!GT8SP8SP8S8SP!HW8S8S!Jf8S!M_8S# g8S8S#!T#$c#$c#$g#$c#$oP#$cP8S#%k8S#'X8S8S-zPPP#(yPP#)c#)cP#)cP#)x#)cPP#*OP#)uP#)u#*b!!X#)u#+P#+V#+Y([#+]([P#+d#+d#+dP([P([P([P([PP([P#+j#+mP#+m([P#+qP#+tP([P([P([P([P([P([([#+z#,U#,[#,b#,p#,v#,|#-W#-^#-m#-s#.R#.X#._#.m#/S#0z#1Y#1`#1f#1l#1r#1|#2S#2Y#2d#2v#2|PPPPPPPP#3SPP#3v#7OPP#8f#8m#8uPP#>a#@t#Fp#Fs#Fv#GR#GUPP#GX#G]#Gz#Hq#Hu#IZPP#I_#Ie#IiP#Il#Ip#Is#Jc#Jy#KO#KR#KU#K[#K_#Kc#KgmhOSj}!n$]%c%f%g%i*o*t/g/jQ$imQ$ppQ%ZyS&V!b+`Q&k!jS(l#z(qQ)g$jQ)t$rQ*`%TQ+f&^S+k&d+mQ+}&lQ-k(sQ/U*aY0Z+o+p+q+r+sS2t.y2vU3|0[0^0aU5g2y2z2{S6]4O4RS7R5h5iQ7m6_R8Q7T$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!j'e#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ(}$SQ)l$lQ*b%WQ*i%`Q,X9tQ.W)aQ.c)mQ/^*gQ2_.^Q3Z/VQ4^9vQ5S2`R8{9upeOSjy}!n$]%Y%c%f%g%i*o*t/g/jR*d%[&WVOSTjkn}!S!W!k!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%z&S&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;`;a[!cRU!]!`%x&WQ$clQ$hmS$mp$rv$wrs!r!u$Z$u&`&t&w)x)y)z*m+Y+h,S,U/o0lQ%PwQ&h!iQ&j!jS(_#v(cS)f$i$jQ)j$lQ)w$tQ*Z%RQ*_%TS+|&k&lQ-V(`Q.[)gQ.b)mQ.d)nQ.g)rQ/P*[S/T*`*aQ0h+}Q1b-RQ2^.^Q2b.aQ2g.iQ3Y/UQ4i1cQ5R2`Q5U2dQ6u5QR7w6vx#xa!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k!Y$fm!j$h$i$j&U&j&k&l(k)f)g+]+j+|+}-d.[0Q0W0]0h1u3{4Q6Z7k8^Q)`$cQ*P$|Q*S$}Q*^%TQ.k)wQ/O*ZU/S*_*`*aQ3T/PS3X/T/UQ5b2sQ5t3YS7P5c5fS8O7Q7SQ8f8PQ8u8g#[;b!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd;c9d9x9{:O:V:Y:]:b:e:ke;d9r9y9|:P:W:Z:^:c:f:lW#}a$P(y;^S$|t%YQ$}uQ%OvR)}$z%P#|a!w!y#d#v#y$T$U$Y&g'}(W(Y(Z(b(h(w(x)])_)a*O*R+y,_-Y-Z-]-w.R.T.p.s.{.}1a1k1s1y2Q2T2X2j3Q3S4l4u4}5k5p6i6z7W8T9d9r9w9x9y9z9{9|9}:O:P:U:V:W:X:Y:Z:[:]:^:a:b:c:d:e:f:j:k:l;^;i;j;k;l;n;t;u;vT(O#s(PX)O$S9t9u9vU&Z!b$v+cQ'U!{Q)q$oQ.t*TQ1z-tR5^2o&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a$]#aZ!_!o$a%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,i,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|T!XQ!Y&_cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ&X!bR/|+`Y&R!b&V&^+`+fS(k#z(qS+j&d+mS-d(l(sQ-e(mQ-l(tQ.v*VU0W+k+o+pU0]+q+r+sS0b+t2xQ1u-kQ1w-mQ1x-nS2s.y2vU3{0Z0[0^Q4P0_Q4Q0aS5c2t2{S5f2y2zU6Z3|4O4RQ6`4SS7Q5g5hQ7S5iS7k6]6_S8P7R7TQ8^7mQ8g8QQ;h;oR;m;slhOSj}!n$]%c%f%g%i*o*t/g/jQ%k!QS&x!v9cQ)d$gQ*X%PQ*Y%QQ+z&iS,]&}:RS-y)V:_Q.Y)eQ.x*WQ/n*vQ/p*wQ/x+ZQ0`+qQ0f+{S2P-z:gQ2Y.ZS2].]:hQ3r/zQ3u0RQ4U0gQ5P2ZQ6T3tQ6X3zQ6a4VQ7e6RQ7h6YQ8Y7iQ8l8[R8x8n$W#`Z!_!o%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|W(v#{&|1V8qT)Z$a,i$W#_Z!_!o%w%}&y'Q'W'X'Y'Z'[']'^'_'`'a'b'd'g'k'u)p+R+^+g,O,^,d,g,w-x/v/y0i0s0w0x0y0z0{0|0}1O1P1Q1R1S1T1W1]2O2[3s3v4W4[4]4b4c5`6S6V6b6f6g7g7z8Z8m8y9_:|Q'f#`S)Y$a,iR-{)Z&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ%f{Q%g|Q%i!OQ%j!PR/f*rQ&e!iQ)[$cQ+w&hS.Q)`)wS0c+u+vW2S-}.O.P.kS4T0d0eU4|2U2V2WU6s4{5Y5ZQ7v6tR8b7yT+l&d+mS+j&d+mU0W+k+o+pU0]+q+r+sS0b+t2xS2s.y2vU3{0Z0[0^Q4P0_Q4Q0aS5c2t2{S5f2y2zU6Z3|4O4RQ6`4SS7Q5g5hQ7S5iS7k6]6_S8P7R7TQ8^7mR8g8QS+l&d+mT2u.y2vS&r!q/dQ-U(_Q-b(kS0V+j2sQ1g-VS1p-c-lU3}0]0b5fQ4h1bS4s1v1xU6^4P4Q7SQ6k4iQ6r4vR7n6`Q!xXS&q!q/dQ)W$[Q)b$eQ)h$kQ,Q&rQ-T(_Q-a(kQ-f(nQ.X)cQ/Q*]S0U+j2sS1f-U-VS1o-b-lQ1r-eQ1t-gQ3V/RW3y0V0]0b5fQ4g1bQ4k1gS4o1p1xQ4t1wQ5r3WW6[3}4P4Q7SS6j4h4iS6n4p:iQ6p4sQ6}5aQ7[5sS7l6^6`Q7r6kS7s6o:mQ7u6rQ7|7OQ8V7]Q8_7nS8a7t:nQ8d7}Q8s8eQ9Q8tQ9X9RQ:u:pQ;T:zQ;U:{Q;V;hR;[;m$rWORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oS!xn!k!j:o#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR:u;`$rXORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oQ$[b!Y$em!j$h$i$j&U&j&k&l(k)f)g+]+j+|+}-d.[0Q0W0]0h1u3{4Q6Z7k8^S$kn!kQ)c$fQ*]%TW/R*^*_*`*aU3W/S/T/UQ5a2sS5s3X3YU7O5b5c5fQ7]5tU7}7P7Q7SS8e8O8PS8t8f8gQ9R8u!j:p#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aQ:z;_R:{;`$f]OSTjk}!S!W!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oY!hRU!]!`%xv$wrs!r!u$Z$u&`&t&w)x)y)z*m+Y+h,S,U/o0lQ*j%`!h:q#]#k'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR:t&WS&[!b$vR0O+c$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!j'e#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aR*i%`$roORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8oQ'U!{!k:r#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a!h#VZ!_$a%w%}&y'Q'_'`'a'b'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_!R9k'd'u+^,i/v/y0w1P1Q1R1S1W1]3s4]4b4c5`6S6b6f6g7z:|!d#XZ!_$a%w%}&y'Q'a'b'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_}9m'd'u+^,i/v/y0w1R1S1W1]3s4]4b4c5`6S6b6f6g7z:|!`#]Z!_$a%w%}&y'Q'g'k)p+R+g,O,^,d,w-x0i0s1T2O2[3v4W4[6V7g8Z8m8y9_Q1a-Px;a'd'u+^,i/v/y0w1W1]3s4]4b4c5`6S6b6f6g7z:|Q;i;pQ;j;qR;k;r&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aS#l`#mR1Y,l&e_ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,l,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aS#g^#nT'n#i'rT#h^#nT'p#i'r&e`ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$]$n%[%_%`%c%e%f%g%i%m%x%z&S&W&_&f&p&}'R'w(R)V)^*k*o*t+T+X+[+x,P,b,h,l,m-u-z.S.].|/_/`/a/c/g/j/l/{0T0j0t1X2i2q3R3f3h3i3q3x5o5}6W6{7j8]8o9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;aT#l`#mQ#o`R'y#m$rbORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$]$n%[%_%`%c%e%f%g%i%m%x%z&S&_&f&p&}'R(R)V)^*k*o*t+T+x,P,b,h-u-z.S.].|/_/`/a/c/g/j/l0T0j0t2i3R3f3h3i3x5o5}6W7j8]8o!k;_#]#k&W'w+X+[,m/{1X2q3q6{9^9`9c9e9f9g9h9i9j9k9l9m9n9o9p9s:Q:R:T:_:`:g:h;a#RdOSUj}!S!W!n!|#k$]%[%_%`%c%e%f%g%i%m&S&f'w)^*k*o*t+x,m-u.S.|/_/`/a/c/g/j/l1X2i3R3f3h3i5o5}x#{a!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k#[&|!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vQ)S$WQ,x(Sd1V9r9y9|:P:W:Z:^:c:f:le8q9d9x9{:O:V:Y:]:b:e:kx#wa!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;kQ(d#xS(n#z(qQ)T$XQ-g(o#[:w!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd:x9d9x9{:O:V:Y:]:b:e:kd:y9r9y9|:P:W:Z:^:c:f:lQ:};bQ;O;cQ;P;dQ;Q;eQ;R;fR;S;gx#{a!y$T$U$Y(W(Y(b(w(x,_-Y-w1a1y6i;^;i;j;k#[&|!w#d#v#y&g'}(Z(h)])_)a*O*R+y-Z-].R.T.p.s.{.}1k1s2Q2T2X2j3Q3S4l4u4}5k5p6z7W8T9w9z9}:U:X:[:a:d:j;l;n;t;u;vd1V9r9y9|:P:W:Z:^:c:f:le8q9d9x9{:O:V:Y:]:b:e:klfOSj}!n$]%c%f%g%i*o*t/g/jQ(g#yQ*}%pQ+O%rR1j-Z%O#|a!w!y#d#v#y$T$U$Y&g'}(W(Y(Z(b(h(w(x)])_)a*O*R+y,_-Y-Z-]-w.R.T.p.s.{.}1a1k1s1y2Q2T2X2j3Q3S4l4u4}5k5p6i6z7W8T9d9r9w9x9y9z9{9|9}:O:P:U:V:W:X:Y:Z:[:]:^:a:b:c:d:e:f:j:k:l;^;i;j;k;l;n;t;u;vQ*Q$}Q.r*SQ2m.qR5]2nT(p#z(qS(p#z(qT2u.y2vQ)b$eQ-f(nQ.X)cQ/Q*]Q3V/RQ5r3WQ6}5aQ7[5sQ7|7OQ8V7]Q8d7}Q8s8eQ9Q8tR9X9Rp(W#t'O)U-X-o-p0q1h1}4f4w7q:v;W;X;Y!n:U&z'i(^(f+v,[,t-P-^-|.P.o.q0e0p1i1m2W2l2n3O4Y4Z4m4q4y5O5Z5n6m6q7Y8`;Z;];p;q;r[:V8p9O9V9Y9Z9]]:W1U4a6c7o7p8zr(Y#t'O)U,}-X-o-p0q1h1}4f4w7q:v;W;X;Y!p:X&z'i(^(f+v,[,t-P-^-|.P.o.q0e0n0p1i1m2W2l2n3O4Y4Z4m4q4y5O5Z5n6m6q7Y8`;Z;];p;q;r^:Y8p9O9T9V9Y9Z9]_:Z1U4a6c6d7o7p8zpeOSjy}!n$]%Y%c%f%g%i*o*t/g/jQ%VxR*k%`peOSjy}!n$]%Y%c%f%g%i*o*t/g/jR%VxQ*U%OR.n)}qeOSjy}!n$]%Y%c%f%g%i*o*t/g/jQ.z*ZS3P/O/PW5j2|2}3O3TU7V5l5m5nU8R7U7X7YQ8h8SR8v8iQ%^yR*e%YR3^/XR7_5uS$mp$rR.d)nQ%czR*o%dR*u%jT/h*t/jR*y%kQ*x%kR/q*yQjOQ!nST$`j!nQ(P#sR,u(PQ!YQR%u!YQ!^RU%{!^%|+UQ%|!_R+U%}Q+a&XR/}+aQ,`'OR0r,`Q,c'QS0u,c0vR0v,dQ+m&dR0X+mS!eR$uU&a!e&b+VQ&b!fR+V&OQ+d&[R0P+dQ&u!sQ,R&sU,V&u,R0mR0m,WQ'r#iR,n'rQ#m`R'x#mQ#cZU'h#c+Q9qQ+Q9_R9q'uQ-S(_W1d-S1e4j6lU1e-T-U-VS4j1f1gR6l4k$k(U#t&z'O'i(^(f)P)Q)U+v,Y,Z,[,t,}-O-P-X-^-o-p-|.P.o.q0e0n0o0p0q1U1h1i1m1}2W2l2n3O4Y4Z4_4`4a4f4m4q4w4y5O5Z5n6c6d6e6m6q7Y7o7p7q8`8p8z8|8}9O9T9U9V9Y9Z9]:v;W;X;Y;Z;];p;q;rQ-[(fU1l-[1n4nQ1n-^R4n1mQ(q#zR-i(qQ(z$OR-r(zQ2R-|R4z2RQ){$xR.m){Q2p.tS5_2p6|R6|5`Q*W%PR.w*WQ2v.yR5d2vQ/W*bS3[/W5vR5v3^Q._)jW2a._2c5T6wQ2c.bQ5T2bR6w5UQ)o$mR.e)oQ/j*tR3l/jWiOSj!nQ%h}Q)X$]Q*n%cQ*p%fQ*q%gQ*s%iQ/e*oS/h*t/jR3k/gQ$_gQ%l!RQ%o!TQ%q!UQ%s!VQ)v$sQ)|$yQ*d%^Q*{%nQ-h(pS/Z*e*hQ/r*zQ/s*}Q/t+OS0S+j2sQ2f.hQ2k.oQ3U/QQ3`/]Q3j/fY3w0U0V0]0b5fQ5X2hQ5[2lQ5q3VQ5w3_[6U3v3y3}4P4Q7SQ6x5VQ7Z5rQ7`5xW7f6V6[6^6`Q7x6yQ7{6}Q8U7[U8X7g7l7nQ8c7|Q8j8VS8k8Z8_Q8r8dQ8w8mQ9P8sQ9S8yQ9W9QR9[9XQ$gmQ&i!jU)e$h$i$jQ+Z&UU+{&j&k&lQ-`(kS.Z)f)gQ/z+]Q0R+jS0g+|+}Q1q-dQ2Z.[Q3t0QS3z0W0]Q4V0hQ4r1uS6Y3{4QQ7i6ZQ8[7kR8n8^S#ua;^R({$PU$Oa$P;^R-q(yQ#taS&z!w)aQ'O!yQ'i#dQ(^#vQ(f#yQ)P$TQ)Q$UQ)U$YQ+v&gQ,Y9wQ,Z9zQ,[9}Q,t'}Q,}(WQ-O(YQ-P(ZQ-X(bQ-^(hQ-o(wQ-p(xd-|)].R.{2T3Q4}5k6z7W8TQ.P)_Q.o*OQ.q*RQ0e+yQ0n:UQ0o:XQ0p:[Q0q,_Q1U9rQ1h-YQ1i-ZQ1m-]Q1}-wQ2W.TQ2l.pQ2n.sQ3O.}Q4Y:aQ4Z:dQ4_9yQ4`9|Q4a:PQ4f1aQ4m1kQ4q1sQ4w1yQ4y2QQ5O2XQ5Z2jQ5n3SQ6c:^Q6d:WQ6e:ZQ6m4lQ6q4uQ7Y5pQ7o:cQ7p:fQ7q6iQ8`:jQ8p9dQ8z:lQ8|9xQ8}9{Q9O:OQ9T:VQ9U:YQ9V:]Q9Y:bQ9Z:eQ9]:kQ:v;^Q;W;iQ;X;jQ;Y;kQ;Z;lQ;];nQ;p;tQ;q;uR;r;vlgOSj}!n$]%c%f%g%i*o*t/g/jS!pU%eQ%n!SQ%t!WQ'V!|Q'v#kS*h%[%_Q*l%`Q*z%mQ+W&SQ+u&fQ,r'wQ.O)^Q/b*kQ0d+xQ1[,mQ1{-uQ2V.SQ2}.|Q3b/_Q3c/`Q3e/aQ3g/cQ3n/lQ4d1XQ5Y2iQ5m3RQ5|3fQ6O3hQ6P3iQ7X5oR7b5}!vZOSUj}!S!n!|$]%[%_%`%c%e%f%g%i%m&S&f)^*k*o*t+x-u.S.|/_/`/a/c/g/j/l2i3R3f3h3i5o5}Q!_RQ!oTQ$akS%w!]%zQ%}!`Q&y!vQ'Q!zQ'W#PQ'X#QQ'Y#RQ'Z#SQ'[#TQ']#UQ'^#VQ'_#WQ'`#XQ'a#YQ'b#ZQ'd#]Q'g#bQ'k#eW'u#k'w,m1XQ)p$nS+R%x+TS+^&W/{Q+g&_Q,O&pQ,^&}Q,d'RQ,g9^Q,i9`Q,w(RQ-x)VQ/v+XQ/y+[Q0i,PQ0s,bQ0w9cQ0x9eQ0y9fQ0z9gQ0{9hQ0|9iQ0}9jQ1O9kQ1P9lQ1Q9mQ1R9nQ1S9oQ1T,hQ1W9sQ1]9pQ2O-zQ2[.]Q3s:QQ3v0TQ4W0jQ4[0tQ4]:RQ4b:TQ4c:_Q5`2qQ6S3qQ6V3xQ6b:`Q6f:gQ6g:hQ7g6WQ7z6{Q8Z7jQ8m8]Q8y8oQ9_!WR:|;aR!aRR&Y!bS&U!b+`S+]&V&^R0Q+fR'P!yR'S!zT!tU$ZS!sU$ZU$xrs*mS&s!r!uQ,T&tQ,W&wQ.l)zS0k,S,UR4X0l`!dR!]!`$u%x&`)x+hh!qUrs!r!u$Z&t&w)z,S,U0lQ/d*mQ/w+YQ3p/oT:s&W)yT!gR$uS!fR$uS%y!]&`S&O!`)xS+S%x+hT+_&W)yT&]!b$vQ#i^R'{#nT'q#i'rR1Z,lT(a#v(cR(i#yQ-})]Q2U.RQ2|.{Q4{2TQ5l3QQ6t4}Q7U5kQ7y6zQ8S7WR8i8TlhOSj}!n$]%c%f%g%i*o*t/g/jQ%]yR*d%YV$yrs*mR.u*TR*c%WQ$qpR)u$rR)k$lT%az%dT%bz%dT/i*t/j",nodeNames:"\u26A0 extends ArithOp ArithOp InterpolationStart LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:332,context:trackNewline,nodeProps:[["closedBy",4,"InterpolationEnd",40,"]",51,"}",66,")",132,"JSXSelfCloseEndTag JSXEndTag",146,"JSXEndTag"],["group",-26,8,15,17,58,184,188,191,192,194,197,200,211,213,219,221,223,225,228,234,240,242,244,246,248,250,251,"Statement",-30,12,13,24,27,28,41,43,44,45,47,52,60,68,74,75,91,92,101,103,119,122,124,125,126,127,129,130,148,149,151,"Expression",-22,23,25,29,32,34,152,154,156,157,159,160,161,163,164,165,167,168,169,178,180,182,183,"Type",-3,79,85,90,"ClassItem"],["openedBy",30,"InterpolationStart",46,"[",50,"{",65,"(",131,"JSXStartTag",141,"JSXStartTag JSXStartCloseTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$UWO!^%T!_#o%T#p~%T7Z%jg$UW'Y7ROX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T7Z'YR$UW'Z7RO!^%T!_#o%T#p~%T$T'jS$UW!j#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#e#v$UWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#e#v$UWO!^%T!_#o%T#p~%T)X(rZ$UW]#eOY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$UWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR$P&j$UWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO$P&j)X*{R$P&j$UW]#eO!^%T!_#o%T#p~%T)P+ZV]#eOY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U)P+wO$P&j]#e)P+zROr+Urs,Ts~+U)P,[U$P&j]#eOY,nZr,nrs-Vs#O,n#O#P-[#P~,n#e,sU]#eOY,nZr,nrs-Vs#O,n#O#P-[#P~,n#e-[O]#e#e-_PO~,n)X-gV$UWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k)X.VZ$P&j$UW]#eOY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x#m/PZ$UW]#eOY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x#m/yR$UW]#eO!^%T!_#o%T#p~%T#m0XT$UWO!^.x!^!_,n!_#o.x#o#p,n#p~.x3]0mZ$UWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`3]1g]$UW'o3TOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`7Z2k_$UW#zS']$y'g3SOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$UW#zSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#^#v$UWO!^%T!_!`5T!`#o%T#p~%T$O5[R$UW#o#vO!^%T!_#o%T#p~%T5b5lU'x5Y$UWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$UW#i#vO!^%T!_!`5T!`#o%T#p~%T)X6jZ$UW]#eOY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$UWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w)P8YV]#eOY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T)P8rROw8Twx8{x~8T)P9SU$P&j]#eOY9fZw9fwx-Vx#O9f#O#P9}#P~9f#e9kU]#eOY9fZw9fwx-Vx#O9f#O#P9}#P~9f#e:QPO~9f)X:YV$UWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c)X:xZ$P&j$UW]#eOY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k#m;rZ$UW]#eOY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k#m<jT$UWO!^;k!^!_9f!_#o;k#o#p9f#p~;k&i=QR!d&a$UWO!^%T!_#o%T#p~%Tk=bR!cc$UWO!^%T!_#o%T#p~%T7V=tU'^4V#_#v$UWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#[#v$UWO!^%T!_!`5T!`#o%T#p~%T%w>rSj%o$UWO!^%T!_!`5T!`#o%T#p~%T&i?VR!R&a$UWO!^%T!_#o%T#p~%T7Z?gVu5^$UWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%T!{@RT$UWO!O%T!O!P@b!P!^%T!_#o%T#p~%T!{@iR!Q!s$UWO!^%T!_#o%T#p~%T!{@yZ$UWk!sO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%T!{AqZ$UWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T!{BiV$UWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T!{CVV$UWk!sO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T7ZCs`$UW#]#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$UW}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}V}POYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiU}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$UWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$UWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$UWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du7ZJs^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7ZKtV$UWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZL`X$UWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZMSR$UWU7RO!^%T!_#o%T#p~%T7RM`ROzM]z{Mi{~M]7RMlTOzM]z{Mi{!PM]!P!QM{!Q~M]7RNQOU7R7ZNX^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7Z! ^_$UWU7R}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T7R!!bY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#VY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#|UU7R}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd7R!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%sTU7ROYG{Z#OG{#O#PH_#P#QFx#Q~G{7R!&VTOY!$`YZM]Zz!$`z{!${{~!$`7R!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]7R!&}_}POzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M]7Z!(R[$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!(|^$UWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!*PY$UWU7ROYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq7Z!*tX$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|7Z!+fX$UWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl7Z!,Yc$UW}POzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko7Z!-lV$UWT7ROY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e7R!.WQT7ROY!.RZ~!.R$P!.g[$UW#o#v}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#wS$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du!{!0cd$UWk!sO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%T!{!1x_$UWk!sO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%T!{!3OR$UWk!sO!^%T!_#o%T#p~%T!{!3^W$UWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%T!{!3}Y$UWk!sO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%T!{!4rV$UWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%T!{!5`X$UWk!sO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%T!{!6QZ$UWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%T!{!6z]$UWk!sO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T$u!7|R!]V$UW#m$fO!^%T!_#o%T#p~%T!q!8^R_!i$UWO!^%T!_#o%T#p~%T5w!8rR'bd!a/n#x&s'|P!P!Q!8{!^!_!9Q!_!`!9_W!9QO$WW#v!9VP#`#v!_!`!9Y#v!9_O#o#v#v!9dO#a#v$u!9kT!{$m$UWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#W#w$UWO!^%T!_#o%T#p~%T%V!:gT'a!R#a#v$RS$UWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#a#v$UWO!^%T!_#o%T#p~%T$O!;_T#`#v$UWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#`#v$UWO!^%T!_!`5T!`#o%T#p~%T*a!<YV'p#{$UWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T*[!<vRv*S$UWO!^%T!_#o%T#p~%T$O!=WS$UW#j#vO!^%T!_!`5T!`#o%T#p~%T7V!=kRx6}$UWO!^%T!_#o%T#p~%Tk!={R!Oc$UWO!^%T!_#o%T#p~%T$O!>]S#g#v$UWO!^%T!_!`5T!`#o%T#p~%T$a!>pR$UW'f$XO!^%T!_#o%T#p~%T~!?OO!T~5b!?VT'w5Y$UWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T6X!?oR!S5}nQ$UWO!^%T!_#o%T#p~%TX!@PR!kP$UWO!^%T!_#o%T#p~%T7Z!@gr$UW'Y7R#zS']$y'g3SOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`7Z!CO_$UW'Z7R#zS']$y'g3SOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[tsExtends,noSemicolon,incdecToken,template,0,1,2,3,4,5,6,7,8,9,insertSemicolon],topRules:{Script:[0,7]},dialects:{jsx:12107,ts:12109},dynamicPrecedences:{"149":1,"176":1},specialized:[{term:289,get:s=>spec_identifier[s]||-1},{term:299,get:s=>spec_word[s]||-1},{term:63,get:s=>spec_LessThan[s]||-1}],tokenPrec:12130}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(s){return(e,a)=>{let o=e.node.getChild("VariableDefinition");return o&&a(o,s),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(s,e){s.matchContext(functionContext)||e(s,"variable")},TypeDefinition(s,e){e(s,"type")},__proto__:null};function getScope(s,e){let a=cache.get(e);if(a)return a;let o=[],c=!0;function d(b,k){let $=s.sliceString(b.from,b.to);o.push({label:$,type:k})}return e.cursor(IterMode.IncludeAnonymous).iterate(b=>{if(c)c=!1;else if(b.name){let k=gatherCompletions[b.name];if(k&&k(b,d)||ScopeNodes.has(b.name))return!1}else if(b.to-b.from>8192){for(let k of getScope(s,b.node))o.push(k);return!1}}),cache.set(e,o),o}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function localCompletionSource(s){let e=syntaxTree(s.state).resolveInner(s.pos,-1);if(dontComplete.indexOf(e.name)>-1)return null;let a=e.name=="VariableName"||e.to-e.from<20&&Identifier.test(s.state.sliceDoc(e.from,e.to));if(!a&&!s.explicit)return null;let o=[];for(let c=e;c;c=c.parent)ScopeNodes.has(c.name)&&(o=o.concat(getScope(s.state.doc,c)));return{options:o,from:a?e.from:s.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:s=>{let e=s.textAfter,a=/^\s*\}/.test(e),o=/^\s*(case|default)\b/.test(e);return s.baseIndent+(a?0:o?1:2)*s.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:s=>s.baseIndent+s.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(s){let e=/^\s*<\//.test(s.textAfter);return s.lineIndent(s.node.from)+(e?0:s.unit)},JSXEscape(s){let e=/\s*\}/.test(s.textAfter);return s.lineIndent(s.node.from)+(e?0:s.unit)},"JSXOpenTag JSXSelfClosingTag"(s){return s.column(s.node.from)+s.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":foldInside,BlockComment(s){return{from:s.from+2,to:s.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx"}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts"},"typescript"),keywords$2="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(s=>({label:s,type:"keyword"}));function javascript(s={}){let e=s.jsx?s.typescript?tsxLanguage:jsxLanguage:s.typescript?typescriptLanguage:javascriptLanguage;return new LanguageSupport(e,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(snippets.concat(keywords$2)))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),s.jsx?autoCloseTags:[]])}function elementName(s,e,a=s.length){if(!e)return"";let o=e.getChild("JSXIdentifier");return o?s.sliceString(o.from,Math.min(o.to,a)):""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((s,e,a,o)=>{if((android?s.composing:s.compositionStarted)||s.state.readOnly||e!=a||o!=">"&&o!="/"||!javascriptLanguage.isActiveAt(s.state,e,-1))return!1;let{state:c}=s,d=c.changeByRange(b=>{var k,$,_;let{head:j}=b,_e=syntaxTree(c).resolveInner(j,-1),tt;if(_e.name=="JSXStartTag"&&(_e=_e.parent),o==">"&&_e.name=="JSXFragmentTag")return{range:EditorSelection.cursor(j+1),changes:{from:j,insert:"><>"}};if(o==">"&&_e.name=="JSXIdentifier"){if((($=(k=_e.parent)===null||k===void 0?void 0:k.lastChild)===null||$===void 0?void 0:$.name)!="JSXEndTag"&&(tt=elementName(c.doc,_e.parent,j)))return{range:EditorSelection.cursor(j+1),changes:{from:j,insert:`></${tt}>`}}}else if(o=="/"&&_e.name=="JSXFragmentTag"){let it=_e.parent,nt=it==null?void 0:it.parent;if(it.from==j-1&&((_=nt.lastChild)===null||_===void 0?void 0:_.name)!="JSXEndTag"&&(tt=elementName(c.doc,nt==null?void 0:nt.firstChild,j))){let at=`/${tt}>`;return{range:EditorSelection.cursor(j+at.length),changes:{from:j,insert:at}}}}return{range:b}});return d.changes.empty?!1:(s.dispatch(d,{userEvent:"input.type",scrollIntoView:!0}),!0)});var createTheme=s=>{var{theme:e,settings:a,styles:o}=s,c={"&":{backgroundColor:a.background,color:a.foreground},".cm-gutters":{}};a.gutterBackground&&(c[".cm-gutters"].backgroundColor=a.gutterBackground),a.gutterForeground&&(c[".cm-gutters"].color=a.gutterForeground),a.gutterBorder&&(c[".cm-gutters"].borderRightColor=a.gutterBorder),a.caret&&(c[".cm-content"]={caretColor:a.caret},c[".cm-cursor, .cm-dropCursor"]={borderLeftColor:a.caret}),a.lineHighlight&&(c[".cm-activeLine"]={backgroundColor:a.lineHighlight},c[".cm-activeLineGutter"]={backgroundColor:a.lineHighlight}),a.selection&&(c["&.cm-focused .cm-selectionBackground .cm-selectionBackground, & .cm-selectionLayer .cm-selectionBackground, ::selection"]={backgroundColor:a.selection}),a.selectionMatch&&(c["& .cm-selectionMatch"]={backgroundColor:a.selectionMatch});var d=EditorView.theme(c,{dark:e==="dark"}),b=HighlightStyle.define(o),k=[d,syntaxHighlighting(b)];return k};const useObserver=(s,{root:e,rootMargin:a,threshold:o}={},c=[])=>{const d=react.exports.useRef(null),b=react.exports.useRef(null);return react.exports.useCallback($=>{d.current&&b.current&&(b.current.unobserve(d.current),b.current.disconnect(),b.current=null),$&&(b.current=new IntersectionObserver(s,{root:e,rootMargin:a,threshold:o}),b.current.observe($),d.current=$)},[d,e,a,JSON.stringify(o),...c])},useInView=({root:s,rootMargin:e,threshold:a,unobserveOnEnter:o,target:c,onEnter:d,onLeave:b,defaultInView:k}={},$=[])=>{const[_,j]=react.exports.useState({inView:k||!1,entry:null,observer:null}),_e=react.exports.useCallback(([it],nt)=>{const rt=nt.thresholds.some(st=>it.intersectionRatio>=st)&&it.isIntersecting;j({inView:rt,entry:it,observer:nt}),rt&&o&&(nt.unobserve(it.target),nt.disconnect()),rt?d==null||d(it,nt):b==null||b(it,nt)},[d,b,o]),tt=useObserver(_e,{root:s,rootMargin:e,threshold:a},[o,...$]);return react.exports.useEffect(()=>{c!=null&&c.current&&tt(c.current)},[c,tt]),[tt,_.inView,_.entry,_.observer]};if(typeof DelayNode!="undefined"){class s extends DelayNode{constructor(a,o,c,d){super(a),o=Math.abs(o),this.delayTime.value=c;const b=a.createGain();b.gain.value=Math.min(Math.abs(d),.995),this.feedback=b.gain;const k=a.createGain();return k.gain.value=o,this.delayGain=k,this.connect(b),this.connect(k),b.connect(this),this.connect=$=>k.connect($),this}start(a){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,a+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(e,a,o){return new s(this,e,a,o)}}typeof AudioContext!="undefined"&&(AudioContext.prototype.impulseResponse=function(s,e=1){const a=this.sampleRate*s,o=this.createBuffer(e,a,this.sampleRate),c=o.getChannelData(0);for(let d=0;d<a;d++)c[d]=(2*Math.random()-1)*Math.pow(1-d/a,s);return o},AudioContext.prototype.createReverb=function(s){const e=this.createConvolver();return e.setDuration=a=>(e.buffer=this.impulseResponse(a),e.duration=s,e),e.setDuration(s),e});const bufferCache={},loadCache={},getCachedBuffer=s=>bufferCache[s];function humanFileSize(s,e){var a=e?1e3:1024;if(s<a)return s+" B";var o=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],c=-1;do s/=a,++c;while(s>=a);return s.toFixed(1)+" "+o[c]}const getSampleBufferSource=async(s,e,a,o)=>{let c=0,d=typeof a=="string"?toMidi(a):a||36;c=d-36;const b=getAudioContext(),k=getLoadedSamples();if(!k)throw new Error("no samples loaded");const $=k==null?void 0:k[s];if(!$)throw new Error(`sample not found: "${s}"`);if(typeof $!="object")throw new Error("wrong format for sample bank:",s);let _;if(Array.isArray($))_=$[e%$.length];else{const it=at=>toMidi(at)-d,nt=Object.keys($).filter(at=>!at.startsWith("_")).reduce((at,rt,st)=>!at||Math.abs(it(rt))<Math.abs(it(at))?rt:at,null);c=-it(nt),_=$[nt][e%$[nt].length]}let j=await loadBuffer(_,b,s,e);o<0&&(j=reverseBuffer(j));const _e=b.createBufferSource();_e.buffer=j;const tt=1*Math.pow(2,c/12);return _e.playbackRate.value=tt,_e},loadBuffer=(s,e,a,o=0)=>{const c=a?`sound "${a}:${o}"`:"sample";if(!loadCache[s]){logger(`[sampler] load ${c}..`,"load-sample",{url:s});const d=Date.now();loadCache[s]=fetch(s).then(b=>b.arrayBuffer()).then(async b=>{const k=Date.now()-d,$=humanFileSize(b.byteLength);logger(`[sampler] load ${c}... done! loaded ${$} in ${k}ms`,"loaded-sample",{url:s});const _=await e.decodeAudioData(b);return bufferCache[s]=_,_})}return loadCache[s]};function reverseBuffer(s){const e=getAudioContext(),a=e.createBuffer(s.numberOfChannels,s.length,e.sampleRate);for(let o=0;o<s.numberOfChannels;o++)a.copyToChannel(s.getChannelData(o).slice().reverse(),o,o);return a}const getLoadedBuffer=s=>bufferCache[s];let sampleCache={current:void 0};const samples=async(s,e=s._base||"")=>{if(typeof s=="string"){if(s.startsWith("github:")){const[o,c]=s.split("github:");s=`https://raw.githubusercontent.com/${c}/strudel.json`}if(typeof fetch!="function")return;const a=s.split("/").slice(0,-1).join("/");return typeof fetch=="undefined"?void 0:fetch(s).then(o=>o.json()).then(o=>samples(o,e||o._base||a)).catch(o=>{throw console.error(o),new Error(`error loading "${s}"`)})}sampleCache.current=Jt(Jt({},sampleCache.current),Object.fromEntries(Object.entries(s).map(([a,o])=>{if(typeof o=="string"&&(o=[o]),typeof o!="object")throw new Error("wrong sample map format for "+a);e=o._base||e;const c=d=>(e+d).replace("github:","https://raw.githubusercontent.com/");return Array.isArray(o)?[a,o.map(c)]:[a,Object.fromEntries(Object.entries(o).map(([d,b])=>[d,(typeof b=="string"?[b]:b).map(c)]))]})))},resetLoadedSamples=()=>{sampleCache.current=void 0},getLoadedSamples=()=>sampleCache.current;var vowelFormant={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]}};if(typeof GainNode!="undefined"){class s extends GainNode{constructor(a,o){if(super(a),!vowelFormant[o])throw new Error("vowel: unknown vowel "+o);const{gains:c,qs:d,freqs:b}=vowelFormant[o],k=a.createGain();for(let $=0;$<5;$++){const _=a.createGain();_.gain.value=c[$];const j=a.createBiquadFilter();j.type="bandpass",j.Q.value=d[$],j.frequency.value=b[$],this.connect(j),j.connect(_),_.connect(k)}return k.gain.value=8,this.connect=$=>k.connect($),this}}AudioContext.prototype.createVowelFilter=function(e){return new s(this,e)}}var workletsUrl="data:application/javascript;base64,Ly8gTElDRU5TRSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2My4wIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZGt0cjAvV2ViRGlydC9ibG9iL21haW4vTElDRU5TRQovLyBhbGwgdGhlIGNyZWRpdCBnb2VzIHRvIGRrdHIwJ3Mgd2ViZGlydDogaHR0cHM6Ly9naXRodWIuY29tL2RrdHIwL1dlYkRpcnQvYmxvYi81Y2UzZDY5ODM2MmM1NGQ2ZTFiNjhhY2M0N2ViMjk1NWFjNjJjNzkzL2Rpc3QvQXVkaW9Xb3JrbGV0cy5qcwovLyA8MwoKY2xhc3MgQ29hcnNlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjb2Fyc2UnLCBkZWZhdWx0VmFsdWU6IDEgfV07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLm5vdFN0YXJ0ZWQgPSB0cnVlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKICAgIGNvbnN0IGNvYXJzZSA9IHBhcmFtZXRlcnMuY29hcnNlOwogICAgY29uc3QgYmxvY2tTaXplID0gMTI4OwogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKGhhc0lucHV0KSB7CiAgICAgIHRoaXMubm90U3RhcnRlZCA9IGZhbHNlOwogICAgICBvdXRwdXRbMF1bMF0gPSBpbnB1dFswXVswXTsKICAgICAgZm9yIChsZXQgbiA9IDE7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICAgIGZvciAobGV0IG8gPSAwOyBvIDwgb3V0cHV0Lmxlbmd0aDsgbysrKSB7CiAgICAgICAgICBvdXRwdXRbb11bbl0gPSBuICUgY29hcnNlID09IDAgPyBpbnB1dFswXVtuXSA6IG91dHB1dFtvXVtuIC0gMV07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdGhpcy5ub3RTdGFydGVkIHx8IGhhc0lucHV0OwogIH0KfQoKcmVnaXN0ZXJQcm9jZXNzb3IoJ2NvYXJzZS1wcm9jZXNzb3InLCBDb2Fyc2VQcm9jZXNzb3IpOwoKY2xhc3MgQ3J1c2hQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogIHN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKSB7CiAgICByZXR1cm4gW3sgbmFtZTogJ2NydXNoJywgZGVmYXVsdFZhbHVlOiAwIH1dOwogIH0KCiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5ub3RTdGFydGVkID0gdHJ1ZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CiAgICBjb25zdCBjcnVzaCA9IHBhcmFtZXRlcnMuY3J1c2g7CiAgICBjb25zdCBibG9ja1NpemUgPSAxMjg7CiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAoaGFzSW5wdXQpIHsKICAgICAgdGhpcy5ub3RTdGFydGVkID0gZmFsc2U7CiAgICAgIGlmIChjcnVzaC5sZW5ndGggPT09IDEpIHsKICAgICAgICBjb25zdCB4ID0gTWF0aC5wb3coMiwgY3J1c2hbMF0gLSAxKTsKICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgICAgICBjb25zdCB2YWx1ZSA9IE1hdGgucm91bmQoaW5wdXRbMF1bbl0gKiB4KSAvIHg7CiAgICAgICAgICBmb3IgKGxldCBvID0gMDsgbyA8IG91dHB1dC5sZW5ndGg7IG8rKykgewogICAgICAgICAgICBvdXRwdXRbb11bbl0gPSB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICAgICAgbGV0IHggPSBNYXRoLnBvdygyLCBjcnVzaFtuXSAtIDEpOwogICAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLnJvdW5kKGlucHV0WzBdW25dICogeCkgLyB4OwogICAgICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPCBvdXRwdXQubGVuZ3RoOyBvKyspIHsKICAgICAgICAgICAgb3V0cHV0W29dW25dID0gdmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdGhpcy5ub3RTdGFydGVkIHx8IGhhc0lucHV0OwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignY3J1c2gtcHJvY2Vzc29yJywgQ3J1c2hQcm9jZXNzb3IpOwoKY2xhc3MgU2hhcGVQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogIHN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKSB7CiAgICByZXR1cm4gW3sgbmFtZTogJ3NoYXBlJywgZGVmYXVsdFZhbHVlOiAwIH1dOwogIH0KCiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5ub3RTdGFydGVkID0gdHJ1ZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CiAgICBjb25zdCBzaGFwZTAgPSBwYXJhbWV0ZXJzLnNoYXBlWzBdOwogICAgY29uc3Qgc2hhcGUxID0gc2hhcGUwIDwgMSA/IHNoYXBlMCA6IDEuMCAtIDRlLTEwOwogICAgY29uc3Qgc2hhcGUgPSAoMi4wICogc2hhcGUxKSAvICgxLjAgLSBzaGFwZTEpOwogICAgY29uc3QgYmxvY2tTaXplID0gMTI4OwogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKGhhc0lucHV0KSB7CiAgICAgIHRoaXMubm90U3RhcnRlZCA9IGZhbHNlOwogICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgICAgY29uc3QgdmFsdWUgPSAoKDEgKyBzaGFwZSkgKiBpbnB1dFswXVtuXSkgLyAoMSArIHNoYXBlICogTWF0aC5hYnMoaW5wdXRbMF1bbl0pKTsKICAgICAgICBmb3IgKGxldCBvID0gMDsgbyA8IG91dHB1dC5sZW5ndGg7IG8rKykgewogICAgICAgICAgb3V0cHV0W29dW25dID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdGhpcy5ub3RTdGFydGVkIHx8IGhhc0lucHV0OwogIH0KfQoKcmVnaXN0ZXJQcm9jZXNzb3IoJ3NoYXBlLXByb2Nlc3NvcicsIFNoYXBlUHJvY2Vzc29yKTsK";const{Pattern}=strudel;let audioContext;const getAudioContext$1=()=>(audioContext||(audioContext=new AudioContext),audioContext);let destination;const getDestination=()=>{const s=getAudioContext$1();return destination||(destination=s.createGain(),destination.connect(s.destination)),destination},panic=()=>{getDestination().gain.linearRampToValueAtTime(0,getAudioContext$1().currentTime+.01),destination=null},getFilter=(s,e,a)=>{const o=getAudioContext$1().createBiquadFilter();return o.type=s,o.frequency.value=e,o.Q.value=a,o},getADSR=(s,e,a,o,c,d,b)=>{const k=getAudioContext$1().createGain();return k.gain.setValueAtTime(0,d),k.gain.linearRampToValueAtTime(c,d+s),k.gain.linearRampToValueAtTime(a*c,d+s+e),k.gain.setValueAtTime(a*c,b),k.gain.linearRampToValueAtTime(0,b+o),k},getOscillator=({s,freq:e,t:a,duration:o,release:c})=>{const d=getAudioContext$1().createOscillator();return d.type=s||"triangle",d.frequency.value=Number(e),d.start(a),d.stop(a+o+c),d},getSoundfontKey=s=>{var o,c,d,b;if(!globalThis.soundfontList)return!1;if((c=(o=globalThis.soundfontList)==null?void 0:o.instruments)!=null&&c.includes(s))return s;const e=(b=(d=globalThis.soundfontList)==null?void 0:d.instrumentNames)==null?void 0:b.indexOf(s),a=e<10?`00${e}`:e<100?`0${e}`:e;if(e!==-1)return globalThis.soundfontList.instruments.find(k=>k.startsWith(a))},splitSN=(s,e)=>{if(!s.includes(":"))return[s,e];let[a,o]=s.split(":");return isNaN(Number(o))?[s,e]:[a,o]};let workletsLoading;function loadWorklets(){return workletsLoading||(workletsLoading=getAudioContext$1().audioWorklet.addModule(workletsUrl),workletsLoading)}function getWorklet(s,e,a){const o=new AudioWorkletNode(s,e);return Object.entries(a).forEach(([c,d])=>{o.parameters.get(c).value=d}),o}function initAudio(){if(typeof window!="undefined")try{getAudioContext$1().resume(),loadWorklets()}catch(s){console.warn("could not load AudioWorklet effects coarse, crush and shape",s)}}function initAudioOnFirstClick(){document.addEventListener("click",function s(){initAudio(),document.removeEventListener("click",s)})}function gainNode(s){const e=getAudioContext$1().createGain();return e.gain.value=s,e}const cutGroups=[];let delays={};function getDelay(s,e,a,o){var c;if(!delays[s]){const b=getAudioContext$1().createFeedbackDelay(1,e,a);(c=b.start)==null||c.call(b,o),b.connect(getDestination()),delays[s]=b}return delays[s].delayTime.value!==e&&delays[s].delayTime.setValueAtTime(e,o),delays[s].feedback.value!==a&&delays[s].feedback.setValueAtTime(a,o),delays[s]}let reverbs={};function getReverb(s,e=2){if(!reverbs[s]){const o=getAudioContext$1().createReverb(e);o.connect(getDestination()),reverbs[s]=o}return reverbs[s].duration!==e&&(reverbs[s]=reverbs[s].setDuration(e),reverbs[s].duration=e),reverbs[s]}function effectSend(s,e,a){const o=gainNode(a);return s.connect(o),o.connect(e),o}const webaudioOutput=async(s,e,a)=>{var zt;const o=getAudioContext$1();if(typeof s.value!="object")throw new Error(`hap.value ${s.value} is not supported by webaudio output. Hint: append .note() or .s() to the end`);let c=o.currentTime+e,{freq:d,s:b,bank:k,sf:$,clip:_=0,n:j=0,note:_e,gain:tt=.8,cutoff:it,resonance:nt=1,hcutoff:at,hresonance:rt=1,bandf:st,bandq:ht=1,coarse:gt,crush:ct,shape:ft,pan:dt,speed:mt=1,begin:Ot=0,end:yt=1,vowel:Ct,delay:kt=0,delayfeedback:bt=.5,delaytime:Et=.25,unit:At,nudge:Rt=0,cut:Dt,loop:Bt,orbit:Tt=1,room:Qt,size:jt=2,roomsize:vt=jt}=s.value;const{velocity:$t=1}=s.context;tt*=$t;const Pt=[];if(k&&b&&(b=`${k}_${b}`),typeof b=="string"&&([b,j]=splitSN(b,j)),typeof _e=="string"&&([_e,j]=splitSN(_e,j)),!b||["sine","square","triangle","sawtooth"].includes(b)){const{attack:qt=.001,decay:Ht=.05,sustain:an=.6,release:en=.01}=s.value;j=_e||j||36,typeof j=="string"&&(j=toMidi$1(j)),!d&&typeof j=="number"&&(d=fromMidi(j));const hn=getOscillator({t:c,s:b,freq:d,duration:a,release:en});Pt.push(hn),Pt.push(gainNode(.3));const It=getADSR(qt,Ht,an,en,1,c,c+a);Pt.push(It)}else{const{attack:qt=.001,decay:Ht=.001,sustain:an=1,release:en=.001}=s.value;if(mt===0)return;if(!b){console.warn("no sample specified");return}const hn=getSoundfontKey(b);let It;if(hn?It=await globalThis.getFontBufferSource(hn,_e||j,o):It=await getSampleBufferSource(b,j,_e,mt),o.currentTime>c){logger(`[sampler] still loading sound "${b}:${j}"`,"highlight");return}if(!It){console.warn("no buffer source");return}It.playbackRate.value=Math.abs(mt)*It.playbackRate.value,At==="c"&&(It.playbackRate.value=It.playbackRate.value*It.buffer.duration);let rn=hn||_?a:It.buffer.duration/It.playbackRate.value;const un=Ot*rn*It.playbackRate.value;rn=(yt-Ot)*rn,Bt&&(It.loop=!0,It.loopStart=un,It.loopEnd=un+rn,rn=Bt*rn),c+=Rt,It.start(c,un),Dt!==void 0&&((zt=cutGroups[Dt])==null||zt.stop(c),cutGroups[Dt]=It),Pt.push(It),It.stop(c+rn+en);const yn=getADSR(qt,Ht,an,en,1,c,c+rn);Pt.push(yn)}if(Pt.push(gainNode(tt)),it!==void 0&&Pt.push(getFilter("lowpass",it,nt)),at!==void 0&&Pt.push(getFilter("highpass",at,rt)),st!==void 0&&Pt.push(getFilter("bandpass",st,ht)),Ct!==void 0&&Pt.push(o.createVowelFilter(Ct)),gt!==void 0&&Pt.push(getWorklet(o,"coarse-processor",{coarse:gt})),ct!==void 0&&Pt.push(getWorklet(o,"crush-processor",{crush:ct})),ft!==void 0&&Pt.push(getWorklet(o,"shape-processor",{shape:ft})),dt!==void 0){const qt=o.createStereoPanner();qt.pan.value=2*dt-1,Pt.push(qt)}const Mt=gainNode(1);Pt.push(Mt),Mt.connect(getDestination());let Ft;if(kt>0&&Et>0&&bt>0){const qt=getDelay(Tt,Et,bt,c);Ft=effectSend(Mt,qt,kt)}let Wt;if(Qt>0&&vt>0){const qt=getReverb(Tt,vt);Wt=effectSend(Mt,qt,Qt)}Pt.slice(1).reduce((qt,Ht)=>qt.connect(Ht),Pt[0]),Pt[0].onended=()=>Pt.concat([Ft,Wt]).forEach(qt=>qt==null?void 0:qt.disconnect())},webaudioOutputTrigger=(s,e,a,o)=>webaudioOutput(e,s-a,e.duration/o);Pattern.prototype.out=function(){return this.onTrigger(webaudioOutputTrigger)};var escodegen={},estraverse={};(function(s){(function e(a){var o,c,d,b,k,$;function _(ft){var dt={},mt,Ot;for(mt in ft)ft.hasOwnProperty(mt)&&(Ot=ft[mt],typeof Ot=="object"&&Ot!==null?dt[mt]=_(Ot):dt[mt]=Ot);return dt}function j(ft,dt){var mt,Ot,yt,Ct;for(Ot=ft.length,yt=0;Ot;)mt=Ot>>>1,Ct=yt+mt,dt(ft[Ct])?Ot=mt:(yt=Ct+1,Ot-=mt+1);return yt}o={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},d={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},b={},k={},$={},c={Break:b,Skip:k,Remove:$};function _e(ft,dt){this.parent=ft,this.key=dt}_e.prototype.replace=function(dt){this.parent[this.key]=dt},_e.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function tt(ft,dt,mt,Ot){this.node=ft,this.path=dt,this.wrap=mt,this.ref=Ot}function it(){}it.prototype.path=function(){var dt,mt,Ot,yt,Ct,kt;function bt(Et,At){if(Array.isArray(At))for(Ot=0,yt=At.length;Ot<yt;++Ot)Et.push(At[Ot]);else Et.push(At)}if(!this.__current.path)return null;for(Ct=[],dt=2,mt=this.__leavelist.length;dt<mt;++dt)kt=this.__leavelist[dt],bt(Ct,kt.path);return bt(Ct,this.__current.path),Ct},it.prototype.type=function(){var ft=this.current();return ft.type||this.__current.wrap},it.prototype.parents=function(){var dt,mt,Ot;for(Ot=[],dt=1,mt=this.__leavelist.length;dt<mt;++dt)Ot.push(this.__leavelist[dt].node);return Ot},it.prototype.current=function(){return this.__current.node},it.prototype.__execute=function(dt,mt){var Ot,yt;return yt=void 0,Ot=this.__current,this.__current=mt,this.__state=null,dt&&(yt=dt.call(this,mt.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=Ot,yt},it.prototype.notify=function(dt){this.__state=dt},it.prototype.skip=function(){this.notify(k)},it.prototype.break=function(){this.notify(b)},it.prototype.remove=function(){this.notify($)},it.prototype.__initialize=function(ft,dt){this.visitor=dt,this.root=ft,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,dt.fallback==="iteration"?this.__fallback=Object.keys:typeof dt.fallback=="function"&&(this.__fallback=dt.fallback),this.__keys=d,dt.keys&&(this.__keys=Object.assign(Object.create(this.__keys),dt.keys))};function nt(ft){return ft==null?!1:typeof ft=="object"&&typeof ft.type=="string"}function at(ft,dt){return(ft===o.ObjectExpression||ft===o.ObjectPattern)&&dt==="properties"}function rt(ft,dt){for(var mt=ft.length-1;mt>=0;--mt)if(ft[mt].node===dt)return!0;return!1}it.prototype.traverse=function(dt,mt){var Ot,yt,Ct,kt,bt,Et,At,Rt,Dt,Bt,Tt,Qt;for(this.__initialize(dt,mt),Qt={},Ot=this.__worklist,yt=this.__leavelist,Ot.push(new tt(dt,null,null,null)),yt.push(new tt(null,null,null,null));Ot.length;){if(Ct=Ot.pop(),Ct===Qt){if(Ct=yt.pop(),Et=this.__execute(mt.leave,Ct),this.__state===b||Et===b)return;continue}if(Ct.node){if(Et=this.__execute(mt.enter,Ct),this.__state===b||Et===b)return;if(Ot.push(Qt),yt.push(Ct),this.__state===k||Et===k)continue;if(kt=Ct.node,bt=kt.type||Ct.wrap,Bt=this.__keys[bt],!Bt)if(this.__fallback)Bt=this.__fallback(kt);else throw new Error("Unknown node type "+bt+".");for(Rt=Bt.length;(Rt-=1)>=0;)if(At=Bt[Rt],Tt=kt[At],!!Tt){if(Array.isArray(Tt)){for(Dt=Tt.length;(Dt-=1)>=0;)if(!!Tt[Dt]&&!rt(yt,Tt[Dt])){if(at(bt,Bt[Rt]))Ct=new tt(Tt[Dt],[At,Dt],"Property",null);else if(nt(Tt[Dt]))Ct=new tt(Tt[Dt],[At,Dt],null,null);else continue;Ot.push(Ct)}}else if(nt(Tt)){if(rt(yt,Tt))continue;Ot.push(new tt(Tt,At,null,null))}}}}},it.prototype.replace=function(dt,mt){var Ot,yt,Ct,kt,bt,Et,At,Rt,Dt,Bt,Tt,Qt,jt;function vt($t){var Pt,Mt,Ft,Wt;if($t.ref.remove()){for(Mt=$t.ref.key,Wt=$t.ref.parent,Pt=Ot.length;Pt--;)if(Ft=Ot[Pt],Ft.ref&&Ft.ref.parent===Wt){if(Ft.ref.key<Mt)break;--Ft.ref.key}}}for(this.__initialize(dt,mt),Tt={},Ot=this.__worklist,yt=this.__leavelist,Qt={root:dt},Et=new tt(dt,null,null,new _e(Qt,"root")),Ot.push(Et),yt.push(Et);Ot.length;){if(Et=Ot.pop(),Et===Tt){if(Et=yt.pop(),bt=this.__execute(mt.leave,Et),bt!==void 0&&bt!==b&&bt!==k&&bt!==$&&Et.ref.replace(bt),(this.__state===$||bt===$)&&vt(Et),this.__state===b||bt===b)return Qt.root;continue}if(bt=this.__execute(mt.enter,Et),bt!==void 0&&bt!==b&&bt!==k&&bt!==$&&(Et.ref.replace(bt),Et.node=bt),(this.__state===$||bt===$)&&(vt(Et),Et.node=null),this.__state===b||bt===b)return Qt.root;if(Ct=Et.node,!!Ct&&(Ot.push(Tt),yt.push(Et),!(this.__state===k||bt===k))){if(kt=Ct.type||Et.wrap,Dt=this.__keys[kt],!Dt)if(this.__fallback)Dt=this.__fallback(Ct);else throw new Error("Unknown node type "+kt+".");for(At=Dt.length;(At-=1)>=0;)if(jt=Dt[At],Bt=Ct[jt],!!Bt)if(Array.isArray(Bt)){for(Rt=Bt.length;(Rt-=1)>=0;)if(!!Bt[Rt]){if(at(kt,Dt[At]))Et=new tt(Bt[Rt],[jt,Rt],"Property",new _e(Bt,Rt));else if(nt(Bt[Rt]))Et=new tt(Bt[Rt],[jt,Rt],null,new _e(Bt,Rt));else continue;Ot.push(Et)}}else nt(Bt)&&Ot.push(new tt(Bt,jt,null,new _e(Ct,jt)))}}return Qt.root};function st(ft,dt){var mt=new it;return mt.traverse(ft,dt)}function ht(ft,dt){var mt=new it;return mt.replace(ft,dt)}function gt(ft,dt){var mt;return mt=j(dt,function(yt){return yt.range[0]>ft.range[0]}),ft.extendedRange=[ft.range[0],ft.range[1]],mt!==dt.length&&(ft.extendedRange[1]=dt[mt].range[0]),mt-=1,mt>=0&&(ft.extendedRange[0]=dt[mt].range[1]),ft}function ct(ft,dt,mt){var Ot=[],yt,Ct,kt,bt;if(!ft.range)throw new Error("attachComments needs range information");if(!mt.length){if(dt.length){for(kt=0,Ct=dt.length;kt<Ct;kt+=1)yt=_(dt[kt]),yt.extendedRange=[0,ft.range[0]],Ot.push(yt);ft.leadingComments=Ot}return ft}for(kt=0,Ct=dt.length;kt<Ct;kt+=1)Ot.push(gt(_(dt[kt]),mt));return bt=0,st(ft,{enter:function(Et){for(var At;bt<Ot.length&&(At=Ot[bt],!(At.extendedRange[1]>Et.range[0]));)At.extendedRange[1]===Et.range[0]?(Et.leadingComments||(Et.leadingComments=[]),Et.leadingComments.push(At),Ot.splice(bt,1)):bt+=1;if(bt===Ot.length)return c.Break;if(Ot[bt].extendedRange[0]>Et.range[1])return c.Skip}}),bt=0,st(ft,{leave:function(Et){for(var At;bt<Ot.length&&(At=Ot[bt],!(Et.range[1]<At.extendedRange[0]));)Et.range[1]===At.extendedRange[0]?(Et.trailingComments||(Et.trailingComments=[]),Et.trailingComments.push(At),Ot.splice(bt,1)):bt+=1;if(bt===Ot.length)return c.Break;if(Ot[bt].extendedRange[0]>Et.range[1])return c.Skip}}),ft}return a.Syntax=o,a.traverse=st,a.replace=ht,a.attachComments=ct,a.VisitorKeys=d,a.VisitorOption=c,a.Controller=it,a.cloneEnvironment=function(){return e({})},a})(s)})(estraverse);var utils={},ast={exports:{}};(function(){function s(b){if(b==null)return!1;switch(b.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function e(b){if(b==null)return!1;switch(b.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function a(b){if(b==null)return!1;switch(b.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function o(b){return a(b)||b!=null&&b.type==="FunctionDeclaration"}function c(b){switch(b.type){case"IfStatement":return b.alternate!=null?b.alternate:b.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return b.body}return null}function d(b){var k;if(b.type!=="IfStatement"||b.alternate==null)return!1;k=b.consequent;do{if(k.type==="IfStatement"&&k.alternate==null)return!0;k=c(k)}while(k);return!1}ast.exports={isExpression:s,isStatement:a,isIterationStatement:e,isSourceElement:o,isProblematicIfStatement:d,trailingStatement:c}})();var code={exports:{}};(function(){var s,e,a,o,c,d;e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},s={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function b(rt){return 48<=rt&&rt<=57}function k(rt){return 48<=rt&&rt<=57||97<=rt&&rt<=102||65<=rt&&rt<=70}function $(rt){return rt>=48&&rt<=55}a=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function _(rt){return rt===32||rt===9||rt===11||rt===12||rt===160||rt>=5760&&a.indexOf(rt)>=0}function j(rt){return rt===10||rt===13||rt===8232||rt===8233}function _e(rt){if(rt<=65535)return String.fromCharCode(rt);var st=String.fromCharCode(Math.floor((rt-65536)/1024)+55296),ht=String.fromCharCode((rt-65536)%1024+56320);return st+ht}for(o=new Array(128),d=0;d<128;++d)o[d]=d>=97&&d<=122||d>=65&&d<=90||d===36||d===95;for(c=new Array(128),d=0;d<128;++d)c[d]=d>=97&&d<=122||d>=65&&d<=90||d>=48&&d<=57||d===36||d===95;function tt(rt){return rt<128?o[rt]:e.NonAsciiIdentifierStart.test(_e(rt))}function it(rt){return rt<128?c[rt]:e.NonAsciiIdentifierPart.test(_e(rt))}function nt(rt){return rt<128?o[rt]:s.NonAsciiIdentifierStart.test(_e(rt))}function at(rt){return rt<128?c[rt]:s.NonAsciiIdentifierPart.test(_e(rt))}code.exports={isDecimalDigit:b,isHexDigit:k,isOctalDigit:$,isWhiteSpace:_,isLineTerminator:j,isIdentifierStartES5:tt,isIdentifierPartES5:it,isIdentifierStartES6:nt,isIdentifierPartES6:at}})();var keyword={exports:{}};(function(){var s=code.exports;function e(tt){switch(tt){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function a(tt,it){return!it&&tt==="yield"?!1:o(tt,it)}function o(tt,it){if(it&&e(tt))return!0;switch(tt.length){case 2:return tt==="if"||tt==="in"||tt==="do";case 3:return tt==="var"||tt==="for"||tt==="new"||tt==="try";case 4:return tt==="this"||tt==="else"||tt==="case"||tt==="void"||tt==="with"||tt==="enum";case 5:return tt==="while"||tt==="break"||tt==="catch"||tt==="throw"||tt==="const"||tt==="yield"||tt==="class"||tt==="super";case 6:return tt==="return"||tt==="typeof"||tt==="delete"||tt==="switch"||tt==="export"||tt==="import";case 7:return tt==="default"||tt==="finally"||tt==="extends";case 8:return tt==="function"||tt==="continue"||tt==="debugger";case 10:return tt==="instanceof";default:return!1}}function c(tt,it){return tt==="null"||tt==="true"||tt==="false"||a(tt,it)}function d(tt,it){return tt==="null"||tt==="true"||tt==="false"||o(tt,it)}function b(tt){return tt==="eval"||tt==="arguments"}function k(tt){var it,nt,at;if(tt.length===0||(at=tt.charCodeAt(0),!s.isIdentifierStartES5(at)))return!1;for(it=1,nt=tt.length;it<nt;++it)if(at=tt.charCodeAt(it),!s.isIdentifierPartES5(at))return!1;return!0}function $(tt,it){return(tt-55296)*1024+(it-56320)+65536}function _(tt){var it,nt,at,rt,st;if(tt.length===0)return!1;for(st=s.isIdentifierStartES6,it=0,nt=tt.length;it<nt;++it){if(at=tt.charCodeAt(it),55296<=at&&at<=56319){if(++it,it>=nt||(rt=tt.charCodeAt(it),!(56320<=rt&&rt<=57343)))return!1;at=$(at,rt)}if(!st(at))return!1;st=s.isIdentifierPartES6}return!0}function j(tt,it){return k(tt)&&!c(tt,it)}function _e(tt,it){return _(tt)&&!d(tt,it)}keyword.exports={isKeywordES5:a,isKeywordES6:o,isReservedWordES5:c,isReservedWordES6:d,isRestrictedWord:b,isIdentifierNameES5:k,isIdentifierNameES6:_,isIdentifierES5:j,isIdentifierES6:_e}})();(function(){utils.ast=ast.exports,utils.code=code.exports,utils.keyword=keyword.exports})();var sourceMap={},sourceMapGenerator={},base64Vlq={},base64$1={},intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");base64$1.encode=function(s){if(0<=s&&s<intToCharMap.length)return intToCharMap[s];throw new TypeError("Must be between 0 and 63: "+s)};base64$1.decode=function(s){var e=65,a=90,o=97,c=122,d=48,b=57,k=43,$=47,_=26,j=52;return e<=s&&s<=a?s-e:o<=s&&s<=c?s-o+_:d<=s&&s<=b?s-d+j:s==k?62:s==$?63:-1};var base64=base64$1,VLQ_BASE_SHIFT=5,VLQ_BASE=1<<VLQ_BASE_SHIFT,VLQ_BASE_MASK=VLQ_BASE-1,VLQ_CONTINUATION_BIT=VLQ_BASE;function toVLQSigned(s){return s<0?(-s<<1)+1:(s<<1)+0}function fromVLQSigned(s){var e=(s&1)===1,a=s>>1;return e?-a:a}base64Vlq.encode=function s(e){var a="",o,c=toVLQSigned(e);do o=c&VLQ_BASE_MASK,c>>>=VLQ_BASE_SHIFT,c>0&&(o|=VLQ_CONTINUATION_BIT),a+=base64.encode(o);while(c>0);return a};base64Vlq.decode=function s(e,a,o){var c=e.length,d=0,b=0,k,$;do{if(a>=c)throw new Error("Expected more digits in base 64 VLQ value.");if($=base64.decode(e.charCodeAt(a++)),$===-1)throw new Error("Invalid base64 digit: "+e.charAt(a-1));k=!!($&VLQ_CONTINUATION_BIT),$&=VLQ_BASE_MASK,d=d+($<<b),b+=VLQ_BASE_SHIFT}while(k);o.value=fromVLQSigned(d),o.rest=a};var util$5={};(function(s){function e(ct,ft,dt){if(ft in ct)return ct[ft];if(arguments.length===3)return dt;throw new Error('"'+ft+'" is a required argument.')}s.getArg=e;var a=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,o=/^data:.+\,.+$/;function c(ct){var ft=ct.match(a);return ft?{scheme:ft[1],auth:ft[2],host:ft[3],port:ft[4],path:ft[5]}:null}s.urlParse=c;function d(ct){var ft="";return ct.scheme&&(ft+=ct.scheme+":"),ft+="//",ct.auth&&(ft+=ct.auth+"@"),ct.host&&(ft+=ct.host),ct.port&&(ft+=":"+ct.port),ct.path&&(ft+=ct.path),ft}s.urlGenerate=d;function b(ct){var ft=ct,dt=c(ct);if(dt){if(!dt.path)return ct;ft=dt.path}for(var mt=s.isAbsolute(ft),Ot=ft.split(/\/+/),yt,Ct=0,kt=Ot.length-1;kt>=0;kt--)yt=Ot[kt],yt==="."?Ot.splice(kt,1):yt===".."?Ct++:Ct>0&&(yt===""?(Ot.splice(kt+1,Ct),Ct=0):(Ot.splice(kt,2),Ct--));return ft=Ot.join("/"),ft===""&&(ft=mt?"/":"."),dt?(dt.path=ft,d(dt)):ft}s.normalize=b;function k(ct,ft){ct===""&&(ct="."),ft===""&&(ft=".");var dt=c(ft),mt=c(ct);if(mt&&(ct=mt.path||"/"),dt&&!dt.scheme)return mt&&(dt.scheme=mt.scheme),d(dt);if(dt||ft.match(o))return ft;if(mt&&!mt.host&&!mt.path)return mt.host=ft,d(mt);var Ot=ft.charAt(0)==="/"?ft:b(ct.replace(/\/+$/,"")+"/"+ft);return mt?(mt.path=Ot,d(mt)):Ot}s.join=k,s.isAbsolute=function(ct){return ct.charAt(0)==="/"||a.test(ct)};function $(ct,ft){ct===""&&(ct="."),ct=ct.replace(/\/$/,"");for(var dt=0;ft.indexOf(ct+"/")!==0;){var mt=ct.lastIndexOf("/");if(mt<0||(ct=ct.slice(0,mt),ct.match(/^([^\/]+:\/)?\/*$/)))return ft;++dt}return Array(dt+1).join("../")+ft.substr(ct.length+1)}s.relative=$;var _=function(){var ct=Object.create(null);return!("__proto__"in ct)}();function j(ct){return ct}function _e(ct){return it(ct)?"$"+ct:ct}s.toSetString=_?j:_e;function tt(ct){return it(ct)?ct.slice(1):ct}s.fromSetString=_?j:tt;function it(ct){if(!ct)return!1;var ft=ct.length;if(ft<9||ct.charCodeAt(ft-1)!==95||ct.charCodeAt(ft-2)!==95||ct.charCodeAt(ft-3)!==111||ct.charCodeAt(ft-4)!==116||ct.charCodeAt(ft-5)!==111||ct.charCodeAt(ft-6)!==114||ct.charCodeAt(ft-7)!==112||ct.charCodeAt(ft-8)!==95||ct.charCodeAt(ft-9)!==95)return!1;for(var dt=ft-10;dt>=0;dt--)if(ct.charCodeAt(dt)!==36)return!1;return!0}function nt(ct,ft,dt){var mt=rt(ct.source,ft.source);return mt!==0||(mt=ct.originalLine-ft.originalLine,mt!==0)||(mt=ct.originalColumn-ft.originalColumn,mt!==0||dt)||(mt=ct.generatedColumn-ft.generatedColumn,mt!==0)||(mt=ct.generatedLine-ft.generatedLine,mt!==0)?mt:rt(ct.name,ft.name)}s.compareByOriginalPositions=nt;function at(ct,ft,dt){var mt=ct.generatedLine-ft.generatedLine;return mt!==0||(mt=ct.generatedColumn-ft.generatedColumn,mt!==0||dt)||(mt=rt(ct.source,ft.source),mt!==0)||(mt=ct.originalLine-ft.originalLine,mt!==0)||(mt=ct.originalColumn-ft.originalColumn,mt!==0)?mt:rt(ct.name,ft.name)}s.compareByGeneratedPositionsDeflated=at;function rt(ct,ft){return ct===ft?0:ct===null?1:ft===null?-1:ct>ft?1:-1}function st(ct,ft){var dt=ct.generatedLine-ft.generatedLine;return dt!==0||(dt=ct.generatedColumn-ft.generatedColumn,dt!==0)||(dt=rt(ct.source,ft.source),dt!==0)||(dt=ct.originalLine-ft.originalLine,dt!==0)||(dt=ct.originalColumn-ft.originalColumn,dt!==0)?dt:rt(ct.name,ft.name)}s.compareByGeneratedPositionsInflated=st;function ht(ct){return JSON.parse(ct.replace(/^\)]}'[^\n]*\n/,""))}s.parseSourceMapInput=ht;function gt(ct,ft,dt){if(ft=ft||"",ct&&(ct[ct.length-1]!=="/"&&ft[0]!=="/"&&(ct+="/"),ft=ct+ft),dt){var mt=c(dt);if(!mt)throw new Error("sourceMapURL could not be parsed");if(mt.path){var Ot=mt.path.lastIndexOf("/");Ot>=0&&(mt.path=mt.path.substring(0,Ot+1))}ft=k(d(mt),ft)}return b(ft)}s.computeSourceURL=gt})(util$5);var arraySet={},util$4=util$5,has=Object.prototype.hasOwnProperty,hasNativeMap=typeof Map!="undefined";function ArraySet$2(){this._array=[],this._set=hasNativeMap?new Map:Object.create(null)}ArraySet$2.fromArray=function s(e,a){for(var o=new ArraySet$2,c=0,d=e.length;c<d;c++)o.add(e[c],a);return o};ArraySet$2.prototype.size=function s(){return hasNativeMap?this._set.size:Object.getOwnPropertyNames(this._set).length};ArraySet$2.prototype.add=function s(e,a){var o=hasNativeMap?e:util$4.toSetString(e),c=hasNativeMap?this.has(e):has.call(this._set,o),d=this._array.length;(!c||a)&&this._array.push(e),c||(hasNativeMap?this._set.set(e,d):this._set[o]=d)};ArraySet$2.prototype.has=function s(e){if(hasNativeMap)return this._set.has(e);var a=util$4.toSetString(e);return has.call(this._set,a)};ArraySet$2.prototype.indexOf=function s(e){if(hasNativeMap){var a=this._set.get(e);if(a>=0)return a}else{var o=util$4.toSetString(e);if(has.call(this._set,o))return this._set[o]}throw new Error('"'+e+'" is not in the set.')};ArraySet$2.prototype.at=function s(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};ArraySet$2.prototype.toArray=function s(){return this._array.slice()};arraySet.ArraySet=ArraySet$2;var mappingList={},util$3=util$5;function generatedPositionAfter(s,e){var a=s.generatedLine,o=e.generatedLine,c=s.generatedColumn,d=e.generatedColumn;return o>a||o==a&&d>=c||util$3.compareByGeneratedPositionsInflated(s,e)<=0}function MappingList$1(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}MappingList$1.prototype.unsortedForEach=function s(e,a){this._array.forEach(e,a)};MappingList$1.prototype.add=function s(e){generatedPositionAfter(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};MappingList$1.prototype.toArray=function s(){return this._sorted||(this._array.sort(util$3.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};mappingList.MappingList=MappingList$1;var base64VLQ$1=base64Vlq,util$2=util$5,ArraySet$1=arraySet.ArraySet,MappingList=mappingList.MappingList;function SourceMapGenerator$1(s){s||(s={}),this._file=util$2.getArg(s,"file",null),this._sourceRoot=util$2.getArg(s,"sourceRoot",null),this._skipValidation=util$2.getArg(s,"skipValidation",!1),this._sources=new ArraySet$1,this._names=new ArraySet$1,this._mappings=new MappingList,this._sourcesContents=null}SourceMapGenerator$1.prototype._version=3;SourceMapGenerator$1.fromSourceMap=function s(e){var a=e.sourceRoot,o=new SourceMapGenerator$1({file:e.file,sourceRoot:a});return e.eachMapping(function(c){var d={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(d.source=c.source,a!=null&&(d.source=util$2.relative(a,d.source)),d.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(d.name=c.name)),o.addMapping(d)}),e.sources.forEach(function(c){var d=c;a!==null&&(d=util$2.relative(a,c)),o._sources.has(d)||o._sources.add(d);var b=e.sourceContentFor(c);b!=null&&o.setSourceContent(c,b)}),o};SourceMapGenerator$1.prototype.addMapping=function s(e){var a=util$2.getArg(e,"generated"),o=util$2.getArg(e,"original",null),c=util$2.getArg(e,"source",null),d=util$2.getArg(e,"name",null);this._skipValidation||this._validateMapping(a,o,c,d),c!=null&&(c=String(c),this._sources.has(c)||this._sources.add(c)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:a.line,generatedColumn:a.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:c,name:d})};SourceMapGenerator$1.prototype.setSourceContent=function s(e,a){var o=e;this._sourceRoot!=null&&(o=util$2.relative(this._sourceRoot,o)),a!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[util$2.toSetString(o)]=a):this._sourcesContents&&(delete this._sourcesContents[util$2.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};SourceMapGenerator$1.prototype.applySourceMap=function s(e,a,o){var c=a;if(a==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=e.file}var d=this._sourceRoot;d!=null&&(c=util$2.relative(d,c));var b=new ArraySet$1,k=new ArraySet$1;this._mappings.unsortedForEach(function($){if($.source===c&&$.originalLine!=null){var _=e.originalPositionFor({line:$.originalLine,column:$.originalColumn});_.source!=null&&($.source=_.source,o!=null&&($.source=util$2.join(o,$.source)),d!=null&&($.source=util$2.relative(d,$.source)),$.originalLine=_.line,$.originalColumn=_.column,_.name!=null&&($.name=_.name))}var j=$.source;j!=null&&!b.has(j)&&b.add(j);var _e=$.name;_e!=null&&!k.has(_e)&&k.add(_e)},this),this._sources=b,this._names=k,e.sources.forEach(function($){var _=e.sourceContentFor($);_!=null&&(o!=null&&($=util$2.join(o,$)),d!=null&&($=util$2.relative(d,$)),this.setSourceContent($,_))},this)};SourceMapGenerator$1.prototype._validateMapping=function s(e,a,o,c){if(a&&typeof a.line!="number"&&typeof a.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!a&&!o&&!c)){if(e&&"line"in e&&"column"in e&&a&&"line"in a&&"column"in a&&e.line>0&&e.column>=0&&a.line>0&&a.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:o,original:a,name:c}))}};SourceMapGenerator$1.prototype._serializeMappings=function s(){for(var e=0,a=1,o=0,c=0,d=0,b=0,k="",$,_,j,_e,tt=this._mappings.toArray(),it=0,nt=tt.length;it<nt;it++){if(_=tt[it],$="",_.generatedLine!==a)for(e=0;_.generatedLine!==a;)$+=";",a++;else if(it>0){if(!util$2.compareByGeneratedPositionsInflated(_,tt[it-1]))continue;$+=","}$+=base64VLQ$1.encode(_.generatedColumn-e),e=_.generatedColumn,_.source!=null&&(_e=this._sources.indexOf(_.source),$+=base64VLQ$1.encode(_e-b),b=_e,$+=base64VLQ$1.encode(_.originalLine-1-c),c=_.originalLine-1,$+=base64VLQ$1.encode(_.originalColumn-o),o=_.originalColumn,_.name!=null&&(j=this._names.indexOf(_.name),$+=base64VLQ$1.encode(j-d),d=j)),k+=$}return k};SourceMapGenerator$1.prototype._generateSourcesContent=function s(e,a){return e.map(function(o){if(!this._sourcesContents)return null;a!=null&&(o=util$2.relative(a,o));var c=util$2.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)};SourceMapGenerator$1.prototype.toJSON=function s(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};SourceMapGenerator$1.prototype.toString=function s(){return JSON.stringify(this.toJSON())};sourceMapGenerator.SourceMapGenerator=SourceMapGenerator$1;var sourceMapConsumer={},binarySearch$1={};(function(s){s.GREATEST_LOWER_BOUND=1,s.LEAST_UPPER_BOUND=2;function e(a,o,c,d,b,k){var $=Math.floor((o-a)/2)+a,_=b(c,d[$],!0);return _===0?$:_>0?o-$>1?e($,o,c,d,b,k):k==s.LEAST_UPPER_BOUND?o<d.length?o:-1:$:$-a>1?e(a,$,c,d,b,k):k==s.LEAST_UPPER_BOUND?$:a<0?-1:a}s.search=function(o,c,d,b){if(c.length===0)return-1;var k=e(-1,c.length,o,c,d,b||s.GREATEST_LOWER_BOUND);if(k<0)return-1;for(;k-1>=0&&d(c[k],c[k-1],!0)===0;)--k;return k}})(binarySearch$1);var quickSort$1={};function swap(s,e,a){var o=s[e];s[e]=s[a],s[a]=o}function randomIntInRange(s,e){return Math.round(s+Math.random()*(e-s))}function doQuickSort(s,e,a,o){if(a<o){var c=randomIntInRange(a,o),d=a-1;swap(s,c,o);for(var b=s[o],k=a;k<o;k++)e(s[k],b)<=0&&(d+=1,swap(s,d,k));swap(s,d+1,k);var $=d+1;doQuickSort(s,e,a,$-1),doQuickSort(s,e,$+1,o)}}quickSort$1.quickSort=function(s,e){doQuickSort(s,e,0,s.length-1)};var util$1=util$5,binarySearch=binarySearch$1,ArraySet=arraySet.ArraySet,base64VLQ=base64Vlq,quickSort=quickSort$1.quickSort;function SourceMapConsumer(s,e){var a=s;return typeof s=="string"&&(a=util$1.parseSourceMapInput(s)),a.sections!=null?new IndexedSourceMapConsumer(a,e):new BasicSourceMapConsumer(a,e)}SourceMapConsumer.fromSourceMap=function(s,e){return BasicSourceMapConsumer.fromSourceMap(s,e)};SourceMapConsumer.prototype._version=3;SourceMapConsumer.prototype.__generatedMappings=null;Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});SourceMapConsumer.prototype.__originalMappings=null;Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});SourceMapConsumer.prototype._charIsMappingSeparator=function s(e,a){var o=e.charAt(a);return o===";"||o===","};SourceMapConsumer.prototype._parseMappings=function s(e,a){throw new Error("Subclasses must implement _parseMappings")};SourceMapConsumer.GENERATED_ORDER=1;SourceMapConsumer.ORIGINAL_ORDER=2;SourceMapConsumer.GREATEST_LOWER_BOUND=1;SourceMapConsumer.LEAST_UPPER_BOUND=2;SourceMapConsumer.prototype.eachMapping=function s(e,a,o){var c=a||null,d=o||SourceMapConsumer.GENERATED_ORDER,b;switch(d){case SourceMapConsumer.GENERATED_ORDER:b=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:b=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var k=this.sourceRoot;b.map(function($){var _=$.source===null?null:this._sources.at($.source);return _=util$1.computeSourceURL(k,_,this._sourceMapURL),{source:_,generatedLine:$.generatedLine,generatedColumn:$.generatedColumn,originalLine:$.originalLine,originalColumn:$.originalColumn,name:$.name===null?null:this._names.at($.name)}},this).forEach(e,c)};SourceMapConsumer.prototype.allGeneratedPositionsFor=function s(e){var a=util$1.getArg(e,"line"),o={source:util$1.getArg(e,"source"),originalLine:a,originalColumn:util$1.getArg(e,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var c=[],d=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",util$1.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(d>=0){var b=this._originalMappings[d];if(e.column===void 0)for(var k=b.originalLine;b&&b.originalLine===k;)c.push({line:util$1.getArg(b,"generatedLine",null),column:util$1.getArg(b,"generatedColumn",null),lastColumn:util$1.getArg(b,"lastGeneratedColumn",null)}),b=this._originalMappings[++d];else for(var $=b.originalColumn;b&&b.originalLine===a&&b.originalColumn==$;)c.push({line:util$1.getArg(b,"generatedLine",null),column:util$1.getArg(b,"generatedColumn",null),lastColumn:util$1.getArg(b,"lastGeneratedColumn",null)}),b=this._originalMappings[++d]}return c};sourceMapConsumer.SourceMapConsumer=SourceMapConsumer;function BasicSourceMapConsumer(s,e){var a=s;typeof s=="string"&&(a=util$1.parseSourceMapInput(s));var o=util$1.getArg(a,"version"),c=util$1.getArg(a,"sources"),d=util$1.getArg(a,"names",[]),b=util$1.getArg(a,"sourceRoot",null),k=util$1.getArg(a,"sourcesContent",null),$=util$1.getArg(a,"mappings"),_=util$1.getArg(a,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);b&&(b=util$1.normalize(b)),c=c.map(String).map(util$1.normalize).map(function(j){return b&&util$1.isAbsolute(b)&&util$1.isAbsolute(j)?util$1.relative(b,j):j}),this._names=ArraySet.fromArray(d.map(String),!0),this._sources=ArraySet.fromArray(c,!0),this._absoluteSources=this._sources.toArray().map(function(j){return util$1.computeSourceURL(b,j,e)}),this.sourceRoot=b,this.sourcesContent=k,this._mappings=$,this._sourceMapURL=e,this.file=_}BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype);BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer;BasicSourceMapConsumer.prototype._findSourceIndex=function(s){var e=s;if(this.sourceRoot!=null&&(e=util$1.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var a;for(a=0;a<this._absoluteSources.length;++a)if(this._absoluteSources[a]==s)return a;return-1};BasicSourceMapConsumer.fromSourceMap=function s(e,a){var o=Object.create(BasicSourceMapConsumer.prototype),c=o._names=ArraySet.fromArray(e._names.toArray(),!0),d=o._sources=ArraySet.fromArray(e._sources.toArray(),!0);o.sourceRoot=e._sourceRoot,o.sourcesContent=e._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=e._file,o._sourceMapURL=a,o._absoluteSources=o._sources.toArray().map(function(it){return util$1.computeSourceURL(o.sourceRoot,it,a)});for(var b=e._mappings.toArray().slice(),k=o.__generatedMappings=[],$=o.__originalMappings=[],_=0,j=b.length;_<j;_++){var _e=b[_],tt=new Mapping;tt.generatedLine=_e.generatedLine,tt.generatedColumn=_e.generatedColumn,_e.source&&(tt.source=d.indexOf(_e.source),tt.originalLine=_e.originalLine,tt.originalColumn=_e.originalColumn,_e.name&&(tt.name=c.indexOf(_e.name)),$.push(tt)),k.push(tt)}return quickSort(o.__originalMappings,util$1.compareByOriginalPositions),o};BasicSourceMapConsumer.prototype._version=3;Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}BasicSourceMapConsumer.prototype._parseMappings=function s(e,a){for(var o=1,c=0,d=0,b=0,k=0,$=0,_=e.length,j=0,_e={},tt={},it=[],nt=[],at,rt,st,ht,gt;j<_;)if(e.charAt(j)===";")o++,j++,c=0;else if(e.charAt(j)===",")j++;else{for(at=new Mapping,at.generatedLine=o,ht=j;ht<_&&!this._charIsMappingSeparator(e,ht);ht++);if(rt=e.slice(j,ht),st=_e[rt],st)j+=rt.length;else{for(st=[];j<ht;)base64VLQ.decode(e,j,tt),gt=tt.value,j=tt.rest,st.push(gt);if(st.length===2)throw new Error("Found a source, but no line and column");if(st.length===3)throw new Error("Found a source and line, but no column");_e[rt]=st}at.generatedColumn=c+st[0],c=at.generatedColumn,st.length>1&&(at.source=k+st[1],k+=st[1],at.originalLine=d+st[2],d=at.originalLine,at.originalLine+=1,at.originalColumn=b+st[3],b=at.originalColumn,st.length>4&&(at.name=$+st[4],$+=st[4])),nt.push(at),typeof at.originalLine=="number"&&it.push(at)}quickSort(nt,util$1.compareByGeneratedPositionsDeflated),this.__generatedMappings=nt,quickSort(it,util$1.compareByOriginalPositions),this.__originalMappings=it};BasicSourceMapConsumer.prototype._findMapping=function s(e,a,o,c,d,b){if(e[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[o]);if(e[c]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[c]);return binarySearch.search(e,a,d,b)};BasicSourceMapConsumer.prototype.computeColumnSpans=function s(){for(var e=0;e<this._generatedMappings.length;++e){var a=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var o=this._generatedMappings[e+1];if(a.generatedLine===o.generatedLine){a.lastGeneratedColumn=o.generatedColumn-1;continue}}a.lastGeneratedColumn=1/0}};BasicSourceMapConsumer.prototype.originalPositionFor=function s(e){var a={generatedLine:util$1.getArg(e,"line"),generatedColumn:util$1.getArg(e,"column")},o=this._findMapping(a,this._generatedMappings,"generatedLine","generatedColumn",util$1.compareByGeneratedPositionsDeflated,util$1.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(o>=0){var c=this._generatedMappings[o];if(c.generatedLine===a.generatedLine){var d=util$1.getArg(c,"source",null);d!==null&&(d=this._sources.at(d),d=util$1.computeSourceURL(this.sourceRoot,d,this._sourceMapURL));var b=util$1.getArg(c,"name",null);return b!==null&&(b=this._names.at(b)),{source:d,line:util$1.getArg(c,"originalLine",null),column:util$1.getArg(c,"originalColumn",null),name:b}}}return{source:null,line:null,column:null,name:null}};BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function s(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};BasicSourceMapConsumer.prototype.sourceContentFor=function s(e,a){if(!this.sourcesContent)return null;var o=this._findSourceIndex(e);if(o>=0)return this.sourcesContent[o];var c=e;this.sourceRoot!=null&&(c=util$1.relative(this.sourceRoot,c));var d;if(this.sourceRoot!=null&&(d=util$1.urlParse(this.sourceRoot))){var b=c.replace(/^file:\/\//,"");if(d.scheme=="file"&&this._sources.has(b))return this.sourcesContent[this._sources.indexOf(b)];if((!d.path||d.path=="/")&&this._sources.has("/"+c))return this.sourcesContent[this._sources.indexOf("/"+c)]}if(a)return null;throw new Error('"'+c+'" is not in the SourceMap.')};BasicSourceMapConsumer.prototype.generatedPositionFor=function s(e){var a=util$1.getArg(e,"source");if(a=this._findSourceIndex(a),a<0)return{line:null,column:null,lastColumn:null};var o={source:a,originalLine:util$1.getArg(e,"line"),originalColumn:util$1.getArg(e,"column")},c=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",util$1.compareByOriginalPositions,util$1.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(c>=0){var d=this._originalMappings[c];if(d.source===o.source)return{line:util$1.getArg(d,"generatedLine",null),column:util$1.getArg(d,"generatedColumn",null),lastColumn:util$1.getArg(d,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};sourceMapConsumer.BasicSourceMapConsumer=BasicSourceMapConsumer;function IndexedSourceMapConsumer(s,e){var a=s;typeof s=="string"&&(a=util$1.parseSourceMapInput(s));var o=util$1.getArg(a,"version"),c=util$1.getArg(a,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new ArraySet,this._names=new ArraySet;var d={line:-1,column:0};this._sections=c.map(function(b){if(b.url)throw new Error("Support for url field in sections not implemented.");var k=util$1.getArg(b,"offset"),$=util$1.getArg(k,"line"),_=util$1.getArg(k,"column");if($<d.line||$===d.line&&_<d.column)throw new Error("Section offsets must be ordered and non-overlapping.");return d=k,{generatedOffset:{generatedLine:$+1,generatedColumn:_+1},consumer:new SourceMapConsumer(util$1.getArg(b,"map"),e)}})}IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype);IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer;IndexedSourceMapConsumer.prototype._version=3;Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var s=[],e=0;e<this._sections.length;e++)for(var a=0;a<this._sections[e].consumer.sources.length;a++)s.push(this._sections[e].consumer.sources[a]);return s}});IndexedSourceMapConsumer.prototype.originalPositionFor=function s(e){var a={generatedLine:util$1.getArg(e,"line"),generatedColumn:util$1.getArg(e,"column")},o=binarySearch.search(a,this._sections,function(d,b){var k=d.generatedLine-b.generatedOffset.generatedLine;return k||d.generatedColumn-b.generatedOffset.generatedColumn}),c=this._sections[o];return c?c.consumer.originalPositionFor({line:a.generatedLine-(c.generatedOffset.generatedLine-1),column:a.generatedColumn-(c.generatedOffset.generatedLine===a.generatedLine?c.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function s(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};IndexedSourceMapConsumer.prototype.sourceContentFor=function s(e,a){for(var o=0;o<this._sections.length;o++){var c=this._sections[o],d=c.consumer.sourceContentFor(e,!0);if(d)return d}if(a)return null;throw new Error('"'+e+'" is not in the SourceMap.')};IndexedSourceMapConsumer.prototype.generatedPositionFor=function s(e){for(var a=0;a<this._sections.length;a++){var o=this._sections[a];if(o.consumer._findSourceIndex(util$1.getArg(e,"source"))!==-1){var c=o.consumer.generatedPositionFor(e);if(c){var d={line:c.line+(o.generatedOffset.generatedLine-1),column:c.column+(o.generatedOffset.generatedLine===c.line?o.generatedOffset.generatedColumn-1:0)};return d}}}return{line:null,column:null}};IndexedSourceMapConsumer.prototype._parseMappings=function s(e,a){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var c=this._sections[o],d=c.consumer._generatedMappings,b=0;b<d.length;b++){var k=d[b],$=c.consumer._sources.at(k.source);$=util$1.computeSourceURL(c.consumer.sourceRoot,$,this._sourceMapURL),this._sources.add($),$=this._sources.indexOf($);var _=null;k.name&&(_=c.consumer._names.at(k.name),this._names.add(_),_=this._names.indexOf(_));var j={source:$,generatedLine:k.generatedLine+(c.generatedOffset.generatedLine-1),generatedColumn:k.generatedColumn+(c.generatedOffset.generatedLine===k.generatedLine?c.generatedOffset.generatedColumn-1:0),originalLine:k.originalLine,originalColumn:k.originalColumn,name:_};this.__generatedMappings.push(j),typeof j.originalLine=="number"&&this.__originalMappings.push(j)}quickSort(this.__generatedMappings,util$1.compareByGeneratedPositionsDeflated),quickSort(this.__originalMappings,util$1.compareByOriginalPositions)};sourceMapConsumer.IndexedSourceMapConsumer=IndexedSourceMapConsumer;var sourceNode={},SourceMapGenerator=sourceMapGenerator.SourceMapGenerator,util=util$5,REGEX_NEWLINE=/(\r?\n)/,NEWLINE_CODE=10,isSourceNode="$$$isSourceNode$$$";function SourceNode(s,e,a,o,c){this.children=[],this.sourceContents={},this.line=s==null?null:s,this.column=e==null?null:e,this.source=a==null?null:a,this.name=c==null?null:c,this[isSourceNode]=!0,o!=null&&this.add(o)}SourceNode.fromStringWithSourceMap=function s(e,a,o){var c=new SourceNode,d=e.split(REGEX_NEWLINE),b=0,k=function(){var tt=nt(),it=nt()||"";return tt+it;function nt(){return b<d.length?d[b++]:void 0}},$=1,_=0,j=null;return a.eachMapping(function(tt){if(j!==null)if($<tt.generatedLine)_e(j,k()),$++,_=0;else{var it=d[b]||"",nt=it.substr(0,tt.generatedColumn-_);d[b]=it.substr(tt.generatedColumn-_),_=tt.generatedColumn,_e(j,nt),j=tt;return}for(;$<tt.generatedLine;)c.add(k()),$++;if(_<tt.generatedColumn){var it=d[b]||"";c.add(it.substr(0,tt.generatedColumn)),d[b]=it.substr(tt.generatedColumn),_=tt.generatedColumn}j=tt},this),b<d.length&&(j&&_e(j,k()),c.add(d.splice(b).join(""))),a.sources.forEach(function(tt){var it=a.sourceContentFor(tt);it!=null&&(o!=null&&(tt=util.join(o,tt)),c.setSourceContent(tt,it))}),c;function _e(tt,it){if(tt===null||tt.source===void 0)c.add(it);else{var nt=o?util.join(o,tt.source):tt.source;c.add(new SourceNode(tt.originalLine,tt.originalColumn,nt,it,tt.name))}}};SourceNode.prototype.add=function s(e){if(Array.isArray(e))e.forEach(function(a){this.add(a)},this);else if(e[isSourceNode]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};SourceNode.prototype.prepend=function s(e){if(Array.isArray(e))for(var a=e.length-1;a>=0;a--)this.prepend(e[a]);else if(e[isSourceNode]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};SourceNode.prototype.walk=function s(e){for(var a,o=0,c=this.children.length;o<c;o++)a=this.children[o],a[isSourceNode]?a.walk(e):a!==""&&e(a,{source:this.source,line:this.line,column:this.column,name:this.name})};SourceNode.prototype.join=function s(e){var a,o,c=this.children.length;if(c>0){for(a=[],o=0;o<c-1;o++)a.push(this.children[o]),a.push(e);a.push(this.children[o]),this.children=a}return this};SourceNode.prototype.replaceRight=function s(e,a){var o=this.children[this.children.length-1];return o[isSourceNode]?o.replaceRight(e,a):typeof o=="string"?this.children[this.children.length-1]=o.replace(e,a):this.children.push("".replace(e,a)),this};SourceNode.prototype.setSourceContent=function s(e,a){this.sourceContents[util.toSetString(e)]=a};SourceNode.prototype.walkSourceContents=function s(e){for(var a=0,o=this.children.length;a<o;a++)this.children[a][isSourceNode]&&this.children[a].walkSourceContents(e);for(var c=Object.keys(this.sourceContents),a=0,o=c.length;a<o;a++)e(util.fromSetString(c[a]),this.sourceContents[c[a]])};SourceNode.prototype.toString=function s(){var e="";return this.walk(function(a){e+=a}),e};SourceNode.prototype.toStringWithSourceMap=function s(e){var a={code:"",line:1,column:0},o=new SourceMapGenerator(e),c=!1,d=null,b=null,k=null,$=null;return this.walk(function(_,j){a.code+=_,j.source!==null&&j.line!==null&&j.column!==null?((d!==j.source||b!==j.line||k!==j.column||$!==j.name)&&o.addMapping({source:j.source,original:{line:j.line,column:j.column},generated:{line:a.line,column:a.column},name:j.name}),d=j.source,b=j.line,k=j.column,$=j.name,c=!0):c&&(o.addMapping({generated:{line:a.line,column:a.column}}),d=null,c=!1);for(var _e=0,tt=_.length;_e<tt;_e++)_.charCodeAt(_e)===NEWLINE_CODE?(a.line++,a.column=0,_e+1===tt?(d=null,c=!1):c&&o.addMapping({source:j.source,original:{line:j.line,column:j.column},generated:{line:a.line,column:a.column},name:j.name})):a.column++}),this.walkSourceContents(function(_,j){o.setSourceContent(_,j)}),{code:a.code,map:o}};sourceNode.SourceNode=SourceNode;sourceMap.SourceMapGenerator=sourceMapGenerator.SourceMapGenerator;sourceMap.SourceMapConsumer=sourceMapConsumer.SourceMapConsumer;sourceMap.SourceNode=sourceNode.SourceNode;const name="escodegen",description="ECMAScript code generator",homepage="http://github.com/estools/escodegen",main="escodegen.js",bin={esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},files=["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],version$1="2.0.0",engines={node:">=6.0"},maintainers=[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository={type:"git",url:"http://github.com/estools/escodegen.git"},dependencies={estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1",optionator:"^0.8.1"},optionalDependencies={"source-map":"~0.6.1"},devDependencies={acorn:"^7.3.1",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^3.8.10","gulp-eslint":"^3.0.1","gulp-mocha":"^3.0.1",semver:"^5.1.0"},license="BSD-2-Clause",scripts={test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"};var require$$3={name,description,homepage,main,bin,files,version:version$1,engines,maintainers,repository,dependencies,optionalDependencies,devDependencies,license,scripts};(function(s){(function(){var e,a,o,c,d,b,k,$,_,j,_e,tt,it,nt,at,rt,st,ht,gt,ct,ft,dt,mt,Ot,yt,Ct;d=estraverse,b=utils,e=d.Syntax;function kt(et){return Gt.Expression.hasOwnProperty(et.type)}function bt(et){return Gt.Statement.hasOwnProperty(et.type)}a={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponentiation:13,Await:14,Unary:14,Postfix:15,OptionalChaining:16,Call:17,New:18,TaggedTemplate:19,Member:20,Primary:21},o={"||":a.LogicalOR,"&&":a.LogicalAND,"|":a.BitwiseOR,"^":a.BitwiseXOR,"&":a.BitwiseAND,"==":a.Equality,"!=":a.Equality,"===":a.Equality,"!==":a.Equality,is:a.Equality,isnt:a.Equality,"<":a.Relational,">":a.Relational,"<=":a.Relational,">=":a.Relational,in:a.Relational,instanceof:a.Relational,"<<":a.BitwiseSHIFT,">>":a.BitwiseSHIFT,">>>":a.BitwiseSHIFT,"+":a.Additive,"-":a.Additive,"*":a.Multiplicative,"%":a.Multiplicative,"/":a.Multiplicative,"**":a.Exponentiation};var Et=1,At=1<<1,Rt=1<<2,Dt=1<<3,Bt=1<<4,Tt=1<<5,Qt=At|Rt,jt=Et|At,vt=Et|At|Rt,$t=Et,Pt=Rt,Mt=Et|Rt,Ft=Et,Wt=Et|Tt,zt=0,qt=Et|Bt,Ht=Et|Dt;function an(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function en(et,lt){var ot="";for(lt|=0;lt>0;lt>>>=1,et+=et)lt&1&&(ot+=et);return ot}function hn(et){return/[\r\n]/g.test(et)}function It(et){var lt=et.length;return lt&&b.code.isLineTerminator(et.charCodeAt(lt-1))}function rn(et,lt){var ot;for(ot in lt)lt.hasOwnProperty(ot)&&(et[ot]=lt[ot]);return et}function un(et,lt){var ot,ut;function pt(St){return typeof St=="object"&&St instanceof Object&&!(St instanceof RegExp)}for(ot in lt)lt.hasOwnProperty(ot)&&(ut=lt[ot],pt(ut)?pt(et[ot])?un(et[ot],ut):et[ot]=un({},ut):et[ot]=ut);return et}function yn(et){var lt,ot,ut,pt,St;if(et!==et)throw new Error("Numeric literal whose value is NaN");if(et<0||et===0&&1/et<0)throw new Error("Numeric literal whose value is negative");if(et===1/0)return _?"null":j?"1e400":"1e+400";if(lt=""+et,!j||lt.length<3)return lt;for(ot=lt.indexOf("."),!_&&lt.charCodeAt(0)===48&&ot===1&&(ot=0,lt=lt.slice(1)),ut=lt,lt=lt.replace("e+","e"),pt=0,(St=ut.indexOf("e"))>0&&(pt=+ut.slice(St+1),ut=ut.slice(0,St)),ot>=0&&(pt-=ut.length-ot-1,ut=+(ut.slice(0,ot)+ut.slice(ot+1))+""),St=0;ut.charCodeAt(ut.length+St-1)===48;)--St;return St!==0&&(pt-=St,ut=ut.slice(0,St)),pt!==0&&(ut+="e"+pt),(ut.length<lt.length||_e&&et>1e12&&Math.floor(et)===et&&(ut="0x"+et.toString(16)).length<lt.length)&&+ut===et&&(lt=ut),lt}function Sn(et,lt){return(et&-2)===8232?(lt?"u":"\\u")+(et===8232?"2028":"2029"):et===10||et===13?(lt?"":"\\")+(et===10?"n":"r"):String.fromCharCode(et)}function $n(et){var lt,ot,ut,pt,St,xt,wt,Nt;if(ot=et.toString(),et.source){if(lt=ot.match(/\/([^/]*)$/),!lt)return ot;for(ut=lt[1],ot="",wt=!1,Nt=!1,pt=0,St=et.source.length;pt<St;++pt)xt=et.source.charCodeAt(pt),Nt?(ot+=Sn(xt,Nt),Nt=!1):(wt?xt===93&&(wt=!1):xt===47?ot+="\\":xt===91&&(wt=!0),ot+=Sn(xt,Nt),Nt=xt===92);return"/"+ot+"/"+ut}return ot}function Pn(et,lt){var ot;return et===8?"\\b":et===12?"\\f":et===9?"\\t":(ot=et.toString(16).toUpperCase(),_||et>255?"\\u"+"0000".slice(ot.length)+ot:et===0&&!b.code.isDecimalDigit(lt)?"\\0":et===11?"\\x0B":"\\x"+"00".slice(ot.length)+ot)}function Nn(et){if(et===92)return"\\\\";if(et===10)return"\\n";if(et===13)return"\\r";if(et===8232)return"\\u2028";if(et===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function Bn(et){var lt,ot,ut,pt;for(pt=tt==="double"?'"':"'",lt=0,ot=et.length;lt<ot;++lt)if(ut=et.charCodeAt(lt),ut===39){pt='"';break}else if(ut===34){pt="'";break}else ut===92&&++lt;return pt+et+pt}function Rn(et){var lt="",ot,ut,pt,St=0,xt=0,wt,Nt;for(ot=0,ut=et.length;ot<ut;++ot){if(pt=et.charCodeAt(ot),pt===39)++St;else if(pt===34)++xt;else if(pt===47&&_)lt+="\\";else if(b.code.isLineTerminator(pt)||pt===92){lt+=Nn(pt);continue}else if(!b.code.isIdentifierPartES5(pt)&&(_&&pt<32||!_&&!it&&(pt<32||pt>126))){lt+=Pn(pt,et.charCodeAt(ot+1));continue}lt+=String.fromCharCode(pt)}if(wt=!(tt==="double"||tt==="auto"&&xt<St),Nt=wt?"'":'"',!(wt?St:xt))return Nt+lt+Nt;for(et=lt,lt=Nt,ot=0,ut=et.length;ot<ut;++ot)pt=et.charCodeAt(ot),(pt===39&&wt||pt===34&&!wt)&&(lt+="\\"),lt+=String.fromCharCode(pt);return lt+Nt}function Cn(et){var lt,ot,ut,pt="";for(lt=0,ot=et.length;lt<ot;++lt)ut=et[lt],pt+=Array.isArray(ut)?Cn(ut):ut;return pt}function Vt(et,lt){if(!dt)return Array.isArray(et)?Cn(et):et;if(lt==null){if(et instanceof c)return et;lt={}}return lt.loc==null?new c(null,null,dt,et,lt.name||null):new c(lt.loc.start.line,lt.loc.start.column,dt===!0?lt.loc.source||null:dt,et,lt.name||null)}function Yt(){return at||" "}function _t(et,lt){var ot,ut,pt,St;return ot=Vt(et).toString(),ot.length===0?[lt]:(ut=Vt(lt).toString(),ut.length===0?[et]:(pt=ot.charCodeAt(ot.length-1),St=ut.charCodeAt(0),(pt===43||pt===45)&&pt===St||b.code.isIdentifierPartES5(pt)&&b.code.isIdentifierPartES5(St)||pt===47&&St===105?[et,Yt(),lt]:b.code.isWhiteSpace(pt)||b.code.isLineTerminator(pt)||b.code.isWhiteSpace(St)||b.code.isLineTerminator(St)?[et,lt]:[et,at,lt]))}function Kt(et){return[k,et]}function Xt(et){var lt;lt=k,k+=$,et(k),k=lt}function Qn(et){var lt;for(lt=et.length-1;lt>=0&&!b.code.isLineTerminator(et.charCodeAt(lt));--lt);return et.length-1-lt}function Fn(et,lt){var ot,ut,pt,St,xt,wt,Nt,Lt;for(ot=et.split(/\r\n|[\r\n]/),wt=Number.MAX_VALUE,ut=1,pt=ot.length;ut<pt;++ut){for(St=ot[ut],xt=0;xt<St.length&&b.code.isWhiteSpace(St.charCodeAt(xt));)++xt;wt>xt&&(wt=xt)}for(typeof lt!="undefined"?(Nt=k,ot[1][wt]==="*"&&(lt+=" "),k=lt):(wt&1&&--wt,Nt=k),ut=1,pt=ot.length;ut<pt;++ut)Lt=Vt(Kt(ot[ut].slice(wt))),ot[ut]=dt?Lt.join(""):Lt;return k=Nt,ot.join(`
`)}function ln(et,lt){if(et.type==="Line"){if(It(et.value))return"//"+et.value;var ot="//"+et.value;return Ot||(ot+=`
`),ot}return ct.format.indent.adjustMultilineComment&&/[\n\r]/.test(et.value)?Fn("/*"+et.value+"*/",lt):"/*"+et.value+"*/"}function En(et,lt){var ot,ut,pt,St,xt,wt,Nt,Lt,Ut,fn,dn,wn,kn,sn;if(et.leadingComments&&et.leadingComments.length>0){if(St=lt,Ot){for(pt=et.leadingComments[0],lt=[],Lt=pt.extendedRange,Ut=pt.range,dn=mt.substring(Lt[0],Ut[0]),sn=(dn.match(/\n/g)||[]).length,sn>0?(lt.push(en(`
`,sn)),lt.push(Kt(ln(pt)))):(lt.push(dn),lt.push(ln(pt))),fn=Ut,ot=1,ut=et.leadingComments.length;ot<ut;ot++)pt=et.leadingComments[ot],Ut=pt.range,wn=mt.substring(fn[1],Ut[0]),sn=(wn.match(/\n/g)||[]).length,lt.push(en(`
`,sn)),lt.push(Kt(ln(pt))),fn=Ut;kn=mt.substring(Ut[1],Lt[1]),sn=(kn.match(/\n/g)||[]).length,lt.push(en(`
`,sn))}else for(pt=et.leadingComments[0],lt=[],ht&&et.type===e.Program&&et.body.length===0&&lt.push(`
`),lt.push(ln(pt)),It(Vt(lt).toString())||lt.push(`
`),ot=1,ut=et.leadingComments.length;ot<ut;++ot)pt=et.leadingComments[ot],Nt=[ln(pt)],It(Vt(Nt).toString())||Nt.push(`
`),lt.push(Kt(Nt));lt.push(Kt(St))}if(et.trailingComments)if(Ot)pt=et.trailingComments[0],Lt=pt.extendedRange,Ut=pt.range,dn=mt.substring(Lt[0],Ut[0]),sn=(dn.match(/\n/g)||[]).length,sn>0?(lt.push(en(`
`,sn)),lt.push(Kt(ln(pt)))):(lt.push(dn),lt.push(ln(pt)));else for(xt=!It(Vt(lt).toString()),wt=en(" ",Qn(Vt([k,lt,$]).toString())),ot=0,ut=et.trailingComments.length;ot<ut;++ot)pt=et.trailingComments[ot],xt?(ot===0?lt=[lt,$]:lt=[lt,wt],lt.push(ln(pt,wt))):lt=[lt,Kt(ln(pt))],ot!==ut-1&&!It(Vt(lt).toString())&&(lt=[lt,`
`]);return lt}function pn(et,lt,ot){var ut,pt=0;for(ut=et;ut<lt;ut++)mt[ut]===`
`&&pt++;for(ut=1;ut<pt;ut++)ot.push(nt)}function Zt(et,lt,ot){return lt<ot?["(",et,")"]:et}function xn(et){var lt,ot,ut;for(ut=et.split(/\r\n|\n/),lt=1,ot=ut.length;lt<ot;lt++)ut[lt]=nt+k+ut[lt];return ut}function _n(et,lt){var ot,ut,pt;return ot=et[ct.verbatim],typeof ot=="string"?ut=Zt(xn(ot),a.Sequence,lt):(ut=xn(ot.content),pt=ot.precedence!=null?ot.precedence:a.Sequence,ut=Zt(ut,pt,lt)),Vt(ut,et)}function Gt(){}Gt.prototype.maybeBlock=function(et,lt){var ot,ut,pt=this;return ut=!ct.comment||!et.leadingComments,et.type===e.BlockStatement&&ut?[at,this.generateStatement(et,lt)]:et.type===e.EmptyStatement&&ut?";":(Xt(function(){ot=[nt,Kt(pt.generateStatement(et,lt))]}),ot)},Gt.prototype.maybeBlockSuffix=function(et,lt){var ot=It(Vt(lt).toString());return et.type===e.BlockStatement&&(!ct.comment||!et.leadingComments)&&!ot?[lt,at]:ot?[lt,k]:[lt,nt,k]};function tn(et){return Vt(et.name,et)}function mn(et,lt){return et.async?"async"+(lt?Yt():at):""}function gn(et){var lt=et.generator&&!ct.moz.starlessGenerator;return lt?"*"+at:""}function bn(et){var lt=et.value,ot="";return lt.async&&(ot+=mn(lt,!et.computed)),lt.generator&&(ot+=gn(lt)?"*":""),ot}Gt.prototype.generatePattern=function(et,lt,ot){return et.type===e.Identifier?tn(et):this.generateExpression(et,lt,ot)},Gt.prototype.generateFunctionParams=function(et){var lt,ot,ut,pt;if(pt=!1,et.type===e.ArrowFunctionExpression&&!et.rest&&(!et.defaults||et.defaults.length===0)&&et.params.length===1&&et.params[0].type===e.Identifier)ut=[mn(et,!0),tn(et.params[0])];else{for(ut=et.type===e.ArrowFunctionExpression?[mn(et,!1)]:[],ut.push("("),et.defaults&&(pt=!0),lt=0,ot=et.params.length;lt<ot;++lt)pt&&et.defaults[lt]?ut.push(this.generateAssignment(et.params[lt],et.defaults[lt],"=",a.Assignment,vt)):ut.push(this.generatePattern(et.params[lt],a.Assignment,vt)),lt+1<ot&&ut.push(","+at);et.rest&&(et.params.length&&ut.push(","+at),ut.push("..."),ut.push(tn(et.rest))),ut.push(")")}return ut},Gt.prototype.generateFunctionBody=function(et){var lt,ot;return lt=this.generateFunctionParams(et),et.type===e.ArrowFunctionExpression&&(lt.push(at),lt.push("=>")),et.expression?(lt.push(at),ot=this.generateExpression(et.body,a.Assignment,vt),ot.toString().charAt(0)==="{"&&(ot=["(",ot,")"]),lt.push(ot)):lt.push(this.maybeBlock(et.body,Ht)),lt},Gt.prototype.generateIterationForStatement=function(et,lt,ot){var ut=["for"+(lt.await?Yt()+"await":"")+at+"("],pt=this;return Xt(function(){lt.left.type===e.VariableDeclaration?Xt(function(){ut.push(lt.left.kind+Yt()),ut.push(pt.generateStatement(lt.left.declarations[0],zt))}):ut.push(pt.generateExpression(lt.left,a.Call,vt)),ut=_t(ut,et),ut=[_t(ut,pt.generateExpression(lt.right,a.Assignment,vt)),")"]}),ut.push(this.maybeBlock(lt.body,ot)),ut},Gt.prototype.generatePropertyKey=function(et,lt){var ot=[];return lt&&ot.push("["),ot.push(this.generateExpression(et,a.Assignment,vt)),lt&&ot.push("]"),ot},Gt.prototype.generateAssignment=function(et,lt,ot,ut,pt){return a.Assignment<ut&&(pt|=Et),Zt([this.generateExpression(et,a.Call,pt),at+ot+at,this.generateExpression(lt,a.Assignment,pt)],a.Assignment,ut)},Gt.prototype.semicolon=function(et){return!st&&et&Tt?"":";"},Gt.Statement={BlockStatement:function(et,lt){var ot,ut,pt=["{",nt],St=this;return Xt(function(){et.body.length===0&&Ot&&(ot=et.range,ot[1]-ot[0]>2&&(ut=mt.substring(ot[0]+1,ot[1]-1),ut[0]===`
`&&(pt=["{"]),pt.push(ut)));var xt,wt,Nt,Lt;for(Lt=Ft,lt&Dt&&(Lt|=Bt),xt=0,wt=et.body.length;xt<wt;++xt)Ot&&(xt===0&&(et.body[0].leadingComments&&(ot=et.body[0].leadingComments[0].extendedRange,ut=mt.substring(ot[0],ot[1]),ut[0]===`
`&&(pt=["{"])),et.body[0].leadingComments||pn(et.range[0],et.body[0].range[0],pt)),xt>0&&!et.body[xt-1].trailingComments&&!et.body[xt].leadingComments&&pn(et.body[xt-1].range[1],et.body[xt].range[0],pt)),xt===wt-1&&(Lt|=Tt),et.body[xt].leadingComments&&Ot?Nt=St.generateStatement(et.body[xt],Lt):Nt=Kt(St.generateStatement(et.body[xt],Lt)),pt.push(Nt),It(Vt(Nt).toString())||Ot&&xt<wt-1&&et.body[xt+1].leadingComments||pt.push(nt),Ot&&xt===wt-1&&(et.body[xt].trailingComments||pn(et.body[xt].range[1],et.range[1],pt))}),pt.push(Kt("}")),pt},BreakStatement:function(et,lt){return et.label?"break "+et.label.name+this.semicolon(lt):"break"+this.semicolon(lt)},ContinueStatement:function(et,lt){return et.label?"continue "+et.label.name+this.semicolon(lt):"continue"+this.semicolon(lt)},ClassBody:function(et,lt){var ot=["{",nt],ut=this;return Xt(function(pt){var St,xt;for(St=0,xt=et.body.length;St<xt;++St)ot.push(pt),ot.push(ut.generateExpression(et.body[St],a.Sequence,vt)),St+1<xt&&ot.push(nt)}),It(Vt(ot).toString())||ot.push(nt),ot.push(k),ot.push("}"),ot},ClassDeclaration:function(et,lt){var ot,ut;return ot=["class"],et.id&&(ot=_t(ot,this.generateExpression(et.id,a.Sequence,vt))),et.superClass&&(ut=_t("extends",this.generateExpression(et.superClass,a.Unary,vt)),ot=_t(ot,ut)),ot.push(at),ot.push(this.generateStatement(et.body,Wt)),ot},DirectiveStatement:function(et,lt){return ct.raw&&et.raw?et.raw+this.semicolon(lt):Bn(et.directive)+this.semicolon(lt)},DoWhileStatement:function(et,lt){var ot=_t("do",this.maybeBlock(et.body,Ft));return ot=this.maybeBlockSuffix(et.body,ot),_t(ot,["while"+at+"(",this.generateExpression(et.test,a.Sequence,vt),")"+this.semicolon(lt)])},CatchClause:function(et,lt){var ot,ut=this;return Xt(function(){var pt;et.param?(ot=["catch"+at+"(",ut.generateExpression(et.param,a.Sequence,vt),")"],et.guard&&(pt=ut.generateExpression(et.guard,a.Sequence,vt),ot.splice(2,0," if ",pt))):ot=["catch"]}),ot.push(this.maybeBlock(et.body,Ft)),ot},DebuggerStatement:function(et,lt){return"debugger"+this.semicolon(lt)},EmptyStatement:function(et,lt){return";"},ExportDefaultDeclaration:function(et,lt){var ot=["export"],ut;return ut=lt&Tt?Wt:Ft,ot=_t(ot,"default"),bt(et.declaration)?ot=_t(ot,this.generateStatement(et.declaration,ut)):ot=_t(ot,this.generateExpression(et.declaration,a.Assignment,vt)+this.semicolon(lt)),ot},ExportNamedDeclaration:function(et,lt){var ot=["export"],ut,pt=this;return ut=lt&Tt?Wt:Ft,et.declaration?_t(ot,this.generateStatement(et.declaration,ut)):(et.specifiers&&(et.specifiers.length===0?ot=_t(ot,"{"+at+"}"):et.specifiers[0].type===e.ExportBatchSpecifier?ot=_t(ot,this.generateExpression(et.specifiers[0],a.Sequence,vt)):(ot=_t(ot,"{"),Xt(function(St){var xt,wt;for(ot.push(nt),xt=0,wt=et.specifiers.length;xt<wt;++xt)ot.push(St),ot.push(pt.generateExpression(et.specifiers[xt],a.Sequence,vt)),xt+1<wt&&ot.push(","+nt)}),It(Vt(ot).toString())||ot.push(nt),ot.push(k+"}")),et.source?ot=_t(ot,["from"+at,this.generateExpression(et.source,a.Sequence,vt),this.semicolon(lt)]):ot.push(this.semicolon(lt))),ot)},ExportAllDeclaration:function(et,lt){return["export"+at,"*"+at,"from"+at,this.generateExpression(et.source,a.Sequence,vt),this.semicolon(lt)]},ExpressionStatement:function(et,lt){var ot,ut;function pt(wt){var Nt;return wt.slice(0,5)!=="class"?!1:(Nt=wt.charCodeAt(5),Nt===123||b.code.isWhiteSpace(Nt)||b.code.isLineTerminator(Nt))}function St(wt){var Nt;return wt.slice(0,8)!=="function"?!1:(Nt=wt.charCodeAt(8),Nt===40||b.code.isWhiteSpace(Nt)||Nt===42||b.code.isLineTerminator(Nt))}function xt(wt){var Nt,Lt,Ut;if(wt.slice(0,5)!=="async"||!b.code.isWhiteSpace(wt.charCodeAt(5)))return!1;for(Lt=6,Ut=wt.length;Lt<Ut&&b.code.isWhiteSpace(wt.charCodeAt(Lt));++Lt);return Lt===Ut||wt.slice(Lt,Lt+8)!=="function"?!1:(Nt=wt.charCodeAt(Lt+8),Nt===40||b.code.isWhiteSpace(Nt)||Nt===42||b.code.isLineTerminator(Nt))}return ot=[this.generateExpression(et.expression,a.Sequence,vt)],ut=Vt(ot).toString(),ut.charCodeAt(0)===123||pt(ut)||St(ut)||xt(ut)||gt&&lt&Bt&&et.expression.type===e.Literal&&typeof et.expression.value=="string"?ot=["(",ot,")"+this.semicolon(lt)]:ot.push(this.semicolon(lt)),ot},ImportDeclaration:function(et,lt){var ot,ut,pt=this;return et.specifiers.length===0?["import",at,this.generateExpression(et.source,a.Sequence,vt),this.semicolon(lt)]:(ot=["import"],ut=0,et.specifiers[ut].type===e.ImportDefaultSpecifier&&(ot=_t(ot,[this.generateExpression(et.specifiers[ut],a.Sequence,vt)]),++ut),et.specifiers[ut]&&(ut!==0&&ot.push(","),et.specifiers[ut].type===e.ImportNamespaceSpecifier?ot=_t(ot,[at,this.generateExpression(et.specifiers[ut],a.Sequence,vt)]):(ot.push(at+"{"),et.specifiers.length-ut===1?(ot.push(at),ot.push(this.generateExpression(et.specifiers[ut],a.Sequence,vt)),ot.push(at+"}"+at)):(Xt(function(St){var xt,wt;for(ot.push(nt),xt=ut,wt=et.specifiers.length;xt<wt;++xt)ot.push(St),ot.push(pt.generateExpression(et.specifiers[xt],a.Sequence,vt)),xt+1<wt&&ot.push(","+nt)}),It(Vt(ot).toString())||ot.push(nt),ot.push(k+"}"+at)))),ot=_t(ot,["from"+at,this.generateExpression(et.source,a.Sequence,vt),this.semicolon(lt)]),ot)},VariableDeclarator:function(et,lt){var ot=lt&Et?vt:Qt;return et.init?[this.generateExpression(et.id,a.Assignment,ot),at,"=",at,this.generateExpression(et.init,a.Assignment,ot)]:this.generatePattern(et.id,a.Assignment,ot)},VariableDeclaration:function(et,lt){var ot,ut,pt,St,xt,wt=this;ot=[et.kind],xt=lt&Et?Ft:zt;function Nt(){for(St=et.declarations[0],ct.comment&&St.leadingComments?(ot.push(`
`),ot.push(Kt(wt.generateStatement(St,xt)))):(ot.push(Yt()),ot.push(wt.generateStatement(St,xt))),ut=1,pt=et.declarations.length;ut<pt;++ut)St=et.declarations[ut],ct.comment&&St.leadingComments?(ot.push(","+nt),ot.push(Kt(wt.generateStatement(St,xt)))):(ot.push(","+at),ot.push(wt.generateStatement(St,xt)))}return et.declarations.length>1?Xt(Nt):Nt(),ot.push(this.semicolon(lt)),ot},ThrowStatement:function(et,lt){return[_t("throw",this.generateExpression(et.argument,a.Sequence,vt)),this.semicolon(lt)]},TryStatement:function(et,lt){var ot,ut,pt,St;if(ot=["try",this.maybeBlock(et.block,Ft)],ot=this.maybeBlockSuffix(et.block,ot),et.handlers)for(ut=0,pt=et.handlers.length;ut<pt;++ut)ot=_t(ot,this.generateStatement(et.handlers[ut],Ft)),(et.finalizer||ut+1!==pt)&&(ot=this.maybeBlockSuffix(et.handlers[ut].body,ot));else{for(St=et.guardedHandlers||[],ut=0,pt=St.length;ut<pt;++ut)ot=_t(ot,this.generateStatement(St[ut],Ft)),(et.finalizer||ut+1!==pt)&&(ot=this.maybeBlockSuffix(St[ut].body,ot));if(et.handler)if(Array.isArray(et.handler))for(ut=0,pt=et.handler.length;ut<pt;++ut)ot=_t(ot,this.generateStatement(et.handler[ut],Ft)),(et.finalizer||ut+1!==pt)&&(ot=this.maybeBlockSuffix(et.handler[ut].body,ot));else ot=_t(ot,this.generateStatement(et.handler,Ft)),et.finalizer&&(ot=this.maybeBlockSuffix(et.handler.body,ot))}return et.finalizer&&(ot=_t(ot,["finally",this.maybeBlock(et.finalizer,Ft)])),ot},SwitchStatement:function(et,lt){var ot,ut,pt,St,xt,wt=this;if(Xt(function(){ot=["switch"+at+"(",wt.generateExpression(et.discriminant,a.Sequence,vt),")"+at+"{"+nt]}),et.cases)for(xt=Ft,pt=0,St=et.cases.length;pt<St;++pt)pt===St-1&&(xt|=Tt),ut=Kt(this.generateStatement(et.cases[pt],xt)),ot.push(ut),It(Vt(ut).toString())||ot.push(nt);return ot.push(Kt("}")),ot},SwitchCase:function(et,lt){var ot,ut,pt,St,xt,wt=this;return Xt(function(){for(et.test?ot=[_t("case",wt.generateExpression(et.test,a.Sequence,vt)),":"]:ot=["default:"],pt=0,St=et.consequent.length,St&&et.consequent[0].type===e.BlockStatement&&(ut=wt.maybeBlock(et.consequent[0],Ft),ot.push(ut),pt=1),pt!==St&&!It(Vt(ot).toString())&&ot.push(nt),xt=Ft;pt<St;++pt)pt===St-1&&lt&Tt&&(xt|=Tt),ut=Kt(wt.generateStatement(et.consequent[pt],xt)),ot.push(ut),pt+1!==St&&!It(Vt(ut).toString())&&ot.push(nt)}),ot},IfStatement:function(et,lt){var ot,ut,pt,St=this;return Xt(function(){ot=["if"+at+"(",St.generateExpression(et.test,a.Sequence,vt),")"]}),pt=lt&Tt,ut=Ft,pt&&(ut|=Tt),et.alternate?(ot.push(this.maybeBlock(et.consequent,Ft)),ot=this.maybeBlockSuffix(et.consequent,ot),et.alternate.type===e.IfStatement?ot=_t(ot,["else ",this.generateStatement(et.alternate,ut)]):ot=_t(ot,_t("else",this.maybeBlock(et.alternate,ut)))):ot.push(this.maybeBlock(et.consequent,ut)),ot},ForStatement:function(et,lt){var ot,ut=this;return Xt(function(){ot=["for"+at+"("],et.init?et.init.type===e.VariableDeclaration?ot.push(ut.generateStatement(et.init,zt)):(ot.push(ut.generateExpression(et.init,a.Sequence,Qt)),ot.push(";")):ot.push(";"),et.test&&(ot.push(at),ot.push(ut.generateExpression(et.test,a.Sequence,vt))),ot.push(";"),et.update&&(ot.push(at),ot.push(ut.generateExpression(et.update,a.Sequence,vt))),ot.push(")")}),ot.push(this.maybeBlock(et.body,lt&Tt?Wt:Ft)),ot},ForInStatement:function(et,lt){return this.generateIterationForStatement("in",et,lt&Tt?Wt:Ft)},ForOfStatement:function(et,lt){return this.generateIterationForStatement("of",et,lt&Tt?Wt:Ft)},LabeledStatement:function(et,lt){return[et.label.name+":",this.maybeBlock(et.body,lt&Tt?Wt:Ft)]},Program:function(et,lt){var ot,ut,pt,St,xt;for(St=et.body.length,ot=[ht&&St>0?`
`:""],xt=qt,pt=0;pt<St;++pt)!ht&&pt===St-1&&(xt|=Tt),Ot&&(pt===0&&(et.body[0].leadingComments||pn(et.range[0],et.body[pt].range[0],ot)),pt>0&&!et.body[pt-1].trailingComments&&!et.body[pt].leadingComments&&pn(et.body[pt-1].range[1],et.body[pt].range[0],ot)),ut=Kt(this.generateStatement(et.body[pt],xt)),ot.push(ut),pt+1<St&&!It(Vt(ut).toString())&&(Ot&&et.body[pt+1].leadingComments||ot.push(nt)),Ot&&pt===St-1&&(et.body[pt].trailingComments||pn(et.body[pt].range[1],et.range[1],ot));return ot},FunctionDeclaration:function(et,lt){return[mn(et,!0),"function",gn(et)||Yt(),et.id?tn(et.id):"",this.generateFunctionBody(et)]},ReturnStatement:function(et,lt){return et.argument?[_t("return",this.generateExpression(et.argument,a.Sequence,vt)),this.semicolon(lt)]:["return"+this.semicolon(lt)]},WhileStatement:function(et,lt){var ot,ut=this;return Xt(function(){ot=["while"+at+"(",ut.generateExpression(et.test,a.Sequence,vt),")"]}),ot.push(this.maybeBlock(et.body,lt&Tt?Wt:Ft)),ot},WithStatement:function(et,lt){var ot,ut=this;return Xt(function(){ot=["with"+at+"(",ut.generateExpression(et.object,a.Sequence,vt),")"]}),ot.push(this.maybeBlock(et.body,lt&Tt?Wt:Ft)),ot}},rn(Gt.prototype,Gt.Statement),Gt.Expression={SequenceExpression:function(et,lt,ot){var ut,pt,St;for(a.Sequence<lt&&(ot|=Et),ut=[],pt=0,St=et.expressions.length;pt<St;++pt)ut.push(this.generateExpression(et.expressions[pt],a.Assignment,ot)),pt+1<St&&ut.push(","+at);return Zt(ut,a.Sequence,lt)},AssignmentExpression:function(et,lt,ot){return this.generateAssignment(et.left,et.right,et.operator,lt,ot)},ArrowFunctionExpression:function(et,lt,ot){return Zt(this.generateFunctionBody(et),a.ArrowFunction,lt)},ConditionalExpression:function(et,lt,ot){return a.Conditional<lt&&(ot|=Et),Zt([this.generateExpression(et.test,a.LogicalOR,ot),at+"?"+at,this.generateExpression(et.consequent,a.Assignment,ot),at+":"+at,this.generateExpression(et.alternate,a.Assignment,ot)],a.Conditional,lt)},LogicalExpression:function(et,lt,ot){return this.BinaryExpression(et,lt,ot)},BinaryExpression:function(et,lt,ot){var ut,pt,St,xt,wt,Nt;return xt=o[et.operator],pt=et.operator==="**"?a.Postfix:xt,St=et.operator==="**"?xt:xt+1,xt<lt&&(ot|=Et),wt=this.generateExpression(et.left,pt,ot),Nt=wt.toString(),Nt.charCodeAt(Nt.length-1)===47&&b.code.isIdentifierPartES5(et.operator.charCodeAt(0))?ut=[wt,Yt(),et.operator]:ut=_t(wt,et.operator),wt=this.generateExpression(et.right,St,ot),et.operator==="/"&&wt.toString().charAt(0)==="/"||et.operator.slice(-1)==="<"&&wt.toString().slice(0,3)==="!--"?(ut.push(Yt()),ut.push(wt)):ut=_t(ut,wt),et.operator==="in"&&!(ot&Et)?["(",ut,")"]:Zt(ut,xt,lt)},CallExpression:function(et,lt,ot){var ut,pt,St;for(ut=[this.generateExpression(et.callee,a.Call,jt)],et.optional&&ut.push("?."),ut.push("("),pt=0,St=et.arguments.length;pt<St;++pt)ut.push(this.generateExpression(et.arguments[pt],a.Assignment,vt)),pt+1<St&&ut.push(","+at);return ut.push(")"),ot&At?Zt(ut,a.Call,lt):["(",ut,")"]},ChainExpression:function(et,lt,ot){a.OptionalChaining<lt&&(ot|=At);var ut=this.generateExpression(et.expression,a.OptionalChaining,ot);return Zt(ut,a.OptionalChaining,lt)},NewExpression:function(et,lt,ot){var ut,pt,St,xt,wt;if(pt=et.arguments.length,wt=ot&Rt&&!rt&&pt===0?Mt:$t,ut=_t("new",this.generateExpression(et.callee,a.New,wt)),!(ot&Rt)||rt||pt>0){for(ut.push("("),St=0,xt=pt;St<xt;++St)ut.push(this.generateExpression(et.arguments[St],a.Assignment,vt)),St+1<xt&&ut.push(","+at);ut.push(")")}return Zt(ut,a.New,lt)},MemberExpression:function(et,lt,ot){var ut,pt;return ut=[this.generateExpression(et.object,a.Call,ot&At?jt:$t)],et.computed?(et.optional&&ut.push("?."),ut.push("["),ut.push(this.generateExpression(et.property,a.Sequence,ot&At?vt:Mt)),ut.push("]")):(!et.optional&&et.object.type===e.Literal&&typeof et.object.value=="number"&&(pt=Vt(ut).toString(),pt.indexOf(".")<0&&!/[eExX]/.test(pt)&&b.code.isDecimalDigit(pt.charCodeAt(pt.length-1))&&!(pt.length>=2&&pt.charCodeAt(0)===48)&&ut.push(" ")),ut.push(et.optional?"?.":"."),ut.push(tn(et.property))),Zt(ut,a.Member,lt)},MetaProperty:function(et,lt,ot){var ut;return ut=[],ut.push(typeof et.meta=="string"?et.meta:tn(et.meta)),ut.push("."),ut.push(typeof et.property=="string"?et.property:tn(et.property)),Zt(ut,a.Member,lt)},UnaryExpression:function(et,lt,ot){var ut,pt,St,xt,wt;return pt=this.generateExpression(et.argument,a.Unary,vt),at===""?ut=_t(et.operator,pt):(ut=[et.operator],et.operator.length>2?ut=_t(ut,pt):(xt=Vt(ut).toString(),wt=xt.charCodeAt(xt.length-1),St=pt.toString().charCodeAt(0),((wt===43||wt===45)&&wt===St||b.code.isIdentifierPartES5(wt)&&b.code.isIdentifierPartES5(St))&&ut.push(Yt()),ut.push(pt))),Zt(ut,a.Unary,lt)},YieldExpression:function(et,lt,ot){var ut;return et.delegate?ut="yield*":ut="yield",et.argument&&(ut=_t(ut,this.generateExpression(et.argument,a.Yield,vt))),Zt(ut,a.Yield,lt)},AwaitExpression:function(et,lt,ot){var ut=_t(et.all?"await*":"await",this.generateExpression(et.argument,a.Await,vt));return Zt(ut,a.Await,lt)},UpdateExpression:function(et,lt,ot){return et.prefix?Zt([et.operator,this.generateExpression(et.argument,a.Unary,vt)],a.Unary,lt):Zt([this.generateExpression(et.argument,a.Postfix,vt),et.operator],a.Postfix,lt)},FunctionExpression:function(et,lt,ot){var ut=[mn(et,!0),"function"];return et.id?(ut.push(gn(et)||Yt()),ut.push(tn(et.id))):ut.push(gn(et)||at),ut.push(this.generateFunctionBody(et)),ut},ArrayPattern:function(et,lt,ot){return this.ArrayExpression(et,lt,ot,!0)},ArrayExpression:function(et,lt,ot,ut){var pt,St,xt=this;return et.elements.length?(St=ut?!1:et.elements.length>1,pt=["[",St?nt:""],Xt(function(wt){var Nt,Lt;for(Nt=0,Lt=et.elements.length;Nt<Lt;++Nt)et.elements[Nt]?(pt.push(St?wt:""),pt.push(xt.generateExpression(et.elements[Nt],a.Assignment,vt))):(St&&pt.push(wt),Nt+1===Lt&&pt.push(",")),Nt+1<Lt&&pt.push(","+(St?nt:at))}),St&&!It(Vt(pt).toString())&&pt.push(nt),pt.push(St?k:""),pt.push("]"),pt):"[]"},RestElement:function(et,lt,ot){return"..."+this.generatePattern(et.argument)},ClassExpression:function(et,lt,ot){var ut,pt;return ut=["class"],et.id&&(ut=_t(ut,this.generateExpression(et.id,a.Sequence,vt))),et.superClass&&(pt=_t("extends",this.generateExpression(et.superClass,a.Unary,vt)),ut=_t(ut,pt)),ut.push(at),ut.push(this.generateStatement(et.body,Wt)),ut},MethodDefinition:function(et,lt,ot){var ut,pt;return et.static?ut=["static"+at]:ut=[],et.kind==="get"||et.kind==="set"?pt=[_t(et.kind,this.generatePropertyKey(et.key,et.computed)),this.generateFunctionBody(et.value)]:pt=[bn(et),this.generatePropertyKey(et.key,et.computed),this.generateFunctionBody(et.value)],_t(ut,pt)},Property:function(et,lt,ot){return et.kind==="get"||et.kind==="set"?[et.kind,Yt(),this.generatePropertyKey(et.key,et.computed),this.generateFunctionBody(et.value)]:et.shorthand?et.value.type==="AssignmentPattern"?this.AssignmentPattern(et.value,a.Sequence,vt):this.generatePropertyKey(et.key,et.computed):et.method?[bn(et),this.generatePropertyKey(et.key,et.computed),this.generateFunctionBody(et.value)]:[this.generatePropertyKey(et.key,et.computed),":"+at,this.generateExpression(et.value,a.Assignment,vt)]},ObjectExpression:function(et,lt,ot){var ut,pt,St,xt=this;return et.properties.length?(ut=et.properties.length>1,Xt(function(){St=xt.generateExpression(et.properties[0],a.Sequence,vt)}),!ut&&!hn(Vt(St).toString())?["{",at,St,at,"}"]:(Xt(function(wt){var Nt,Lt;if(pt=["{",nt,wt,St],ut)for(pt.push(","+nt),Nt=1,Lt=et.properties.length;Nt<Lt;++Nt)pt.push(wt),pt.push(xt.generateExpression(et.properties[Nt],a.Sequence,vt)),Nt+1<Lt&&pt.push(","+nt)}),It(Vt(pt).toString())||pt.push(nt),pt.push(k),pt.push("}"),pt)):"{}"},AssignmentPattern:function(et,lt,ot){return this.generateAssignment(et.left,et.right,"=",lt,ot)},ObjectPattern:function(et,lt,ot){var ut,pt,St,xt,wt,Nt=this;if(!et.properties.length)return"{}";if(xt=!1,et.properties.length===1)wt=et.properties[0],wt.type===e.Property&&wt.value.type!==e.Identifier&&(xt=!0);else for(pt=0,St=et.properties.length;pt<St;++pt)if(wt=et.properties[pt],wt.type===e.Property&&!wt.shorthand){xt=!0;break}return ut=["{",xt?nt:""],Xt(function(Lt){var Ut,fn;for(Ut=0,fn=et.properties.length;Ut<fn;++Ut)ut.push(xt?Lt:""),ut.push(Nt.generateExpression(et.properties[Ut],a.Sequence,vt)),Ut+1<fn&&ut.push(","+(xt?nt:at))}),xt&&!It(Vt(ut).toString())&&ut.push(nt),ut.push(xt?k:""),ut.push("}"),ut},ThisExpression:function(et,lt,ot){return"this"},Super:function(et,lt,ot){return"super"},Identifier:function(et,lt,ot){return tn(et)},ImportDefaultSpecifier:function(et,lt,ot){return tn(et.id||et.local)},ImportNamespaceSpecifier:function(et,lt,ot){var ut=["*"],pt=et.id||et.local;return pt&&ut.push(at+"as"+Yt()+tn(pt)),ut},ImportSpecifier:function(et,lt,ot){var ut=et.imported,pt=[ut.name],St=et.local;return St&&St.name!==ut.name&&pt.push(Yt()+"as"+Yt()+tn(St)),pt},ExportSpecifier:function(et,lt,ot){var ut=et.local,pt=[ut.name],St=et.exported;return St&&St.name!==ut.name&&pt.push(Yt()+"as"+Yt()+tn(St)),pt},Literal:function(et,lt,ot){var ut;if(et.hasOwnProperty("raw")&&ft&&ct.raw)try{if(ut=ft(et.raw).body[0].expression,ut.type===e.Literal&&ut.value===et.value)return et.raw}catch{}return et.regex?"/"+et.regex.pattern+"/"+et.regex.flags:et.value===null?"null":typeof et.value=="string"?Rn(et.value):typeof et.value=="number"?yn(et.value):typeof et.value=="boolean"?et.value?"true":"false":$n(et.value)},GeneratorExpression:function(et,lt,ot){return this.ComprehensionExpression(et,lt,ot)},ComprehensionExpression:function(et,lt,ot){var ut,pt,St,xt,wt=this;return ut=et.type===e.GeneratorExpression?["("]:["["],ct.moz.comprehensionExpressionStartsWithAssignment&&(xt=this.generateExpression(et.body,a.Assignment,vt),ut.push(xt)),et.blocks&&Xt(function(){for(pt=0,St=et.blocks.length;pt<St;++pt)xt=wt.generateExpression(et.blocks[pt],a.Sequence,vt),pt>0||ct.moz.comprehensionExpressionStartsWithAssignment?ut=_t(ut,xt):ut.push(xt)}),et.filter&&(ut=_t(ut,"if"+at),xt=this.generateExpression(et.filter,a.Sequence,vt),ut=_t(ut,["(",xt,")"])),ct.moz.comprehensionExpressionStartsWithAssignment||(xt=this.generateExpression(et.body,a.Assignment,vt),ut=_t(ut,xt)),ut.push(et.type===e.GeneratorExpression?")":"]"),ut},ComprehensionBlock:function(et,lt,ot){var ut;return et.left.type===e.VariableDeclaration?ut=[et.left.kind,Yt(),this.generateStatement(et.left.declarations[0],zt)]:ut=this.generateExpression(et.left,a.Call,vt),ut=_t(ut,et.of?"of":"in"),ut=_t(ut,this.generateExpression(et.right,a.Sequence,vt)),["for"+at+"(",ut,")"]},SpreadElement:function(et,lt,ot){return["...",this.generateExpression(et.argument,a.Assignment,vt)]},TaggedTemplateExpression:function(et,lt,ot){var ut=jt;ot&At||(ut=$t);var pt=[this.generateExpression(et.tag,a.Call,ut),this.generateExpression(et.quasi,a.Primary,Pt)];return Zt(pt,a.TaggedTemplate,lt)},TemplateElement:function(et,lt,ot){return et.value.raw},TemplateLiteral:function(et,lt,ot){var ut,pt,St;for(ut=["`"],pt=0,St=et.quasis.length;pt<St;++pt)ut.push(this.generateExpression(et.quasis[pt],a.Primary,vt)),pt+1<St&&(ut.push("${"+at),ut.push(this.generateExpression(et.expressions[pt],a.Sequence,vt)),ut.push(at+"}"));return ut.push("`"),ut},ModuleSpecifier:function(et,lt,ot){return this.Literal(et,lt,ot)},ImportExpression:function(et,lt,ot){return Zt(["import(",this.generateExpression(et.source,a.Assignment,vt),")"],a.Call,lt)}},rn(Gt.prototype,Gt.Expression),Gt.prototype.generateExpression=function(et,lt,ot){var ut,pt;return pt=et.type||e.Property,ct.verbatim&&et.hasOwnProperty(ct.verbatim)?_n(et,lt):(ut=this[pt](et,lt,ot),ct.comment&&(ut=En(et,ut)),Vt(ut,et))},Gt.prototype.generateStatement=function(et,lt){var ot,ut;return ot=this[et.type](et,lt),ct.comment&&(ot=En(et,ot)),ut=Vt(ot).toString(),et.type===e.Program&&!ht&&nt===""&&ut.charAt(ut.length-1)===`
`&&(ot=dt?Vt(ot).replaceRight(/\s+$/,""):ut.replace(/\s+$/,"")),Vt(ot,et)};function Mn(et){var lt;if(lt=new Gt,bt(et))return lt.generateStatement(et,Ft);if(kt(et))return lt.generateExpression(et,a.Sequence,vt);throw new Error("Unknown node type: "+et.type)}function In(et,lt){var ot=an(),ut,pt;return lt!=null?(typeof lt.indent=="string"&&(ot.format.indent.style=lt.indent),typeof lt.base=="number"&&(ot.format.indent.base=lt.base),lt=un(ot,lt),$=lt.format.indent.style,typeof lt.base=="string"?k=lt.base:k=en($,lt.format.indent.base)):(lt=ot,$=lt.format.indent.style,k=en($,lt.format.indent.base)),_=lt.format.json,j=lt.format.renumber,_e=_?!1:lt.format.hexadecimal,tt=_?"double":lt.format.quotes,it=lt.format.escapeless,nt=lt.format.newline,at=lt.format.space,lt.format.compact&&(nt=at=$=k=""),rt=lt.format.parentheses,st=lt.format.semicolons,ht=lt.format.safeConcatenation,gt=lt.directive,ft=_?null:lt.parse,dt=lt.sourceMap,mt=lt.sourceCode,Ot=lt.format.preserveBlankLines&&mt!==null,ct=lt,dt&&(s.browser?c=commonjsGlobal.sourceMap.SourceNode:c=sourceMap.SourceNode),ut=Mn(et),dt?(pt=ut.toStringWithSourceMap({file:lt.file,sourceRoot:lt.sourceMapRoot}),lt.sourceContent&&pt.map.setSourceContent(lt.sourceMap,lt.sourceContent),lt.sourceMapWithCode?pt:pt.map.toString()):(pt={code:ut.toString(),map:null},lt.sourceMapWithCode?pt:pt.code)}yt={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},Ct=an().format,s.version=require$$3.version,s.generate=In,s.attachComments=d.attachComments,s.Precedence=un({},a),s.browser=!1,s.FORMAT_MINIFY=yt,s.FORMAT_DEFAULTS=Ct})()})(escodegen);var astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],nonASCIIidentifierChars="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",nonASCIIidentifierStartChars="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords$1={5:ecma5AndLessKeywords,"5module":ecma5AndLessKeywords+" export import",6:ecma5AndLessKeywords+" const class extends export import super"},keywordRelationalOperator=/^in(stanceof)?$/,nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");function isInAstralSet(s,e){for(var a=65536,o=0;o<e.length;o+=2){if(a+=e[o],a>s)return!1;if(a+=e[o+1],a>=s)return!0}}function isIdentifierStart(s,e){return s<65?s===36:s<91?!0:s<97?s===95:s<123?!0:s<=65535?s>=170&&nonASCIIidentifierStart.test(String.fromCharCode(s)):e===!1?!1:isInAstralSet(s,astralIdentifierStartCodes)}function isIdentifierChar(s,e){return s<48?s===36:s<58?!0:s<65?!1:s<91?!0:s<97?s===95:s<123?!0:s<=65535?s>=170&&nonASCIIidentifier.test(String.fromCharCode(s)):e===!1?!1:isInAstralSet(s,astralIdentifierStartCodes)||isInAstralSet(s,astralIdentifierCodes)}var TokenType=function s(e,a){a===void 0&&(a={}),this.label=e,this.keyword=a.keyword,this.beforeExpr=!!a.beforeExpr,this.startsExpr=!!a.startsExpr,this.isLoop=!!a.isLoop,this.isAssign=!!a.isAssign,this.prefix=!!a.prefix,this.postfix=!!a.postfix,this.binop=a.binop||null,this.updateContext=null};function binop(s,e){return new TokenType(s,{beforeExpr:!0,binop:e})}var beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywords={};function kw(s,e){return e===void 0&&(e={}),e.keyword=s,keywords[s]=new TokenType(s,e)}var types$1={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),privateId:new TokenType("privateId",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),questionDot:new TokenType("?."),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),invalidTemplate:new TokenType("invalidTemplate"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),coalesce:binop("??",1),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class",startsExpr),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import",startsExpr),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(s){return s===10||s===13||s===8232||s===8233}function nextLineBreak(s,e,a){a===void 0&&(a=s.length);for(var o=e;o<a;o++){var c=s.charCodeAt(o);if(isNewLine(c))return o<a-1&&c===13&&s.charCodeAt(o+1)===10?o+2:o+1}return-1}var nonASCIIwhitespace=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ref=Object.prototype,hasOwnProperty$1=ref.hasOwnProperty,toString=ref.toString,hasOwn=Object.hasOwn||function(s,e){return hasOwnProperty$1.call(s,e)},isArray=Array.isArray||function(s){return toString.call(s)==="[object Array]"};function wordsRegexp(s){return new RegExp("^(?:"+s.replace(/ /g,"|")+")$")}function codePointToString(s){return s<=65535?String.fromCharCode(s):(s-=65536,String.fromCharCode((s>>10)+55296,(s&1023)+56320))}var loneSurrogate=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Position=function s(e,a){this.line=e,this.column=a};Position.prototype.offset=function s(e){return new Position(this.line,this.column+e)};var SourceLocation=function s(e,a,o){this.start=a,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)};function getLineInfo(s,e){for(var a=1,o=0;;){var c=nextLineBreak(s,o,e);if(c<0)return new Position(a,e-o);++a,o=c}}var defaultOptions={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},warnedAboutEcmaVersion=!1;function getOptions(s){var e={};for(var a in defaultOptions)e[a]=s&&hasOwn(s,a)?s[a]:defaultOptions[a];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!warnedAboutEcmaVersion&&typeof console=="object"&&console.warn&&(warnedAboutEcmaVersion=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),s.allowHashBang==null&&(e.allowHashBang=e.ecmaVersion>=14),isArray(e.onToken)){var o=e.onToken;e.onToken=function(c){return o.push(c)}}return isArray(e.onComment)&&(e.onComment=pushComment(e,e.onComment)),e}function pushComment(s,e){return function(a,o,c,d,b,k){var $={type:a?"Block":"Line",value:o,start:c,end:d};s.locations&&($.loc=new SourceLocation(this,b,k)),s.ranges&&($.range=[c,d]),e.push($)}}var SCOPE_TOP=1,SCOPE_FUNCTION=2,SCOPE_ASYNC=4,SCOPE_GENERATOR=8,SCOPE_ARROW=16,SCOPE_SIMPLE_CATCH=32,SCOPE_SUPER=64,SCOPE_DIRECT_SUPER=128,SCOPE_CLASS_STATIC_BLOCK=256,SCOPE_VAR=SCOPE_TOP|SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK;function functionFlags(s,e){return SCOPE_FUNCTION|(s?SCOPE_ASYNC:0)|(e?SCOPE_GENERATOR:0)}var BIND_NONE=0,BIND_VAR=1,BIND_LEXICAL=2,BIND_FUNCTION=3,BIND_SIMPLE_CATCH=4,BIND_OUTSIDE=5,Parser=function s(e,a,o){this.options=e=getOptions(e),this.sourceFile=e.sourceFile,this.keywords=wordsRegexp(keywords$1[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var c="";e.allowReserved!==!0&&(c=reservedWords[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(c+=" await")),this.reservedWords=wordsRegexp(c);var d=(c?c+" ":"")+reservedWords.strict;this.reservedWordsStrict=wordsRegexp(d),this.reservedWordsStrictBind=wordsRegexp(d+" "+reservedWords.strictBind),this.input=String(a),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=types$1.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(SCOPE_TOP),this.regexpState=null,this.privateNameStack=[]},prototypeAccessors={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Parser.prototype.parse=function s(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};prototypeAccessors.inFunction.get=function(){return(this.currentVarScope().flags&SCOPE_FUNCTION)>0};prototypeAccessors.inGenerator.get=function(){return(this.currentVarScope().flags&SCOPE_GENERATOR)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.inAsync.get=function(){return(this.currentVarScope().flags&SCOPE_ASYNC)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.canAwait.get=function(){for(var s=this.scopeStack.length-1;s>=0;s--){var e=this.scopeStack[s];if(e.inClassFieldInit||e.flags&SCOPE_CLASS_STATIC_BLOCK)return!1;if(e.flags&SCOPE_FUNCTION)return(e.flags&SCOPE_ASYNC)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};prototypeAccessors.allowSuper.get=function(){var s=this.currentThisScope(),e=s.flags,a=s.inClassFieldInit;return(e&SCOPE_SUPER)>0||a||this.options.allowSuperOutsideMethod};prototypeAccessors.allowDirectSuper.get=function(){return(this.currentThisScope().flags&SCOPE_DIRECT_SUPER)>0};prototypeAccessors.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};prototypeAccessors.allowNewDotTarget.get=function(){var s=this.currentThisScope(),e=s.flags,a=s.inClassFieldInit;return(e&(SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK))>0||a};prototypeAccessors.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&SCOPE_CLASS_STATIC_BLOCK)>0};Parser.extend=function s(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];for(var o=this,c=0;c<e.length;c++)o=e[c](o);return o};Parser.parse=function s(e,a){return new this(a,e).parse()};Parser.parseExpressionAt=function s(e,a,o){var c=new this(o,e,a);return c.nextToken(),c.parseExpression()};Parser.tokenizer=function s(e,a){return new this(a,e)};Object.defineProperties(Parser.prototype,prototypeAccessors);var pp$9=Parser.prototype,literal=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;pp$9.strictDirective=function(s){if(this.options.ecmaVersion<5)return!1;for(;;){skipWhiteSpace.lastIndex=s,s+=skipWhiteSpace.exec(this.input)[0].length;var e=literal.exec(this.input.slice(s));if(!e)return!1;if((e[1]||e[2])==="use strict"){skipWhiteSpace.lastIndex=s+e[0].length;var a=skipWhiteSpace.exec(this.input),o=a.index+a[0].length,c=this.input.charAt(o);return c===";"||c==="}"||lineBreak.test(a[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(c)||c==="!"&&this.input.charAt(o+1)==="=")}s+=e[0].length,skipWhiteSpace.lastIndex=s,s+=skipWhiteSpace.exec(this.input)[0].length,this.input[s]===";"&&s++}};pp$9.eat=function(s){return this.type===s?(this.next(),!0):!1};pp$9.isContextual=function(s){return this.type===types$1.name&&this.value===s&&!this.containsEsc};pp$9.eatContextual=function(s){return this.isContextual(s)?(this.next(),!0):!1};pp$9.expectContextual=function(s){this.eatContextual(s)||this.unexpected()};pp$9.canInsertSemicolon=function(){return this.type===types$1.eof||this.type===types$1.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$9.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};pp$9.semicolon=function(){!this.eat(types$1.semi)&&!this.insertSemicolon()&&this.unexpected()};pp$9.afterTrailingComma=function(s,e){if(this.type===s)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};pp$9.expect=function(s){this.eat(s)||this.unexpected()};pp$9.unexpected=function(s){this.raise(s!=null?s:this.start,"Unexpected token")};var DestructuringErrors=function s(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};pp$9.checkPatternErrors=function(s,e){if(!!s){s.trailingComma>-1&&this.raiseRecoverable(s.trailingComma,"Comma is not permitted after the rest element");var a=e?s.parenthesizedAssign:s.parenthesizedBind;a>-1&&this.raiseRecoverable(a,e?"Assigning to rvalue":"Parenthesized pattern")}};pp$9.checkExpressionErrors=function(s,e){if(!s)return!1;var a=s.shorthandAssign,o=s.doubleProto;if(!e)return a>=0||o>=0;a>=0&&this.raise(a,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};pp$9.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};pp$9.isSimpleAssignTarget=function(s){return s.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(s.expression):s.type==="Identifier"||s.type==="MemberExpression"};var pp$8=Parser.prototype;pp$8.parseTopLevel=function(s){var e=Object.create(null);for(s.body||(s.body=[]);this.type!==types$1.eof;){var a=this.parseStatement(null,!0,e);s.body.push(a)}if(this.inModule)for(var o=0,c=Object.keys(this.undefinedExports);o<c.length;o+=1){var d=c[o];this.raiseRecoverable(this.undefinedExports[d].start,"Export '"+d+"' is not defined")}return this.adaptDirectivePrologue(s.body),this.next(),s.sourceType=this.options.sourceType,this.finishNode(s,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$8.isLet=function(s){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;skipWhiteSpace.lastIndex=this.pos;var e=skipWhiteSpace.exec(this.input),a=this.pos+e[0].length,o=this.input.charCodeAt(a);if(o===91||o===92||o>55295&&o<56320)return!0;if(s)return!1;if(o===123)return!0;if(isIdentifierStart(o,!0)){for(var c=a+1;isIdentifierChar(o=this.input.charCodeAt(c),!0);)++c;if(o===92||o>55295&&o<56320)return!0;var d=this.input.slice(a,c);if(!keywordRelationalOperator.test(d))return!0}return!1};pp$8.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;skipWhiteSpace.lastIndex=this.pos;var s=skipWhiteSpace.exec(this.input),e=this.pos+s[0].length,a;return!lineBreak.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(isIdentifierChar(a=this.input.charCodeAt(e+8))||a>55295&&a<56320))};pp$8.parseStatement=function(s,e,a){var o=this.type,c=this.startNode(),d;switch(this.isLet(s)&&(o=types$1._var,d="let"),o){case types$1._break:case types$1._continue:return this.parseBreakContinueStatement(c,o.keyword);case types$1._debugger:return this.parseDebuggerStatement(c);case types$1._do:return this.parseDoStatement(c);case types$1._for:return this.parseForStatement(c);case types$1._function:return s&&(this.strict||s!=="if"&&s!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(c,!1,!s);case types$1._class:return s&&this.unexpected(),this.parseClass(c,!0);case types$1._if:return this.parseIfStatement(c);case types$1._return:return this.parseReturnStatement(c);case types$1._switch:return this.parseSwitchStatement(c);case types$1._throw:return this.parseThrowStatement(c);case types$1._try:return this.parseTryStatement(c);case types$1._const:case types$1._var:return d=d||this.value,s&&d!=="var"&&this.unexpected(),this.parseVarStatement(c,d);case types$1._while:return this.parseWhileStatement(c);case types$1._with:return this.parseWithStatement(c);case types$1.braceL:return this.parseBlock(!0,c);case types$1.semi:return this.parseEmptyStatement(c);case types$1._export:case types$1._import:if(this.options.ecmaVersion>10&&o===types$1._import){skipWhiteSpace.lastIndex=this.pos;var b=skipWhiteSpace.exec(this.input),k=this.pos+b[0].length,$=this.input.charCodeAt(k);if($===40||$===46)return this.parseExpressionStatement(c,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===types$1._import?this.parseImport(c):this.parseExport(c,a);default:if(this.isAsyncFunction())return s&&this.unexpected(),this.next(),this.parseFunctionStatement(c,!0,!s);var _=this.value,j=this.parseExpression();return o===types$1.name&&j.type==="Identifier"&&this.eat(types$1.colon)?this.parseLabeledStatement(c,_,j,s):this.parseExpressionStatement(c,j)}};pp$8.parseBreakContinueStatement=function(s,e){var a=e==="break";this.next(),this.eat(types$1.semi)||this.insertSemicolon()?s.label=null:this.type!==types$1.name?this.unexpected():(s.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var c=this.labels[o];if((s.label==null||c.name===s.label.name)&&(c.kind!=null&&(a||c.kind==="loop")||s.label&&a))break}return o===this.labels.length&&this.raise(s.start,"Unsyntactic "+e),this.finishNode(s,a?"BreakStatement":"ContinueStatement")};pp$8.parseDebuggerStatement=function(s){return this.next(),this.semicolon(),this.finishNode(s,"DebuggerStatement")};pp$8.parseDoStatement=function(s){return this.next(),this.labels.push(loopLabel),s.body=this.parseStatement("do"),this.labels.pop(),this.expect(types$1._while),s.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(types$1.semi):this.semicolon(),this.finishNode(s,"DoWhileStatement")};pp$8.parseForStatement=function(s){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(loopLabel),this.enterScope(0),this.expect(types$1.parenL),this.type===types$1.semi)return e>-1&&this.unexpected(e),this.parseFor(s,null);var a=this.isLet();if(this.type===types$1._var||this.type===types$1._const||a){var o=this.startNode(),c=a?"let":this.value;return this.next(),this.parseVar(o,!0,c),this.finishNode(o,"VariableDeclaration"),(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===types$1._in?e>-1&&this.unexpected(e):s.await=e>-1),this.parseForIn(s,o)):(e>-1&&this.unexpected(e),this.parseFor(s,o))}var d=this.isContextual("let"),b=!1,k=new DestructuringErrors,$=this.parseExpression(e>-1?"await":!0,k);return this.type===types$1._in||(b=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===types$1._in?e>-1&&this.unexpected(e):s.await=e>-1),d&&b&&this.raise($.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable($,!1,k),this.checkLValPattern($),this.parseForIn(s,$)):(this.checkExpressionErrors(k,!0),e>-1&&this.unexpected(e),this.parseFor(s,$))};pp$8.parseFunctionStatement=function(s,e,a){return this.next(),this.parseFunction(s,FUNC_STATEMENT|(a?0:FUNC_HANGING_STATEMENT),!1,e)};pp$8.parseIfStatement=function(s){return this.next(),s.test=this.parseParenExpression(),s.consequent=this.parseStatement("if"),s.alternate=this.eat(types$1._else)?this.parseStatement("if"):null,this.finishNode(s,"IfStatement")};pp$8.parseReturnStatement=function(s){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(types$1.semi)||this.insertSemicolon()?s.argument=null:(s.argument=this.parseExpression(),this.semicolon()),this.finishNode(s,"ReturnStatement")};pp$8.parseSwitchStatement=function(s){this.next(),s.discriminant=this.parseParenExpression(),s.cases=[],this.expect(types$1.braceL),this.labels.push(switchLabel),this.enterScope(0);for(var e,a=!1;this.type!==types$1.braceR;)if(this.type===types$1._case||this.type===types$1._default){var o=this.type===types$1._case;e&&this.finishNode(e,"SwitchCase"),s.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(a&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),a=!0,e.test=null),this.expect(types$1.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(s,"SwitchStatement")};pp$8.parseThrowStatement=function(s){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),s.argument=this.parseExpression(),this.semicolon(),this.finishNode(s,"ThrowStatement")};var empty$1=[];pp$8.parseTryStatement=function(s){if(this.next(),s.block=this.parseBlock(),s.handler=null,this.type===types$1._catch){var e=this.startNode();if(this.next(),this.eat(types$1.parenL)){e.param=this.parseBindingAtom();var a=e.param.type==="Identifier";this.enterScope(a?SCOPE_SIMPLE_CATCH:0),this.checkLValPattern(e.param,a?BIND_SIMPLE_CATCH:BIND_LEXICAL),this.expect(types$1.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),s.handler=this.finishNode(e,"CatchClause")}return s.finalizer=this.eat(types$1._finally)?this.parseBlock():null,!s.handler&&!s.finalizer&&this.raise(s.start,"Missing catch or finally clause"),this.finishNode(s,"TryStatement")};pp$8.parseVarStatement=function(s,e){return this.next(),this.parseVar(s,!1,e),this.semicolon(),this.finishNode(s,"VariableDeclaration")};pp$8.parseWhileStatement=function(s){return this.next(),s.test=this.parseParenExpression(),this.labels.push(loopLabel),s.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(s,"WhileStatement")};pp$8.parseWithStatement=function(s){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),s.object=this.parseParenExpression(),s.body=this.parseStatement("with"),this.finishNode(s,"WithStatement")};pp$8.parseEmptyStatement=function(s){return this.next(),this.finishNode(s,"EmptyStatement")};pp$8.parseLabeledStatement=function(s,e,a,o){for(var c=0,d=this.labels;c<d.length;c+=1){var b=d[c];b.name===e&&this.raise(a.start,"Label '"+e+"' is already declared")}for(var k=this.type.isLoop?"loop":this.type===types$1._switch?"switch":null,$=this.labels.length-1;$>=0;$--){var _=this.labels[$];if(_.statementStart===s.start)_.statementStart=this.start,_.kind=k;else break}return this.labels.push({name:e,kind:k,statementStart:this.start}),s.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),s.label=a,this.finishNode(s,"LabeledStatement")};pp$8.parseExpressionStatement=function(s,e){return s.expression=e,this.semicolon(),this.finishNode(s,"ExpressionStatement")};pp$8.parseBlock=function(s,e,a){for(s===void 0&&(s=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(types$1.braceL),s&&this.enterScope(0);this.type!==types$1.braceR;){var o=this.parseStatement(null);e.body.push(o)}return a&&(this.strict=!1),this.next(),s&&this.exitScope(),this.finishNode(e,"BlockStatement")};pp$8.parseFor=function(s,e){return s.init=e,this.expect(types$1.semi),s.test=this.type===types$1.semi?null:this.parseExpression(),this.expect(types$1.semi),s.update=this.type===types$1.parenR?null:this.parseExpression(),this.expect(types$1.parenR),s.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(s,"ForStatement")};pp$8.parseForIn=function(s,e){var a=this.type===types$1._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!a||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(a?"for-in":"for-of")+" loop variable declaration may not have an initializer"),s.left=e,s.right=a?this.parseExpression():this.parseMaybeAssign(),this.expect(types$1.parenR),s.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(s,a?"ForInStatement":"ForOfStatement")};pp$8.parseVar=function(s,e,a){for(s.declarations=[],s.kind=a;;){var o=this.startNode();if(this.parseVarId(o,a),this.eat(types$1.eq)?o.init=this.parseMaybeAssign(e):a==="const"&&!(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():o.id.type!=="Identifier"&&!(e&&(this.type===types$1._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,s.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(types$1.comma))break}return s};pp$8.parseVarId=function(s,e){s.id=this.parseBindingAtom(),this.checkLValPattern(s.id,e==="var"?BIND_VAR:BIND_LEXICAL,!1)};var FUNC_STATEMENT=1,FUNC_HANGING_STATEMENT=2,FUNC_NULLABLE_ID=4;pp$8.parseFunction=function(s,e,a,o,c){this.initFunction(s),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===types$1.star&&e&FUNC_HANGING_STATEMENT&&this.unexpected(),s.generator=this.eat(types$1.star)),this.options.ecmaVersion>=8&&(s.async=!!o),e&FUNC_STATEMENT&&(s.id=e&FUNC_NULLABLE_ID&&this.type!==types$1.name?null:this.parseIdent(),s.id&&!(e&FUNC_HANGING_STATEMENT)&&this.checkLValSimple(s.id,this.strict||s.generator||s.async?this.treatFunctionsAsVar?BIND_VAR:BIND_LEXICAL:BIND_FUNCTION));var d=this.yieldPos,b=this.awaitPos,k=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(s.async,s.generator)),e&FUNC_STATEMENT||(s.id=this.type===types$1.name?this.parseIdent():null),this.parseFunctionParams(s),this.parseFunctionBody(s,a,!1,c),this.yieldPos=d,this.awaitPos=b,this.awaitIdentPos=k,this.finishNode(s,e&FUNC_STATEMENT?"FunctionDeclaration":"FunctionExpression")};pp$8.parseFunctionParams=function(s){this.expect(types$1.parenL),s.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};pp$8.parseClass=function(s,e){this.next();var a=this.strict;this.strict=!0,this.parseClassId(s,e),this.parseClassSuper(s);var o=this.enterClassBody(),c=this.startNode(),d=!1;for(c.body=[],this.expect(types$1.braceL);this.type!==types$1.braceR;){var b=this.parseClassElement(s.superClass!==null);b&&(c.body.push(b),b.type==="MethodDefinition"&&b.kind==="constructor"?(d&&this.raise(b.start,"Duplicate constructor in the same class"),d=!0):b.key&&b.key.type==="PrivateIdentifier"&&isPrivateNameConflicted(o,b)&&this.raiseRecoverable(b.key.start,"Identifier '#"+b.key.name+"' has already been declared"))}return this.strict=a,this.next(),s.body=this.finishNode(c,"ClassBody"),this.exitClassBody(),this.finishNode(s,e?"ClassDeclaration":"ClassExpression")};pp$8.parseClassElement=function(s){if(this.eat(types$1.semi))return null;var e=this.options.ecmaVersion,a=this.startNode(),o="",c=!1,d=!1,b="method",k=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(types$1.braceL))return this.parseClassStaticBlock(a),a;this.isClassElementNameStart()||this.type===types$1.star?k=!0:o="static"}if(a.static=k,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===types$1.star)&&!this.canInsertSemicolon()?d=!0:o="async"),!o&&(e>=9||!d)&&this.eat(types$1.star)&&(c=!0),!o&&!d&&!c){var $=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?b=$:o=$)}if(o?(a.computed=!1,a.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),a.key.name=o,this.finishNode(a.key,"Identifier")):this.parseClassElementName(a),e<13||this.type===types$1.parenL||b!=="method"||c||d){var _=!a.static&&checkKeyName(a,"constructor"),j=_&&s;_&&b!=="method"&&this.raise(a.key.start,"Constructor can't have get/set modifier"),a.kind=_?"constructor":b,this.parseClassMethod(a,c,d,j)}else this.parseClassField(a);return a};pp$8.isClassElementNameStart=function(){return this.type===types$1.name||this.type===types$1.privateId||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword};pp$8.parseClassElementName=function(s){this.type===types$1.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),s.computed=!1,s.key=this.parsePrivateIdent()):this.parsePropertyName(s)};pp$8.parseClassMethod=function(s,e,a,o){var c=s.key;s.kind==="constructor"?(e&&this.raise(c.start,"Constructor can't be a generator"),a&&this.raise(c.start,"Constructor can't be an async method")):s.static&&checkKeyName(s,"prototype")&&this.raise(c.start,"Classes may not have a static property named prototype");var d=s.value=this.parseMethod(e,a,o);return s.kind==="get"&&d.params.length!==0&&this.raiseRecoverable(d.start,"getter should have no params"),s.kind==="set"&&d.params.length!==1&&this.raiseRecoverable(d.start,"setter should have exactly one param"),s.kind==="set"&&d.params[0].type==="RestElement"&&this.raiseRecoverable(d.params[0].start,"Setter cannot use rest params"),this.finishNode(s,"MethodDefinition")};pp$8.parseClassField=function(s){if(checkKeyName(s,"constructor")?this.raise(s.key.start,"Classes can't have a field named 'constructor'"):s.static&&checkKeyName(s,"prototype")&&this.raise(s.key.start,"Classes can't have a static field named 'prototype'"),this.eat(types$1.eq)){var e=this.currentThisScope(),a=e.inClassFieldInit;e.inClassFieldInit=!0,s.value=this.parseMaybeAssign(),e.inClassFieldInit=a}else s.value=null;return this.semicolon(),this.finishNode(s,"PropertyDefinition")};pp$8.parseClassStaticBlock=function(s){s.body=[];var e=this.labels;for(this.labels=[],this.enterScope(SCOPE_CLASS_STATIC_BLOCK|SCOPE_SUPER);this.type!==types$1.braceR;){var a=this.parseStatement(null);s.body.push(a)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(s,"StaticBlock")};pp$8.parseClassId=function(s,e){this.type===types$1.name?(s.id=this.parseIdent(),e&&this.checkLValSimple(s.id,BIND_LEXICAL,!1)):(e===!0&&this.unexpected(),s.id=null)};pp$8.parseClassSuper=function(s){s.superClass=this.eat(types$1._extends)?this.parseExprSubscripts(!1):null};pp$8.enterClassBody=function(){var s={declared:Object.create(null),used:[]};return this.privateNameStack.push(s),s.declared};pp$8.exitClassBody=function(){for(var s=this.privateNameStack.pop(),e=s.declared,a=s.used,o=this.privateNameStack.length,c=o===0?null:this.privateNameStack[o-1],d=0;d<a.length;++d){var b=a[d];hasOwn(e,b.name)||(c?c.used.push(b):this.raiseRecoverable(b.start,"Private field '#"+b.name+"' must be declared in an enclosing class"))}};function isPrivateNameConflicted(s,e){var a=e.key.name,o=s[a],c="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(c=(e.static?"s":"i")+e.kind),o==="iget"&&c==="iset"||o==="iset"&&c==="iget"||o==="sget"&&c==="sset"||o==="sset"&&c==="sget"?(s[a]="true",!1):o?!0:(s[a]=c,!1)}function checkKeyName(s,e){var a=s.computed,o=s.key;return!a&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}pp$8.parseExport=function(s,e){if(this.next(),this.eat(types$1.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(s.exported=this.parseModuleExportName(),this.checkExport(e,s.exported,this.lastTokStart)):s.exported=null),this.expectContextual("from"),this.type!==types$1.string&&this.unexpected(),s.source=this.parseExprAtom(),this.semicolon(),this.finishNode(s,"ExportAllDeclaration");if(this.eat(types$1._default)){this.checkExport(e,"default",this.lastTokStart);var a;if(this.type===types$1._function||(a=this.isAsyncFunction())){var o=this.startNode();this.next(),a&&this.next(),s.declaration=this.parseFunction(o,FUNC_STATEMENT|FUNC_NULLABLE_ID,!1,a)}else if(this.type===types$1._class){var c=this.startNode();s.declaration=this.parseClass(c,"nullableID")}else s.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(s,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())s.declaration=this.parseStatement(null),s.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,s.declaration.declarations):this.checkExport(e,s.declaration.id,s.declaration.id.start),s.specifiers=[],s.source=null;else{if(s.declaration=null,s.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==types$1.string&&this.unexpected(),s.source=this.parseExprAtom();else{for(var d=0,b=s.specifiers;d<b.length;d+=1){var k=b[d];this.checkUnreserved(k.local),this.checkLocalExport(k.local),k.local.type==="Literal"&&this.raise(k.local.start,"A string literal cannot be used as an exported binding without `from`.")}s.source=null}this.semicolon()}return this.finishNode(s,"ExportNamedDeclaration")};pp$8.checkExport=function(s,e,a){!s||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),hasOwn(s,e)&&this.raiseRecoverable(a,"Duplicate export '"+e+"'"),s[e]=!0)};pp$8.checkPatternExport=function(s,e){var a=e.type;if(a==="Identifier")this.checkExport(s,e,e.start);else if(a==="ObjectPattern")for(var o=0,c=e.properties;o<c.length;o+=1){var d=c[o];this.checkPatternExport(s,d)}else if(a==="ArrayPattern")for(var b=0,k=e.elements;b<k.length;b+=1){var $=k[b];$&&this.checkPatternExport(s,$)}else a==="Property"?this.checkPatternExport(s,e.value):a==="AssignmentPattern"?this.checkPatternExport(s,e.left):a==="RestElement"?this.checkPatternExport(s,e.argument):a==="ParenthesizedExpression"&&this.checkPatternExport(s,e.expression)};pp$8.checkVariableExport=function(s,e){if(!!s)for(var a=0,o=e;a<o.length;a+=1){var c=o[a];this.checkPatternExport(s,c.id)}};pp$8.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};pp$8.parseExportSpecifiers=function(s){var e=[],a=!0;for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(a)a=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;var o=this.startNode();o.local=this.parseModuleExportName(),o.exported=this.eatContextual("as")?this.parseModuleExportName():o.local,this.checkExport(s,o.exported,o.exported.start),e.push(this.finishNode(o,"ExportSpecifier"))}return e};pp$8.parseImport=function(s){return this.next(),this.type===types$1.string?(s.specifiers=empty$1,s.source=this.parseExprAtom()):(s.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),s.source=this.type===types$1.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(s,"ImportDeclaration")};pp$8.parseImportSpecifiers=function(){var s=[],e=!0;if(this.type===types$1.name){var a=this.startNode();if(a.local=this.parseIdent(),this.checkLValSimple(a.local,BIND_LEXICAL),s.push(this.finishNode(a,"ImportDefaultSpecifier")),!this.eat(types$1.comma))return s}if(this.type===types$1.star){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLValSimple(o.local,BIND_LEXICAL),s.push(this.finishNode(o,"ImportNamespaceSpecifier")),s}for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(e)e=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;var c=this.startNode();c.imported=this.parseModuleExportName(),this.eatContextual("as")?c.local=this.parseIdent():(this.checkUnreserved(c.imported),c.local=c.imported),this.checkLValSimple(c.local,BIND_LEXICAL),s.push(this.finishNode(c,"ImportSpecifier"))}return s};pp$8.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===types$1.string){var s=this.parseLiteral(this.value);return loneSurrogate.test(s.value)&&this.raise(s.start,"An export name cannot include a lone surrogate."),s}return this.parseIdent(!0)};pp$8.adaptDirectivePrologue=function(s){for(var e=0;e<s.length&&this.isDirectiveCandidate(s[e]);++e)s[e].directive=s[e].expression.raw.slice(1,-1)};pp$8.isDirectiveCandidate=function(s){return this.options.ecmaVersion>=5&&s.type==="ExpressionStatement"&&s.expression.type==="Literal"&&typeof s.expression.value=="string"&&(this.input[s.start]==='"'||this.input[s.start]==="'")};var pp$7=Parser.prototype;pp$7.toAssignable=function(s,e,a){if(this.options.ecmaVersion>=6&&s)switch(s.type){case"Identifier":this.inAsync&&s.name==="await"&&this.raise(s.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":s.type="ObjectPattern",a&&this.checkPatternErrors(a,!0);for(var o=0,c=s.properties;o<c.length;o+=1){var d=c[o];this.toAssignable(d,e),d.type==="RestElement"&&(d.argument.type==="ArrayPattern"||d.argument.type==="ObjectPattern")&&this.raise(d.argument.start,"Unexpected token")}break;case"Property":s.kind!=="init"&&this.raise(s.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(s.value,e);break;case"ArrayExpression":s.type="ArrayPattern",a&&this.checkPatternErrors(a,!0),this.toAssignableList(s.elements,e);break;case"SpreadElement":s.type="RestElement",this.toAssignable(s.argument,e),s.argument.type==="AssignmentPattern"&&this.raise(s.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":s.operator!=="="&&this.raise(s.left.end,"Only '=' operator can be used for specifying default value."),s.type="AssignmentPattern",delete s.operator,this.toAssignable(s.left,e);break;case"ParenthesizedExpression":this.toAssignable(s.expression,e,a);break;case"ChainExpression":this.raiseRecoverable(s.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(s.start,"Assigning to rvalue")}else a&&this.checkPatternErrors(a,!0);return s};pp$7.toAssignableList=function(s,e){for(var a=s.length,o=0;o<a;o++){var c=s[o];c&&this.toAssignable(c,e)}if(a){var d=s[a-1];this.options.ecmaVersion===6&&e&&d&&d.type==="RestElement"&&d.argument.type!=="Identifier"&&this.unexpected(d.argument.start)}return s};pp$7.parseSpread=function(s){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,s),this.finishNode(e,"SpreadElement")};pp$7.parseRestBinding=function(){var s=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==types$1.name&&this.unexpected(),s.argument=this.parseBindingAtom(),this.finishNode(s,"RestElement")};pp$7.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case types$1.bracketL:var s=this.startNode();return this.next(),s.elements=this.parseBindingList(types$1.bracketR,!0,!0),this.finishNode(s,"ArrayPattern");case types$1.braceL:return this.parseObj(!0)}return this.parseIdent()};pp$7.parseBindingList=function(s,e,a){for(var o=[],c=!0;!this.eat(s);)if(c?c=!1:this.expect(types$1.comma),e&&this.type===types$1.comma)o.push(null);else{if(a&&this.afterTrailingComma(s))break;if(this.type===types$1.ellipsis){var d=this.parseRestBinding();this.parseBindingListItem(d),o.push(d),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(s);break}else{var b=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(b),o.push(b)}}return o};pp$7.parseBindingListItem=function(s){return s};pp$7.parseMaybeDefault=function(s,e,a){if(a=a||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(types$1.eq))return a;var o=this.startNodeAt(s,e);return o.left=a,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};pp$7.checkLValSimple=function(s,e,a){e===void 0&&(e=BIND_NONE);var o=e!==BIND_NONE;switch(s.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(s.name)&&this.raiseRecoverable(s.start,(o?"Binding ":"Assigning to ")+s.name+" in strict mode"),o&&(e===BIND_LEXICAL&&s.name==="let"&&this.raiseRecoverable(s.start,"let is disallowed as a lexically bound name"),a&&(hasOwn(a,s.name)&&this.raiseRecoverable(s.start,"Argument name clash"),a[s.name]=!0),e!==BIND_OUTSIDE&&this.declareName(s.name,e,s.start));break;case"ChainExpression":this.raiseRecoverable(s.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(s.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(s.start,"Binding parenthesized expression"),this.checkLValSimple(s.expression,e,a);default:this.raise(s.start,(o?"Binding":"Assigning to")+" rvalue")}};pp$7.checkLValPattern=function(s,e,a){switch(e===void 0&&(e=BIND_NONE),s.type){case"ObjectPattern":for(var o=0,c=s.properties;o<c.length;o+=1){var d=c[o];this.checkLValInnerPattern(d,e,a)}break;case"ArrayPattern":for(var b=0,k=s.elements;b<k.length;b+=1){var $=k[b];$&&this.checkLValInnerPattern($,e,a)}break;default:this.checkLValSimple(s,e,a)}};pp$7.checkLValInnerPattern=function(s,e,a){switch(e===void 0&&(e=BIND_NONE),s.type){case"Property":this.checkLValInnerPattern(s.value,e,a);break;case"AssignmentPattern":this.checkLValPattern(s.left,e,a);break;case"RestElement":this.checkLValPattern(s.argument,e,a);break;default:this.checkLValPattern(s,e,a)}};var TokContext=function s(e,a,o,c,d){this.token=e,this.isExpr=!!a,this.preserveSpace=!!o,this.override=c,this.generator=!!d},types={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!1),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(s){return s.tryReadTemplateToken()}),f_stat:new TokContext("function",!1),f_expr:new TokContext("function",!0),f_expr_gen:new TokContext("function",!0,!1,null,!0),f_gen:new TokContext("function",!1,!1,null,!0)},pp$6=Parser.prototype;pp$6.initialContext=function(){return[types.b_stat]};pp$6.curContext=function(){return this.context[this.context.length-1]};pp$6.braceIsBlock=function(s){var e=this.curContext();return e===types.f_expr||e===types.f_stat?!0:s===types$1.colon&&(e===types.b_stat||e===types.b_expr)?!e.isExpr:s===types$1._return||s===types$1.name&&this.exprAllowed?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):s===types$1._else||s===types$1.semi||s===types$1.eof||s===types$1.parenR||s===types$1.arrow?!0:s===types$1.braceL?e===types.b_stat:s===types$1._var||s===types$1._const||s===types$1.name?!1:!this.exprAllowed};pp$6.inGeneratorContext=function(){for(var s=this.context.length-1;s>=1;s--){var e=this.context[s];if(e.token==="function")return e.generator}return!1};pp$6.updateContext=function(s){var e,a=this.type;a.keyword&&s===types$1.dot?this.exprAllowed=!1:(e=a.updateContext)?e.call(this,s):this.exprAllowed=a.beforeExpr};pp$6.overrideContext=function(s){this.curContext()!==s&&(this.context[this.context.length-1]=s)};types$1.parenR.updateContext=types$1.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var s=this.context.pop();s===types.b_stat&&this.curContext().token==="function"&&(s=this.context.pop()),this.exprAllowed=!s.isExpr};types$1.braceL.updateContext=function(s){this.context.push(this.braceIsBlock(s)?types.b_stat:types.b_expr),this.exprAllowed=!0};types$1.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl),this.exprAllowed=!0};types$1.parenL.updateContext=function(s){var e=s===types$1._if||s===types$1._for||s===types$1._with||s===types$1._while;this.context.push(e?types.p_stat:types.p_expr),this.exprAllowed=!0};types$1.incDec.updateContext=function(){};types$1._function.updateContext=types$1._class.updateContext=function(s){s.beforeExpr&&s!==types$1._else&&!(s===types$1.semi&&this.curContext()!==types.p_stat)&&!(s===types$1._return&&lineBreak.test(this.input.slice(this.lastTokEnd,this.start)))&&!((s===types$1.colon||s===types$1.braceL)&&this.curContext()===types.b_stat)?this.context.push(types.f_expr):this.context.push(types.f_stat),this.exprAllowed=!1};types$1.backQuote.updateContext=function(){this.curContext()===types.q_tmpl?this.context.pop():this.context.push(types.q_tmpl),this.exprAllowed=!1};types$1.star.updateContext=function(s){if(s===types$1._function){var e=this.context.length-1;this.context[e]===types.f_expr?this.context[e]=types.f_expr_gen:this.context[e]=types.f_gen}this.exprAllowed=!0};types$1.name.updateContext=function(s){var e=!1;this.options.ecmaVersion>=6&&s!==types$1.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var pp$5=Parser.prototype;pp$5.checkPropClash=function(s,e,a){if(!(this.options.ecmaVersion>=9&&s.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(s.computed||s.method||s.shorthand))){var o=s.key,c;switch(o.type){case"Identifier":c=o.name;break;case"Literal":c=String(o.value);break;default:return}var d=s.kind;if(this.options.ecmaVersion>=6){c==="__proto__"&&d==="init"&&(e.proto&&(a?a.doubleProto<0&&(a.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}c="$"+c;var b=e[c];if(b){var k;d==="init"?k=this.strict&&b.init||b.get||b.set:k=b.init||b[d],k&&this.raiseRecoverable(o.start,"Redefinition of property")}else b=e[c]={init:!1,get:!1,set:!1};b[d]=!0}};pp$5.parseExpression=function(s,e){var a=this.start,o=this.startLoc,c=this.parseMaybeAssign(s,e);if(this.type===types$1.comma){var d=this.startNodeAt(a,o);for(d.expressions=[c];this.eat(types$1.comma);)d.expressions.push(this.parseMaybeAssign(s,e));return this.finishNode(d,"SequenceExpression")}return c};pp$5.parseMaybeAssign=function(s,e,a){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(s);this.exprAllowed=!1}var o=!1,c=-1,d=-1,b=-1;e?(c=e.parenthesizedAssign,d=e.trailingComma,b=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new DestructuringErrors,o=!0);var k=this.start,$=this.startLoc;(this.type===types$1.parenL||this.type===types$1.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=s==="await");var _=this.parseMaybeConditional(s,e);if(a&&(_=a.call(this,_,k,$)),this.type.isAssign){var j=this.startNodeAt(k,$);return j.operator=this.value,this.type===types$1.eq&&(_=this.toAssignable(_,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=_.start&&(e.shorthandAssign=-1),this.type===types$1.eq?this.checkLValPattern(_):this.checkLValSimple(_),j.left=_,this.next(),j.right=this.parseMaybeAssign(s),b>-1&&(e.doubleProto=b),this.finishNode(j,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return c>-1&&(e.parenthesizedAssign=c),d>-1&&(e.trailingComma=d),_};pp$5.parseMaybeConditional=function(s,e){var a=this.start,o=this.startLoc,c=this.parseExprOps(s,e);if(this.checkExpressionErrors(e))return c;if(this.eat(types$1.question)){var d=this.startNodeAt(a,o);return d.test=c,d.consequent=this.parseMaybeAssign(),this.expect(types$1.colon),d.alternate=this.parseMaybeAssign(s),this.finishNode(d,"ConditionalExpression")}return c};pp$5.parseExprOps=function(s,e){var a=this.start,o=this.startLoc,c=this.parseMaybeUnary(e,!1,!1,s);return this.checkExpressionErrors(e)||c.start===a&&c.type==="ArrowFunctionExpression"?c:this.parseExprOp(c,a,o,-1,s)};pp$5.parseExprOp=function(s,e,a,o,c){var d=this.type.binop;if(d!=null&&(!c||this.type!==types$1._in)&&d>o){var b=this.type===types$1.logicalOR||this.type===types$1.logicalAND,k=this.type===types$1.coalesce;k&&(d=types$1.logicalAND.binop);var $=this.value;this.next();var _=this.start,j=this.startLoc,_e=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,c),_,j,d,c),tt=this.buildBinary(e,a,s,_e,$,b||k);return(b&&this.type===types$1.coalesce||k&&(this.type===types$1.logicalOR||this.type===types$1.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(tt,e,a,o,c)}return s};pp$5.buildBinary=function(s,e,a,o,c,d){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var b=this.startNodeAt(s,e);return b.left=a,b.operator=c,b.right=o,this.finishNode(b,d?"LogicalExpression":"BinaryExpression")};pp$5.parseMaybeUnary=function(s,e,a,o){var c=this.start,d=this.startLoc,b;if(this.isContextual("await")&&this.canAwait)b=this.parseAwait(o),e=!0;else if(this.type.prefix){var k=this.startNode(),$=this.type===types$1.incDec;k.operator=this.value,k.prefix=!0,this.next(),k.argument=this.parseMaybeUnary(null,!0,$,o),this.checkExpressionErrors(s,!0),$?this.checkLValSimple(k.argument):this.strict&&k.operator==="delete"&&k.argument.type==="Identifier"?this.raiseRecoverable(k.start,"Deleting local variable in strict mode"):k.operator==="delete"&&isPrivateFieldAccess(k.argument)?this.raiseRecoverable(k.start,"Private fields can not be deleted"):e=!0,b=this.finishNode(k,$?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===types$1.privateId)(o||this.privateNameStack.length===0)&&this.unexpected(),b=this.parsePrivateIdent(),this.type!==types$1._in&&this.unexpected();else{if(b=this.parseExprSubscripts(s,o),this.checkExpressionErrors(s))return b;for(;this.type.postfix&&!this.canInsertSemicolon();){var _=this.startNodeAt(c,d);_.operator=this.value,_.prefix=!1,_.argument=b,this.checkLValSimple(b),this.next(),b=this.finishNode(_,"UpdateExpression")}}if(!a&&this.eat(types$1.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(c,d,b,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return b};function isPrivateFieldAccess(s){return s.type==="MemberExpression"&&s.property.type==="PrivateIdentifier"||s.type==="ChainExpression"&&isPrivateFieldAccess(s.expression)}pp$5.parseExprSubscripts=function(s,e){var a=this.start,o=this.startLoc,c=this.parseExprAtom(s,e);if(c.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return c;var d=this.parseSubscripts(c,a,o,!1,e);return s&&d.type==="MemberExpression"&&(s.parenthesizedAssign>=d.start&&(s.parenthesizedAssign=-1),s.parenthesizedBind>=d.start&&(s.parenthesizedBind=-1),s.trailingComma>=d.start&&(s.trailingComma=-1)),d};pp$5.parseSubscripts=function(s,e,a,o,c){for(var d=this.options.ecmaVersion>=8&&s.type==="Identifier"&&s.name==="async"&&this.lastTokEnd===s.end&&!this.canInsertSemicolon()&&s.end-s.start===5&&this.potentialArrowAt===s.start,b=!1;;){var k=this.parseSubscript(s,e,a,o,d,b,c);if(k.optional&&(b=!0),k===s||k.type==="ArrowFunctionExpression"){if(b){var $=this.startNodeAt(e,a);$.expression=k,k=this.finishNode($,"ChainExpression")}return k}s=k}};pp$5.parseSubscript=function(s,e,a,o,c,d,b){var k=this.options.ecmaVersion>=11,$=k&&this.eat(types$1.questionDot);o&&$&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var _=this.eat(types$1.bracketL);if(_||$&&this.type!==types$1.parenL&&this.type!==types$1.backQuote||this.eat(types$1.dot)){var j=this.startNodeAt(e,a);j.object=s,_?(j.property=this.parseExpression(),this.expect(types$1.bracketR)):this.type===types$1.privateId&&s.type!=="Super"?j.property=this.parsePrivateIdent():j.property=this.parseIdent(this.options.allowReserved!=="never"),j.computed=!!_,k&&(j.optional=$),s=this.finishNode(j,"MemberExpression")}else if(!o&&this.eat(types$1.parenL)){var _e=new DestructuringErrors,tt=this.yieldPos,it=this.awaitPos,nt=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var at=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1,_e);if(c&&!$&&!this.canInsertSemicolon()&&this.eat(types$1.arrow))return this.checkPatternErrors(_e,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=tt,this.awaitPos=it,this.awaitIdentPos=nt,this.parseArrowExpression(this.startNodeAt(e,a),at,!0,b);this.checkExpressionErrors(_e,!0),this.yieldPos=tt||this.yieldPos,this.awaitPos=it||this.awaitPos,this.awaitIdentPos=nt||this.awaitIdentPos;var rt=this.startNodeAt(e,a);rt.callee=s,rt.arguments=at,k&&(rt.optional=$),s=this.finishNode(rt,"CallExpression")}else if(this.type===types$1.backQuote){($||d)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var st=this.startNodeAt(e,a);st.tag=s,st.quasi=this.parseTemplate({isTagged:!0}),s=this.finishNode(st,"TaggedTemplateExpression")}return s};pp$5.parseExprAtom=function(s,e){this.type===types$1.slash&&this.readRegexp();var a,o=this.potentialArrowAt===this.start;switch(this.type){case types$1._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),a=this.startNode(),this.next(),this.type===types$1.parenL&&!this.allowDirectSuper&&this.raise(a.start,"super() call outside constructor of a subclass"),this.type!==types$1.dot&&this.type!==types$1.bracketL&&this.type!==types$1.parenL&&this.unexpected(),this.finishNode(a,"Super");case types$1._this:return a=this.startNode(),this.next(),this.finishNode(a,"ThisExpression");case types$1.name:var c=this.start,d=this.startLoc,b=this.containsEsc,k=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!b&&k.name==="async"&&!this.canInsertSemicolon()&&this.eat(types$1._function))return this.overrideContext(types.f_expr),this.parseFunction(this.startNodeAt(c,d),0,!1,!0,e);if(o&&!this.canInsertSemicolon()){if(this.eat(types$1.arrow))return this.parseArrowExpression(this.startNodeAt(c,d),[k],!1,e);if(this.options.ecmaVersion>=8&&k.name==="async"&&this.type===types$1.name&&!b&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return k=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(types$1.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(c,d),[k],!0,e)}return k;case types$1.regexp:var $=this.value;return a=this.parseLiteral($.value),a.regex={pattern:$.pattern,flags:$.flags},a;case types$1.num:case types$1.string:return this.parseLiteral(this.value);case types$1._null:case types$1._true:case types$1._false:return a=this.startNode(),a.value=this.type===types$1._null?null:this.type===types$1._true,a.raw=this.type.keyword,this.next(),this.finishNode(a,"Literal");case types$1.parenL:var _=this.start,j=this.parseParenAndDistinguishExpression(o,e);return s&&(s.parenthesizedAssign<0&&!this.isSimpleAssignTarget(j)&&(s.parenthesizedAssign=_),s.parenthesizedBind<0&&(s.parenthesizedBind=_)),j;case types$1.bracketL:return a=this.startNode(),this.next(),a.elements=this.parseExprList(types$1.bracketR,!0,!0,s),this.finishNode(a,"ArrayExpression");case types$1.braceL:return this.overrideContext(types.b_expr),this.parseObj(!1,s);case types$1._function:return a=this.startNode(),this.next(),this.parseFunction(a,0);case types$1._class:return this.parseClass(this.startNode(),!1);case types$1._new:return this.parseNew();case types$1.backQuote:return this.parseTemplate();case types$1._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};pp$5.parseExprImport=function(){var s=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case types$1.parenL:return this.parseDynamicImport(s);case types$1.dot:return s.meta=e,this.parseImportMeta(s);default:this.unexpected()}};pp$5.parseDynamicImport=function(s){if(this.next(),s.source=this.parseMaybeAssign(),!this.eat(types$1.parenR)){var e=this.start;this.eat(types$1.comma)&&this.eat(types$1.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(s,"ImportExpression")};pp$5.parseImportMeta=function(s){this.next();var e=this.containsEsc;return s.property=this.parseIdent(!0),s.property.name!=="meta"&&this.raiseRecoverable(s.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(s.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(s.start,"Cannot use 'import.meta' outside a module"),this.finishNode(s,"MetaProperty")};pp$5.parseLiteral=function(s){var e=this.startNode();return e.value=s,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};pp$5.parseParenExpression=function(){this.expect(types$1.parenL);var s=this.parseExpression();return this.expect(types$1.parenR),s};pp$5.parseParenAndDistinguishExpression=function(s,e){var a=this.start,o=this.startLoc,c,d=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var b=this.start,k=this.startLoc,$=[],_=!0,j=!1,_e=new DestructuringErrors,tt=this.yieldPos,it=this.awaitPos,nt;for(this.yieldPos=0,this.awaitPos=0;this.type!==types$1.parenR;)if(_?_=!1:this.expect(types$1.comma),d&&this.afterTrailingComma(types$1.parenR,!0)){j=!0;break}else if(this.type===types$1.ellipsis){nt=this.start,$.push(this.parseParenItem(this.parseRestBinding())),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else $.push(this.parseMaybeAssign(!1,_e,this.parseParenItem));var at=this.lastTokEnd,rt=this.lastTokEndLoc;if(this.expect(types$1.parenR),s&&!this.canInsertSemicolon()&&this.eat(types$1.arrow))return this.checkPatternErrors(_e,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=tt,this.awaitPos=it,this.parseParenArrowList(a,o,$,e);(!$.length||j)&&this.unexpected(this.lastTokStart),nt&&this.unexpected(nt),this.checkExpressionErrors(_e,!0),this.yieldPos=tt||this.yieldPos,this.awaitPos=it||this.awaitPos,$.length>1?(c=this.startNodeAt(b,k),c.expressions=$,this.finishNodeAt(c,"SequenceExpression",at,rt)):c=$[0]}else c=this.parseParenExpression();if(this.options.preserveParens){var st=this.startNodeAt(a,o);return st.expression=c,this.finishNode(st,"ParenthesizedExpression")}else return c};pp$5.parseParenItem=function(s){return s};pp$5.parseParenArrowList=function(s,e,a,o){return this.parseArrowExpression(this.startNodeAt(s,e),a,!1,o)};var empty=[];pp$5.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var s=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(types$1.dot)){s.meta=e;var a=this.containsEsc;return s.property=this.parseIdent(!0),s.property.name!=="target"&&this.raiseRecoverable(s.property.start,"The only valid meta property for new is 'new.target'"),a&&this.raiseRecoverable(s.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(s.start,"'new.target' can only be used in functions and class static block"),this.finishNode(s,"MetaProperty")}var o=this.start,c=this.startLoc,d=this.type===types$1._import;return s.callee=this.parseSubscripts(this.parseExprAtom(),o,c,!0,!1),d&&s.callee.type==="ImportExpression"&&this.raise(o,"Cannot use new with import()"),this.eat(types$1.parenL)?s.arguments=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1):s.arguments=empty,this.finishNode(s,"NewExpression")};pp$5.parseTemplateElement=function(s){var e=s.isTagged,a=this.startNode();return this.type===types$1.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),a.value={raw:this.value,cooked:null}):a.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),a.tail=this.type===types$1.backQuote,this.finishNode(a,"TemplateElement")};pp$5.parseTemplate=function(s){s===void 0&&(s={});var e=s.isTagged;e===void 0&&(e=!1);var a=this.startNode();this.next(),a.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(a.quasis=[o];!o.tail;)this.type===types$1.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(types$1.dollarBraceL),a.expressions.push(this.parseExpression()),this.expect(types$1.braceR),a.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(a,"TemplateLiteral")};pp$5.isAsyncProp=function(s){return!s.computed&&s.key.type==="Identifier"&&s.key.name==="async"&&(this.type===types$1.name||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===types$1.star)&&!lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$5.parseObj=function(s,e){var a=this.startNode(),o=!0,c={};for(a.properties=[],this.next();!this.eat(types$1.braceR);){if(o)o=!1;else if(this.expect(types$1.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(types$1.braceR))break;var d=this.parseProperty(s,e);s||this.checkPropClash(d,c,e),a.properties.push(d)}return this.finishNode(a,s?"ObjectPattern":"ObjectExpression")};pp$5.parseProperty=function(s,e){var a=this.startNode(),o,c,d,b;if(this.options.ecmaVersion>=9&&this.eat(types$1.ellipsis))return s?(a.argument=this.parseIdent(!1),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(a.argument=this.parseMaybeAssign(!1,e),this.type===types$1.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(s||e)&&(d=this.start,b=this.startLoc),s||(o=this.eat(types$1.star)));var k=this.containsEsc;return this.parsePropertyName(a),!s&&!k&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(a)?(c=!0,o=this.options.ecmaVersion>=9&&this.eat(types$1.star),this.parsePropertyName(a,e)):c=!1,this.parsePropertyValue(a,s,o,c,d,b,e,k),this.finishNode(a,"Property")};pp$5.parsePropertyValue=function(s,e,a,o,c,d,b,k){if((a||o)&&this.type===types$1.colon&&this.unexpected(),this.eat(types$1.colon))s.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,b),s.kind="init";else if(this.options.ecmaVersion>=6&&this.type===types$1.parenL)e&&this.unexpected(),s.kind="init",s.method=!0,s.value=this.parseMethod(a,o);else if(!e&&!k&&this.options.ecmaVersion>=5&&!s.computed&&s.key.type==="Identifier"&&(s.key.name==="get"||s.key.name==="set")&&this.type!==types$1.comma&&this.type!==types$1.braceR&&this.type!==types$1.eq){(a||o)&&this.unexpected(),s.kind=s.key.name,this.parsePropertyName(s),s.value=this.parseMethod(!1);var $=s.kind==="get"?0:1;if(s.value.params.length!==$){var _=s.value.start;s.kind==="get"?this.raiseRecoverable(_,"getter should have no params"):this.raiseRecoverable(_,"setter should have exactly one param")}else s.kind==="set"&&s.value.params[0].type==="RestElement"&&this.raiseRecoverable(s.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!s.computed&&s.key.type==="Identifier"?((a||o)&&this.unexpected(),this.checkUnreserved(s.key),s.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=c),s.kind="init",e?s.value=this.parseMaybeDefault(c,d,this.copyNode(s.key)):this.type===types$1.eq&&b?(b.shorthandAssign<0&&(b.shorthandAssign=this.start),s.value=this.parseMaybeDefault(c,d,this.copyNode(s.key))):s.value=this.copyNode(s.key),s.shorthand=!0):this.unexpected()};pp$5.parsePropertyName=function(s){if(this.options.ecmaVersion>=6){if(this.eat(types$1.bracketL))return s.computed=!0,s.key=this.parseMaybeAssign(),this.expect(types$1.bracketR),s.key;s.computed=!1}return s.key=this.type===types$1.num||this.type===types$1.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};pp$5.initFunction=function(s){s.id=null,this.options.ecmaVersion>=6&&(s.generator=s.expression=!1),this.options.ecmaVersion>=8&&(s.async=!1)};pp$5.parseMethod=function(s,e,a){var o=this.startNode(),c=this.yieldPos,d=this.awaitPos,b=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=s),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(e,o.generator)|SCOPE_SUPER|(a?SCOPE_DIRECT_SUPER:0)),this.expect(types$1.parenL),o.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=c,this.awaitPos=d,this.awaitIdentPos=b,this.finishNode(o,"FunctionExpression")};pp$5.parseArrowExpression=function(s,e,a,o){var c=this.yieldPos,d=this.awaitPos,b=this.awaitIdentPos;return this.enterScope(functionFlags(a,!1)|SCOPE_ARROW),this.initFunction(s),this.options.ecmaVersion>=8&&(s.async=!!a),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,s.params=this.toAssignableList(e,!0),this.parseFunctionBody(s,!0,!1,o),this.yieldPos=c,this.awaitPos=d,this.awaitIdentPos=b,this.finishNode(s,"ArrowFunctionExpression")};pp$5.parseFunctionBody=function(s,e,a,o){var c=e&&this.type!==types$1.braceL,d=this.strict,b=!1;if(c)s.body=this.parseMaybeAssign(o),s.expression=!0,this.checkParams(s,!1);else{var k=this.options.ecmaVersion>=7&&!this.isSimpleParamList(s.params);(!d||k)&&(b=this.strictDirective(this.end),b&&k&&this.raiseRecoverable(s.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var $=this.labels;this.labels=[],b&&(this.strict=!0),this.checkParams(s,!d&&!b&&!e&&!a&&this.isSimpleParamList(s.params)),this.strict&&s.id&&this.checkLValSimple(s.id,BIND_OUTSIDE),s.body=this.parseBlock(!1,void 0,b&&!d),s.expression=!1,this.adaptDirectivePrologue(s.body.body),this.labels=$}this.exitScope()};pp$5.isSimpleParamList=function(s){for(var e=0,a=s;e<a.length;e+=1){var o=a[e];if(o.type!=="Identifier")return!1}return!0};pp$5.checkParams=function(s,e){for(var a=Object.create(null),o=0,c=s.params;o<c.length;o+=1){var d=c[o];this.checkLValInnerPattern(d,BIND_VAR,e?null:a)}};pp$5.parseExprList=function(s,e,a,o){for(var c=[],d=!0;!this.eat(s);){if(d)d=!1;else if(this.expect(types$1.comma),e&&this.afterTrailingComma(s))break;var b=void 0;a&&this.type===types$1.comma?b=null:this.type===types$1.ellipsis?(b=this.parseSpread(o),o&&this.type===types$1.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):b=this.parseMaybeAssign(!1,o),c.push(b)}return c};pp$5.checkUnreserved=function(s){var e=s.start,a=s.end,o=s.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,a).indexOf("\\")!==-1)){var c=this.strict?this.reservedWordsStrict:this.reservedWords;c.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};pp$5.parseIdent=function(s,e){var a=this.startNode();return this.type===types$1.name?a.name=this.value:this.type.keyword?(a.name=this.type.keyword,(a.name==="class"||a.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!s),this.finishNode(a,"Identifier"),s||(this.checkUnreserved(a),a.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=a.start)),a};pp$5.parsePrivateIdent=function(){var s=this.startNode();return this.type===types$1.privateId?s.name=this.value:this.unexpected(),this.next(),this.finishNode(s,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(s.start,"Private field '#"+s.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(s),s};pp$5.parseYield=function(s){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===types$1.semi||this.canInsertSemicolon()||this.type!==types$1.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(types$1.star),e.argument=this.parseMaybeAssign(s)),this.finishNode(e,"YieldExpression")};pp$5.parseAwait=function(s){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,s),this.finishNode(e,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(s,e){var a=getLineInfo(this.input,s);e+=" ("+a.line+":"+a.column+")";var o=new SyntaxError(e);throw o.pos=s,o.loc=a,o.raisedAt=this.pos,o};pp$4.raiseRecoverable=pp$4.raise;pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var pp$3=Parser.prototype,Scope=function s(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};pp$3.enterScope=function(s){this.scopeStack.push(new Scope(s))};pp$3.exitScope=function(){this.scopeStack.pop()};pp$3.treatFunctionsAsVarInScope=function(s){return s.flags&SCOPE_FUNCTION||!this.inModule&&s.flags&SCOPE_TOP};pp$3.declareName=function(s,e,a){var o=!1;if(e===BIND_LEXICAL){var c=this.currentScope();o=c.lexical.indexOf(s)>-1||c.functions.indexOf(s)>-1||c.var.indexOf(s)>-1,c.lexical.push(s),this.inModule&&c.flags&SCOPE_TOP&&delete this.undefinedExports[s]}else if(e===BIND_SIMPLE_CATCH){var d=this.currentScope();d.lexical.push(s)}else if(e===BIND_FUNCTION){var b=this.currentScope();this.treatFunctionsAsVar?o=b.lexical.indexOf(s)>-1:o=b.lexical.indexOf(s)>-1||b.var.indexOf(s)>-1,b.functions.push(s)}else for(var k=this.scopeStack.length-1;k>=0;--k){var $=this.scopeStack[k];if($.lexical.indexOf(s)>-1&&!($.flags&SCOPE_SIMPLE_CATCH&&$.lexical[0]===s)||!this.treatFunctionsAsVarInScope($)&&$.functions.indexOf(s)>-1){o=!0;break}if($.var.push(s),this.inModule&&$.flags&SCOPE_TOP&&delete this.undefinedExports[s],$.flags&SCOPE_VAR)break}o&&this.raiseRecoverable(a,"Identifier '"+s+"' has already been declared")};pp$3.checkLocalExport=function(s){this.scopeStack[0].lexical.indexOf(s.name)===-1&&this.scopeStack[0].var.indexOf(s.name)===-1&&(this.undefinedExports[s.name]=s)};pp$3.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};pp$3.currentVarScope=function(){for(var s=this.scopeStack.length-1;;s--){var e=this.scopeStack[s];if(e.flags&SCOPE_VAR)return e}};pp$3.currentThisScope=function(){for(var s=this.scopeStack.length-1;;s--){var e=this.scopeStack[s];if(e.flags&SCOPE_VAR&&!(e.flags&SCOPE_ARROW))return e}};var Node=function s(e,a,o){this.type="",this.start=a,this.end=0,e.options.locations&&(this.loc=new SourceLocation(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[a,0])},pp$2=Parser.prototype;pp$2.startNode=function(){return new Node(this,this.start,this.startLoc)};pp$2.startNodeAt=function(s,e){return new Node(this,s,e)};function finishNodeAt(s,e,a,o){return s.type=e,s.end=a,this.options.locations&&(s.loc.end=o),this.options.ranges&&(s.range[1]=a),s}pp$2.finishNode=function(s,e){return finishNodeAt.call(this,s,e,this.lastTokEnd,this.lastTokEndLoc)};pp$2.finishNodeAt=function(s,e,a,o){return finishNodeAt.call(this,s,e,a,o)};pp$2.copyNode=function(s){var e=new Node(this,s.start,this.startLoc);for(var a in s)e[a]=s[a];return e};var ecma9BinaryProperties="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ecma10BinaryProperties=ecma9BinaryProperties+" Extended_Pictographic",ecma11BinaryProperties=ecma10BinaryProperties,ecma12BinaryProperties=ecma11BinaryProperties+" EBase EComp EMod EPres ExtPict",ecma13BinaryProperties=ecma12BinaryProperties,unicodeBinaryProperties={9:ecma9BinaryProperties,10:ecma10BinaryProperties,11:ecma11BinaryProperties,12:ecma12BinaryProperties,13:ecma13BinaryProperties},unicodeGeneralCategoryValues="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ecma9ScriptValues="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ecma10ScriptValues=ecma9ScriptValues+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ecma11ScriptValues=ecma10ScriptValues+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ecma12ScriptValues=ecma11ScriptValues+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ecma13ScriptValues=ecma12ScriptValues+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",unicodeScriptValues={9:ecma9ScriptValues,10:ecma10ScriptValues,11:ecma11ScriptValues,12:ecma12ScriptValues,13:ecma13ScriptValues},data={};function buildUnicodeData(s){var e=data[s]={binary:wordsRegexp(unicodeBinaryProperties[s]+" "+unicodeGeneralCategoryValues),nonBinary:{General_Category:wordsRegexp(unicodeGeneralCategoryValues),Script:wordsRegexp(unicodeScriptValues[s])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var i=0,list=[9,10,11,12,13];i<list.length;i+=1){var ecmaVersion=list[i];buildUnicodeData(ecmaVersion)}var pp$1=Parser.prototype,RegExpValidationState=function s(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=data[e.options.ecmaVersion>=13?13:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};RegExpValidationState.prototype.reset=function s(e,a,o){var c=o.indexOf("u")!==-1;this.start=e|0,this.source=a+"",this.flags=o,this.switchU=c&&this.parser.options.ecmaVersion>=6,this.switchN=c&&this.parser.options.ecmaVersion>=9};RegExpValidationState.prototype.raise=function s(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};RegExpValidationState.prototype.at=function s(e,a){a===void 0&&(a=!1);var o=this.source,c=o.length;if(e>=c)return-1;var d=o.charCodeAt(e);if(!(a||this.switchU)||d<=55295||d>=57344||e+1>=c)return d;var b=o.charCodeAt(e+1);return b>=56320&&b<=57343?(d<<10)+b-56613888:d};RegExpValidationState.prototype.nextIndex=function s(e,a){a===void 0&&(a=!1);var o=this.source,c=o.length;if(e>=c)return c;var d=o.charCodeAt(e),b;return!(a||this.switchU)||d<=55295||d>=57344||e+1>=c||(b=o.charCodeAt(e+1))<56320||b>57343?e+1:e+2};RegExpValidationState.prototype.current=function s(e){return e===void 0&&(e=!1),this.at(this.pos,e)};RegExpValidationState.prototype.lookahead=function s(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};RegExpValidationState.prototype.advance=function s(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};RegExpValidationState.prototype.eat=function s(e,a){return a===void 0&&(a=!1),this.current(a)===e?(this.advance(a),!0):!1};pp$1.validateRegExpFlags=function(s){for(var e=s.validFlags,a=s.flags,o=0;o<a.length;o++){var c=a.charAt(o);e.indexOf(c)===-1&&this.raise(s.start,"Invalid regular expression flag"),a.indexOf(c,o+1)>-1&&this.raise(s.start,"Duplicate regular expression flag")}};pp$1.validateRegExpPattern=function(s){this.regexp_pattern(s),!s.switchN&&this.options.ecmaVersion>=9&&s.groupNames.length>0&&(s.switchN=!0,this.regexp_pattern(s))};pp$1.regexp_pattern=function(s){s.pos=0,s.lastIntValue=0,s.lastStringValue="",s.lastAssertionIsQuantifiable=!1,s.numCapturingParens=0,s.maxBackReference=0,s.groupNames.length=0,s.backReferenceNames.length=0,this.regexp_disjunction(s),s.pos!==s.source.length&&(s.eat(41)&&s.raise("Unmatched ')'"),(s.eat(93)||s.eat(125))&&s.raise("Lone quantifier brackets")),s.maxBackReference>s.numCapturingParens&&s.raise("Invalid escape");for(var e=0,a=s.backReferenceNames;e<a.length;e+=1){var o=a[e];s.groupNames.indexOf(o)===-1&&s.raise("Invalid named capture referenced")}};pp$1.regexp_disjunction=function(s){for(this.regexp_alternative(s);s.eat(124);)this.regexp_alternative(s);this.regexp_eatQuantifier(s,!0)&&s.raise("Nothing to repeat"),s.eat(123)&&s.raise("Lone quantifier brackets")};pp$1.regexp_alternative=function(s){for(;s.pos<s.source.length&&this.regexp_eatTerm(s););};pp$1.regexp_eatTerm=function(s){return this.regexp_eatAssertion(s)?(s.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(s)&&s.switchU&&s.raise("Invalid quantifier"),!0):(s.switchU?this.regexp_eatAtom(s):this.regexp_eatExtendedAtom(s))?(this.regexp_eatQuantifier(s),!0):!1};pp$1.regexp_eatAssertion=function(s){var e=s.pos;if(s.lastAssertionIsQuantifiable=!1,s.eat(94)||s.eat(36))return!0;if(s.eat(92)){if(s.eat(66)||s.eat(98))return!0;s.pos=e}if(s.eat(40)&&s.eat(63)){var a=!1;if(this.options.ecmaVersion>=9&&(a=s.eat(60)),s.eat(61)||s.eat(33))return this.regexp_disjunction(s),s.eat(41)||s.raise("Unterminated group"),s.lastAssertionIsQuantifiable=!a,!0}return s.pos=e,!1};pp$1.regexp_eatQuantifier=function(s,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(s,e)?(s.eat(63),!0):!1};pp$1.regexp_eatQuantifierPrefix=function(s,e){return s.eat(42)||s.eat(43)||s.eat(63)||this.regexp_eatBracedQuantifier(s,e)};pp$1.regexp_eatBracedQuantifier=function(s,e){var a=s.pos;if(s.eat(123)){var o=0,c=-1;if(this.regexp_eatDecimalDigits(s)&&(o=s.lastIntValue,s.eat(44)&&this.regexp_eatDecimalDigits(s)&&(c=s.lastIntValue),s.eat(125)))return c!==-1&&c<o&&!e&&s.raise("numbers out of order in {} quantifier"),!0;s.switchU&&!e&&s.raise("Incomplete quantifier"),s.pos=a}return!1};pp$1.regexp_eatAtom=function(s){return this.regexp_eatPatternCharacters(s)||s.eat(46)||this.regexp_eatReverseSolidusAtomEscape(s)||this.regexp_eatCharacterClass(s)||this.regexp_eatUncapturingGroup(s)||this.regexp_eatCapturingGroup(s)};pp$1.regexp_eatReverseSolidusAtomEscape=function(s){var e=s.pos;if(s.eat(92)){if(this.regexp_eatAtomEscape(s))return!0;s.pos=e}return!1};pp$1.regexp_eatUncapturingGroup=function(s){var e=s.pos;if(s.eat(40)){if(s.eat(63)&&s.eat(58)){if(this.regexp_disjunction(s),s.eat(41))return!0;s.raise("Unterminated group")}s.pos=e}return!1};pp$1.regexp_eatCapturingGroup=function(s){if(s.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(s):s.current()===63&&s.raise("Invalid group"),this.regexp_disjunction(s),s.eat(41))return s.numCapturingParens+=1,!0;s.raise("Unterminated group")}return!1};pp$1.regexp_eatExtendedAtom=function(s){return s.eat(46)||this.regexp_eatReverseSolidusAtomEscape(s)||this.regexp_eatCharacterClass(s)||this.regexp_eatUncapturingGroup(s)||this.regexp_eatCapturingGroup(s)||this.regexp_eatInvalidBracedQuantifier(s)||this.regexp_eatExtendedPatternCharacter(s)};pp$1.regexp_eatInvalidBracedQuantifier=function(s){return this.regexp_eatBracedQuantifier(s,!0)&&s.raise("Nothing to repeat"),!1};pp$1.regexp_eatSyntaxCharacter=function(s){var e=s.current();return isSyntaxCharacter(e)?(s.lastIntValue=e,s.advance(),!0):!1};function isSyntaxCharacter(s){return s===36||s>=40&&s<=43||s===46||s===63||s>=91&&s<=94||s>=123&&s<=125}pp$1.regexp_eatPatternCharacters=function(s){for(var e=s.pos,a=0;(a=s.current())!==-1&&!isSyntaxCharacter(a);)s.advance();return s.pos!==e};pp$1.regexp_eatExtendedPatternCharacter=function(s){var e=s.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(s.advance(),!0):!1};pp$1.regexp_groupSpecifier=function(s){if(s.eat(63)){if(this.regexp_eatGroupName(s)){s.groupNames.indexOf(s.lastStringValue)!==-1&&s.raise("Duplicate capture group name"),s.groupNames.push(s.lastStringValue);return}s.raise("Invalid group")}};pp$1.regexp_eatGroupName=function(s){if(s.lastStringValue="",s.eat(60)){if(this.regexp_eatRegExpIdentifierName(s)&&s.eat(62))return!0;s.raise("Invalid capture group name")}return!1};pp$1.regexp_eatRegExpIdentifierName=function(s){if(s.lastStringValue="",this.regexp_eatRegExpIdentifierStart(s)){for(s.lastStringValue+=codePointToString(s.lastIntValue);this.regexp_eatRegExpIdentifierPart(s);)s.lastStringValue+=codePointToString(s.lastIntValue);return!0}return!1};pp$1.regexp_eatRegExpIdentifierStart=function(s){var e=s.pos,a=this.options.ecmaVersion>=11,o=s.current(a);return s.advance(a),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(s,a)&&(o=s.lastIntValue),isRegExpIdentifierStart(o)?(s.lastIntValue=o,!0):(s.pos=e,!1)};function isRegExpIdentifierStart(s){return isIdentifierStart(s,!0)||s===36||s===95}pp$1.regexp_eatRegExpIdentifierPart=function(s){var e=s.pos,a=this.options.ecmaVersion>=11,o=s.current(a);return s.advance(a),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(s,a)&&(o=s.lastIntValue),isRegExpIdentifierPart(o)?(s.lastIntValue=o,!0):(s.pos=e,!1)};function isRegExpIdentifierPart(s){return isIdentifierChar(s,!0)||s===36||s===95||s===8204||s===8205}pp$1.regexp_eatAtomEscape=function(s){return this.regexp_eatBackReference(s)||this.regexp_eatCharacterClassEscape(s)||this.regexp_eatCharacterEscape(s)||s.switchN&&this.regexp_eatKGroupName(s)?!0:(s.switchU&&(s.current()===99&&s.raise("Invalid unicode escape"),s.raise("Invalid escape")),!1)};pp$1.regexp_eatBackReference=function(s){var e=s.pos;if(this.regexp_eatDecimalEscape(s)){var a=s.lastIntValue;if(s.switchU)return a>s.maxBackReference&&(s.maxBackReference=a),!0;if(a<=s.numCapturingParens)return!0;s.pos=e}return!1};pp$1.regexp_eatKGroupName=function(s){if(s.eat(107)){if(this.regexp_eatGroupName(s))return s.backReferenceNames.push(s.lastStringValue),!0;s.raise("Invalid named reference")}return!1};pp$1.regexp_eatCharacterEscape=function(s){return this.regexp_eatControlEscape(s)||this.regexp_eatCControlLetter(s)||this.regexp_eatZero(s)||this.regexp_eatHexEscapeSequence(s)||this.regexp_eatRegExpUnicodeEscapeSequence(s,!1)||!s.switchU&&this.regexp_eatLegacyOctalEscapeSequence(s)||this.regexp_eatIdentityEscape(s)};pp$1.regexp_eatCControlLetter=function(s){var e=s.pos;if(s.eat(99)){if(this.regexp_eatControlLetter(s))return!0;s.pos=e}return!1};pp$1.regexp_eatZero=function(s){return s.current()===48&&!isDecimalDigit(s.lookahead())?(s.lastIntValue=0,s.advance(),!0):!1};pp$1.regexp_eatControlEscape=function(s){var e=s.current();return e===116?(s.lastIntValue=9,s.advance(),!0):e===110?(s.lastIntValue=10,s.advance(),!0):e===118?(s.lastIntValue=11,s.advance(),!0):e===102?(s.lastIntValue=12,s.advance(),!0):e===114?(s.lastIntValue=13,s.advance(),!0):!1};pp$1.regexp_eatControlLetter=function(s){var e=s.current();return isControlLetter(e)?(s.lastIntValue=e%32,s.advance(),!0):!1};function isControlLetter(s){return s>=65&&s<=90||s>=97&&s<=122}pp$1.regexp_eatRegExpUnicodeEscapeSequence=function(s,e){e===void 0&&(e=!1);var a=s.pos,o=e||s.switchU;if(s.eat(117)){if(this.regexp_eatFixedHexDigits(s,4)){var c=s.lastIntValue;if(o&&c>=55296&&c<=56319){var d=s.pos;if(s.eat(92)&&s.eat(117)&&this.regexp_eatFixedHexDigits(s,4)){var b=s.lastIntValue;if(b>=56320&&b<=57343)return s.lastIntValue=(c-55296)*1024+(b-56320)+65536,!0}s.pos=d,s.lastIntValue=c}return!0}if(o&&s.eat(123)&&this.regexp_eatHexDigits(s)&&s.eat(125)&&isValidUnicode(s.lastIntValue))return!0;o&&s.raise("Invalid unicode escape"),s.pos=a}return!1};function isValidUnicode(s){return s>=0&&s<=1114111}pp$1.regexp_eatIdentityEscape=function(s){if(s.switchU)return this.regexp_eatSyntaxCharacter(s)?!0:s.eat(47)?(s.lastIntValue=47,!0):!1;var e=s.current();return e!==99&&(!s.switchN||e!==107)?(s.lastIntValue=e,s.advance(),!0):!1};pp$1.regexp_eatDecimalEscape=function(s){s.lastIntValue=0;var e=s.current();if(e>=49&&e<=57){do s.lastIntValue=10*s.lastIntValue+(e-48),s.advance();while((e=s.current())>=48&&e<=57);return!0}return!1};pp$1.regexp_eatCharacterClassEscape=function(s){var e=s.current();if(isCharacterClassEscape(e))return s.lastIntValue=-1,s.advance(),!0;if(s.switchU&&this.options.ecmaVersion>=9&&(e===80||e===112)){if(s.lastIntValue=-1,s.advance(),s.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(s)&&s.eat(125))return!0;s.raise("Invalid property name")}return!1};function isCharacterClassEscape(s){return s===100||s===68||s===115||s===83||s===119||s===87}pp$1.regexp_eatUnicodePropertyValueExpression=function(s){var e=s.pos;if(this.regexp_eatUnicodePropertyName(s)&&s.eat(61)){var a=s.lastStringValue;if(this.regexp_eatUnicodePropertyValue(s)){var o=s.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(s,a,o),!0}}if(s.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(s)){var c=s.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(s,c),!0}return!1};pp$1.regexp_validateUnicodePropertyNameAndValue=function(s,e,a){hasOwn(s.unicodeProperties.nonBinary,e)||s.raise("Invalid property name"),s.unicodeProperties.nonBinary[e].test(a)||s.raise("Invalid property value")};pp$1.regexp_validateUnicodePropertyNameOrValue=function(s,e){s.unicodeProperties.binary.test(e)||s.raise("Invalid property name")};pp$1.regexp_eatUnicodePropertyName=function(s){var e=0;for(s.lastStringValue="";isUnicodePropertyNameCharacter(e=s.current());)s.lastStringValue+=codePointToString(e),s.advance();return s.lastStringValue!==""};function isUnicodePropertyNameCharacter(s){return isControlLetter(s)||s===95}pp$1.regexp_eatUnicodePropertyValue=function(s){var e=0;for(s.lastStringValue="";isUnicodePropertyValueCharacter(e=s.current());)s.lastStringValue+=codePointToString(e),s.advance();return s.lastStringValue!==""};function isUnicodePropertyValueCharacter(s){return isUnicodePropertyNameCharacter(s)||isDecimalDigit(s)}pp$1.regexp_eatLoneUnicodePropertyNameOrValue=function(s){return this.regexp_eatUnicodePropertyValue(s)};pp$1.regexp_eatCharacterClass=function(s){if(s.eat(91)){if(s.eat(94),this.regexp_classRanges(s),s.eat(93))return!0;s.raise("Unterminated character class")}return!1};pp$1.regexp_classRanges=function(s){for(;this.regexp_eatClassAtom(s);){var e=s.lastIntValue;if(s.eat(45)&&this.regexp_eatClassAtom(s)){var a=s.lastIntValue;s.switchU&&(e===-1||a===-1)&&s.raise("Invalid character class"),e!==-1&&a!==-1&&e>a&&s.raise("Range out of order in character class")}}};pp$1.regexp_eatClassAtom=function(s){var e=s.pos;if(s.eat(92)){if(this.regexp_eatClassEscape(s))return!0;if(s.switchU){var a=s.current();(a===99||isOctalDigit(a))&&s.raise("Invalid class escape"),s.raise("Invalid escape")}s.pos=e}var o=s.current();return o!==93?(s.lastIntValue=o,s.advance(),!0):!1};pp$1.regexp_eatClassEscape=function(s){var e=s.pos;if(s.eat(98))return s.lastIntValue=8,!0;if(s.switchU&&s.eat(45))return s.lastIntValue=45,!0;if(!s.switchU&&s.eat(99)){if(this.regexp_eatClassControlLetter(s))return!0;s.pos=e}return this.regexp_eatCharacterClassEscape(s)||this.regexp_eatCharacterEscape(s)};pp$1.regexp_eatClassControlLetter=function(s){var e=s.current();return isDecimalDigit(e)||e===95?(s.lastIntValue=e%32,s.advance(),!0):!1};pp$1.regexp_eatHexEscapeSequence=function(s){var e=s.pos;if(s.eat(120)){if(this.regexp_eatFixedHexDigits(s,2))return!0;s.switchU&&s.raise("Invalid escape"),s.pos=e}return!1};pp$1.regexp_eatDecimalDigits=function(s){var e=s.pos,a=0;for(s.lastIntValue=0;isDecimalDigit(a=s.current());)s.lastIntValue=10*s.lastIntValue+(a-48),s.advance();return s.pos!==e};function isDecimalDigit(s){return s>=48&&s<=57}pp$1.regexp_eatHexDigits=function(s){var e=s.pos,a=0;for(s.lastIntValue=0;isHexDigit(a=s.current());)s.lastIntValue=16*s.lastIntValue+hexToInt(a),s.advance();return s.pos!==e};function isHexDigit(s){return s>=48&&s<=57||s>=65&&s<=70||s>=97&&s<=102}function hexToInt(s){return s>=65&&s<=70?10+(s-65):s>=97&&s<=102?10+(s-97):s-48}pp$1.regexp_eatLegacyOctalEscapeSequence=function(s){if(this.regexp_eatOctalDigit(s)){var e=s.lastIntValue;if(this.regexp_eatOctalDigit(s)){var a=s.lastIntValue;e<=3&&this.regexp_eatOctalDigit(s)?s.lastIntValue=e*64+a*8+s.lastIntValue:s.lastIntValue=e*8+a}else s.lastIntValue=e;return!0}return!1};pp$1.regexp_eatOctalDigit=function(s){var e=s.current();return isOctalDigit(e)?(s.lastIntValue=e-48,s.advance(),!0):(s.lastIntValue=0,!1)};function isOctalDigit(s){return s>=48&&s<=55}pp$1.regexp_eatFixedHexDigits=function(s,e){var a=s.pos;s.lastIntValue=0;for(var o=0;o<e;++o){var c=s.current();if(!isHexDigit(c))return s.pos=a,!1;s.lastIntValue=16*s.lastIntValue+hexToInt(c),s.advance()}return!0};var Token=function s(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new SourceLocation(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},pp=Parser.prototype;pp.next=function(s){!s&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};pp.getToken=function(){return this.next(),new Token(this)};typeof Symbol!="undefined"&&(pp[Symbol.iterator]=function(){var s=this;return{next:function(){var e=s.getToken();return{done:e.type===types$1.eof,value:e}}}});pp.nextToken=function(){var s=this.curContext();if((!s||!s.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(types$1.eof);if(s.override)return s.override(this);this.readToken(this.fullCharCodeAtPos())};pp.readToken=function(s){return isIdentifierStart(s,this.options.ecmaVersion>=6)||s===92?this.readWord():this.getTokenFromCode(s)};pp.fullCharCodeAtPos=function(){var s=this.input.charCodeAt(this.pos);if(s<=55295||s>=56320)return s;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?s:(s<<10)+e-56613888};pp.skipBlockComment=function(){var s=this.options.onComment&&this.curPosition(),e=this.pos,a=this.input.indexOf("*/",this.pos+=2);if(a===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=a+2,this.options.locations)for(var o=void 0,c=e;(o=nextLineBreak(this.input,c,this.pos))>-1;)++this.curLine,c=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,a),e,this.pos,s,this.curPosition())};pp.skipLineComment=function(s){for(var e=this.pos,a=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=s);this.pos<this.input.length&&!isNewLine(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+s,this.pos),e,this.pos,a,this.curPosition())};pp.skipSpace=function(){e:for(;this.pos<this.input.length;){var s=this.input.charCodeAt(this.pos);switch(s){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(s>8&&s<14||s>=5760&&nonASCIIwhitespace.test(String.fromCharCode(s)))++this.pos;else break e}}};pp.finishToken=function(s,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var a=this.type;this.type=s,this.value=e,this.updateContext(a)};pp.readToken_dot=function(){var s=this.input.charCodeAt(this.pos+1);if(s>=48&&s<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&s===46&&e===46?(this.pos+=3,this.finishToken(types$1.ellipsis)):(++this.pos,this.finishToken(types$1.dot))};pp.readToken_slash=function(){var s=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):s===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.slash,1)};pp.readToken_mult_modulo_exp=function(s){var e=this.input.charCodeAt(this.pos+1),a=1,o=s===42?types$1.star:types$1.modulo;return this.options.ecmaVersion>=7&&s===42&&e===42&&(++a,o=types$1.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(types$1.assign,a+1):this.finishOp(o,a)};pp.readToken_pipe_amp=function(s){var e=this.input.charCodeAt(this.pos+1);if(e===s){if(this.options.ecmaVersion>=12){var a=this.input.charCodeAt(this.pos+2);if(a===61)return this.finishOp(types$1.assign,3)}return this.finishOp(s===124?types$1.logicalOR:types$1.logicalAND,2)}return e===61?this.finishOp(types$1.assign,2):this.finishOp(s===124?types$1.bitwiseOR:types$1.bitwiseAND,1)};pp.readToken_caret=function(){var s=this.input.charCodeAt(this.pos+1);return s===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.bitwiseXOR,1)};pp.readToken_plus_min=function(s){var e=this.input.charCodeAt(this.pos+1);return e===s?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lineBreak.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(types$1.incDec,2):e===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.plusMin,1)};pp.readToken_lt_gt=function(s){var e=this.input.charCodeAt(this.pos+1),a=1;return e===s?(a=s===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+a)===61?this.finishOp(types$1.assign,a+1):this.finishOp(types$1.bitShift,a)):e===33&&s===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(a=2),this.finishOp(types$1.relational,a))};pp.readToken_eq_excl=function(s){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(types$1.equality,this.input.charCodeAt(this.pos+2)===61?3:2):s===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(types$1.arrow)):this.finishOp(s===61?types$1.eq:types$1.prefix,1)};pp.readToken_question=function(){var s=this.options.ecmaVersion;if(s>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var a=this.input.charCodeAt(this.pos+2);if(a<48||a>57)return this.finishOp(types$1.questionDot,2)}if(e===63){if(s>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(types$1.assign,3)}return this.finishOp(types$1.coalesce,2)}}return this.finishOp(types$1.question,1)};pp.readToken_numberSign=function(){var s=this.options.ecmaVersion,e=35;if(s>=13&&(++this.pos,e=this.fullCharCodeAtPos(),isIdentifierStart(e,!0)||e===92))return this.finishToken(types$1.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+codePointToString(e)+"'")};pp.getTokenFromCode=function(s){switch(s){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(types$1.parenL);case 41:return++this.pos,this.finishToken(types$1.parenR);case 59:return++this.pos,this.finishToken(types$1.semi);case 44:return++this.pos,this.finishToken(types$1.comma);case 91:return++this.pos,this.finishToken(types$1.bracketL);case 93:return++this.pos,this.finishToken(types$1.bracketR);case 123:return++this.pos,this.finishToken(types$1.braceL);case 125:return++this.pos,this.finishToken(types$1.braceR);case 58:return++this.pos,this.finishToken(types$1.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(types$1.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(s);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(s);case 124:case 38:return this.readToken_pipe_amp(s);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(s);case 60:case 62:return this.readToken_lt_gt(s);case 61:case 33:return this.readToken_eq_excl(s);case 63:return this.readToken_question();case 126:return this.finishOp(types$1.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+codePointToString(s)+"'")};pp.finishOp=function(s,e){var a=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(s,a)};pp.readRegexp=function(){for(var s,e,a=this.pos;;){this.pos>=this.input.length&&this.raise(a,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(lineBreak.test(o)&&this.raise(a,"Unterminated regular expression"),s)s=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;s=o==="\\"}++this.pos}var c=this.input.slice(a,this.pos);++this.pos;var d=this.pos,b=this.readWord1();this.containsEsc&&this.unexpected(d);var k=this.regexpState||(this.regexpState=new RegExpValidationState(this));k.reset(a,c,b),this.validateRegExpFlags(k),this.validateRegExpPattern(k);var $=null;try{$=new RegExp(c,b)}catch{}return this.finishToken(types$1.regexp,{pattern:c,flags:b,value:$})};pp.readInt=function(s,e,a){for(var o=this.options.ecmaVersion>=12&&e===void 0,c=a&&this.input.charCodeAt(this.pos)===48,d=this.pos,b=0,k=0,$=0,_=e==null?1/0:e;$<_;++$,++this.pos){var j=this.input.charCodeAt(this.pos),_e=void 0;if(o&&j===95){c&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),k===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),$===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),k=j;continue}if(j>=97?_e=j-97+10:j>=65?_e=j-65+10:j>=48&&j<=57?_e=j-48:_e=1/0,_e>=s)break;k=j,b=b*s+_e}return o&&k===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===d||e!=null&&this.pos-d!==e?null:b};function stringToNumber(s,e){return e?parseInt(s,8):parseFloat(s.replace(/_/g,""))}function stringToBigInt(s){return typeof BigInt!="function"?null:BigInt(s.replace(/_/g,""))}pp.readRadixNumber=function(s){var e=this.pos;this.pos+=2;var a=this.readInt(s);return a==null&&this.raise(this.start+2,"Expected number in radix "+s),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(a=stringToBigInt(this.input.slice(e,this.pos)),++this.pos):isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,a)};pp.readNumber=function(s){var e=this.pos;!s&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var a=this.pos-e>=2&&this.input.charCodeAt(e)===48;a&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!a&&!s&&this.options.ecmaVersion>=11&&o===110){var c=stringToBigInt(this.input.slice(e,this.pos));return++this.pos,isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,c)}a&&/[89]/.test(this.input.slice(e,this.pos))&&(a=!1),o===46&&!a&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!a&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var d=stringToNumber(this.input.slice(e,this.pos),a);return this.finishToken(types$1.num,d)};pp.readCodePoint=function(){var s=this.input.charCodeAt(this.pos),e;if(s===123){this.options.ecmaVersion<6&&this.unexpected();var a=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(a,"Code point out of bounds")}else e=this.readHexChar(4);return e};pp.readString=function(s){for(var e="",a=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===s)break;o===92?(e+=this.input.slice(a,this.pos),e+=this.readEscapedChar(!1),a=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(isNewLine(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(a,this.pos++),this.finishToken(types$1.string,e)};var INVALID_TEMPLATE_ESCAPE_ERROR={};pp.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(s){if(s===INVALID_TEMPLATE_ESCAPE_ERROR)this.readInvalidTemplateToken();else throw s}this.inTemplateElement=!1};pp.invalidStringToken=function(s,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw INVALID_TEMPLATE_ESCAPE_ERROR;this.raise(s,e)};pp.readTmplToken=function(){for(var s="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var a=this.input.charCodeAt(this.pos);if(a===96||a===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===types$1.template||this.type===types$1.invalidTemplate)?a===36?(this.pos+=2,this.finishToken(types$1.dollarBraceL)):(++this.pos,this.finishToken(types$1.backQuote)):(s+=this.input.slice(e,this.pos),this.finishToken(types$1.template,s));if(a===92)s+=this.input.slice(e,this.pos),s+=this.readEscapedChar(!0),e=this.pos;else if(isNewLine(a)){switch(s+=this.input.slice(e,this.pos),++this.pos,a){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:s+=`
`;break;default:s+=String.fromCharCode(a);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};pp.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(types$1.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};pp.readEscapedChar=function(s){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),s){var a=this.pos-1;return this.invalidStringToken(a,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],c=parseInt(o,8);return c>255&&(o=o.slice(0,-1),c=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||s)&&this.invalidStringToken(this.pos-1-o.length,s?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(c)}return isNewLine(e)?"":String.fromCharCode(e)}};pp.readHexChar=function(s){var e=this.pos,a=this.readInt(16,s);return a===null&&this.invalidStringToken(e,"Bad character escape sequence"),a};pp.readWord1=function(){this.containsEsc=!1;for(var s="",e=!0,a=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var c=this.fullCharCodeAtPos();if(isIdentifierChar(c,o))this.pos+=c<=65535?1:2;else if(c===92){this.containsEsc=!0,s+=this.input.slice(a,this.pos);var d=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var b=this.readCodePoint();(e?isIdentifierStart:isIdentifierChar)(b,o)||this.invalidStringToken(d,"Invalid Unicode escape"),s+=codePointToString(b),a=this.pos}else break;e=!1}return s+this.input.slice(a,this.pos)};pp.readWord=function(){var s=this.readWord1(),e=types$1.name;return this.keywords.test(s)&&(e=keywords[s]),this.finishToken(e,s)};var version="8.8.1";Parser.acorn={Parser,version,defaultOptions,Position,SourceLocation,getLineInfo,Node,TokenType,tokTypes:types$1,keywordTypes:keywords,TokContext,tokContexts:types,isIdentifierChar,isIdentifierStart,Token,isNewLine,lineBreak,lineBreakG,nonASCIIwhitespace};function parse(s,e){return Parser.parse(s,e)}class WalkerBase{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:e=>this.replacement=e}}replace(e,a,o,c){e&&(o!==null?e[a][o]=c:e[a]=c)}remove(e,a,o){e&&(o!==null?e[a].splice(o,1):delete e[a])}}class SyncWalker extends WalkerBase{constructor(e,a){super(),this.enter=e,this.leave=a}visit(e,a,o,c){if(e){if(this.enter){const d=this.should_skip,b=this.should_remove,k=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,a,o,c),this.replacement&&(e=this.replacement,this.replace(a,o,c,e)),this.should_remove&&this.remove(a,o,c);const $=this.should_skip,_=this.should_remove;if(this.should_skip=d,this.should_remove=b,this.replacement=k,$)return e;if(_)return null}for(const d in e){const b=e[d];if(typeof b=="object")if(Array.isArray(b))for(let k=0;k<b.length;k+=1)b[k]!==null&&typeof b[k].type=="string"&&(this.visit(b[k],e,d,k)||k--);else b!==null&&typeof b.type=="string"&&this.visit(b,e,d,null)}if(this.leave){const d=this.replacement,b=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,a,o,c),this.replacement&&(e=this.replacement,this.replace(a,o,c,e)),this.should_remove&&this.remove(a,o,c);const k=this.should_remove;if(this.replacement=d,this.should_remove=b,k)return null}}return e}}function walk(s,{enter:e,leave:a}){return new SyncWalker(e,a).visit(s,null)}function transpiler(s,e={}){var $;const{wrapAsync:a=!1,addReturn:o=!0,simpleLocs:c=!1}=e;let d=parse(s,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0});walk(d,{enter(_,j,_e,tt){if(isBackTickString(_,j)){const{quasis:it,start:nt,end:at}=_,{raw:rt}=it[0].value;return this.skip(),this.replace(miniWithLocation(rt,_,c))}if(isStringWithDoubleQuotes(_)){const{value:it,start:nt,end:at}=_;return this.skip(),this.replace(miniWithLocation(it,_,c))}if(_.type==="Identifier"&&isNote(_.name))return this.skip(),this.replace({type:"Literal",value:_.name})},leave(_,j,_e,tt){}});const{body:b}=d;if(!(($=b==null?void 0:b[b.length-1])!=null&&$.expression))throw new Error("unexpected ast format without body expression");if(o){const{expression:_}=b[b.length-1];b[b.length-1]={type:"ReturnStatement",argument:_}}const k=escodegen.generate(d);return a?`(async ()=>{${k}})()`:k}function isStringWithDoubleQuotes(s,e,a){const{raw:o,type:c}=s;return c!=="Literal"?!1:o[0]==='"'}function isBackTickString(s,e){return s.type==="TemplateLiteral"&&e.type!=="TaggedTemplateExpression"}function miniWithLocation(s,e,a){let o;const{start:c,end:d}=e;if(a)o=[{type:"Literal",value:c},{type:"Literal",value:d}];else{const{loc:{start:{line:b,column:k},end:{line:$,column:_}}}=e;o=[{type:"ArrayExpression",elements:[b,k,c].map(j=>({type:"Literal",value:j}))},{type:"ArrayExpression",elements:[$,_,d].map(j=>({type:"Literal",value:j}))}]}return{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"CallExpression",callee:{type:"Identifier",name:"mini"},arguments:[{type:"Literal",value:s}],optional:!1},property:{type:"Identifier",name:"withMiniLocation"}},arguments:o,optional:!1}}const ae=createTheme({theme:"dark",settings:{background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},styles:[{tag:tags.keyword,color:"#c792ea"},{tag:tags.operator,color:"#89ddff"},{tag:tags.special(tags.variableName),color:"#eeffff"},{tag:tags.typeName,color:"#c3e88d"},{tag:tags.atom,color:"#f78c6c"},{tag:tags.number,color:"#c3e88d"},{tag:tags.definition(tags.variableName),color:"#82aaff"},{tag:tags.string,color:"#c3e88d"},{tag:tags.special(tags.string),color:"#c3e88d"},{tag:tags.comment,color:"#7d8799"},{tag:tags.variableName,color:"#c792ea"},{tag:tags.tagName,color:"#c3e88d"},{tag:tags.bracket,color:"#525154"},{tag:tags.meta,color:"#ffcb6b"},{tag:tags.attributeName,color:"#c792ea"},{tag:tags.propertyName,color:"#c792ea"},{tag:tags.className,color:"#decb6b"},{tag:tags.invalid,color:"#ffffff"}]}),B=StateEffect.define(),se=StateField.define({create(){return Decoration.none},update(s,e){try{for(let a of e.effects)if(a.is(B))if(a.value){const o=Decoration.mark({attributes:{style:"background-color: #FFCA2880"}});s=Decoration.set([o.range(0,e.newDoc.length)])}else s=Decoration.set([]);return s}catch(a){return console.warn("flash error",a),s}},provide:s=>EditorView.decorations.from(s)}),ce=s=>{s.dispatch({effects:B.of(!0)}),setTimeout(()=>{s.dispatch({effects:B.of(!1)})},200)},z=StateEffect.define(),ie=StateField.define({create(){return Decoration.none},update(s,e){try{for(let a of e.effects)if(a.is(z)){const o=a.value.map(c=>(c.context.locations||[]).map(({start:d,end:b})=>{const k=c.context.color||"#FFCA28";let $=e.newDoc.line(d.line).from+d.column,_=e.newDoc.line(b.line).from+b.column;const j=e.newDoc.length;return $>j||_>j?void 0:Decoration.mark({attributes:{style:`outline: 1.5px solid ${k};`}}).range($,_)})).flat().filter(Boolean)||[];s=Decoration.set(o,!0)}return s}catch{return Decoration.set([])}},provide:s=>EditorView.decorations.from(s)}),le=[javascript(),ae,ie,se];function de({value:s,onChange:e,onViewChanged:a,onSelectionChange:o,options:c,editorDidMount:d}){const b=react.exports.useCallback(_=>{e==null||e(_)},[e]),k=react.exports.useCallback(_=>{a==null||a(_)},[a]),$=react.exports.useCallback(_=>{_.selectionSet&&o&&(o==null||o(_.state.selection))},[o]);return jsx(Fragment,{children:jsx(ReactCodeMirror,{value:s,onChange:b,onCreateEditor:k,onUpdate:$,extensions:le})})}function K(...s){return s.filter(Boolean).join(" ")}function ue({view:s,pattern:e,active:a,getTime:o}){const c=react.exports.useRef([]),d=react.exports.useRef();react.exports.useEffect(()=>{if(s)if(e&&a){let b=function(){try{const $=o(),_=[Math.max(d.current||$,$-1/10,0),$+1/60];d.current=_[1],c.current=c.current.filter(_e=>_e.whole.end>$);const j=e.queryArc(..._).filter(_e=>_e.hasOnset());c.current=c.current.concat(j),s.dispatch({effects:z.of(c.current)})}catch{s.dispatch({effects:z.of([])})}k=requestAnimationFrame(b)},k=requestAnimationFrame(b);return()=>{cancelAnimationFrame(k)}}else c.current=[],s.dispatch({effects:z.of([])})},[e,a,s])}const fe="_container_3i85k_1",me="_header_3i85k_5",ge="_buttons_3i85k_9",pe="_button_3i85k_9",he="_buttonDisabled_3i85k_17",be="_error_3i85k_21",ve="_body_3i85k_25",v={container:fe,header:me,buttons:ge,button:pe,buttonDisabled:he,error:be,body:ve};function O({type:s}){return jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"sc-h-5 sc-w-5",viewBox:"0 0 20 20",fill:"currentColor",children:{refresh:jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}),play:jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"}),pause:jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}[s]})}function Ee(s){return react.exports.useEffect(()=>(window.addEventListener("message",s),()=>window.removeEventListener("message",s)),[s]),react.exports.useCallback(e=>window.postMessage(e,"*"),[])}function we({defaultOutput:s,interval:e,getTime:a,evalOnMount:o=!1,initialCode:c="",autolink:d=!1,beforeEval:b,afterEval:k,onEvalError:$,onToggle:_}){const j=react.exports.useMemo(()=>ye(),[]),[_e,tt]=react.exports.useState(),[it,nt]=react.exports.useState(),[at,rt]=react.exports.useState(c),[st,ht]=react.exports.useState(),[gt,ct]=react.exports.useState(),[ft,dt]=react.exports.useState(!1),mt=at!==st,{scheduler:Ot,evaluate:yt,start:Ct,stop:kt,pause:bt}=react.exports.useMemo(()=>repl({interval:e,defaultOutput:s,onSchedulerError:tt,onEvalError:Dt=>{nt(Dt),$==null||$(Dt)},getTime:a,transpiler,beforeEval:({code:Dt})=>{rt(Dt),b==null||b()},afterEval:({pattern:Dt,code:Bt})=>{ht(Bt),ct(Dt),nt(),tt(),d&&(window.location.hash="#"+encodeURIComponent(btoa(Bt))),k==null||k()},onToggle:Dt=>{dt(Dt),_==null||_(Dt)}}),[s,e,a]),Et=Ee(({data:{from:Dt,type:Bt}})=>{Bt==="start"&&Dt!==j&&kt()}),At=react.exports.useCallback(async(Dt=!0)=>{await yt(at,Dt),Et({type:"start",from:j})},[yt,at]),Rt=react.exports.useRef();return react.exports.useEffect(()=>{!Rt.current&&o&&at&&(Rt.current=!0,At())},[At,o,at]),react.exports.useEffect(()=>()=>{Ot.stop()},[Ot]),{code:at,setCode:rt,error:_e||it,schedulerError:_e,scheduler:Ot,evalError:it,evaluate:yt,activateCode:At,activeCode:st,isDirty:mt,pattern:gt,started:ft,start:Ct,stop:kt,pause:bt,togglePlay:async()=>{ft?Ot.pause():await At()}}}function ye(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}const ke=()=>getAudioContext$1().currentTime;function Se({tune:s,hideOutsideView:e=!1,init:a,enableKeyboard:o}){const{code:c,setCode:d,evaluate:b,activateCode:k,error:$,isDirty:_,activeCode:j,pattern:_e,started:tt,scheduler:it,togglePlay:nt,stop:at}=we({initialCode:s,defaultOutput:webaudioOutput,getTime:ke}),[rt,st]=react.exports.useState(),[ht,gt]=useInView({threshold:.01}),ct=react.exports.useRef(),ft=react.exports.useMemo(()=>((gt||!e)&&(ct.current=!0),gt||ct.current),[gt,e]);return ue({view:rt,pattern:_e,active:tt&&!(j!=null&&j.includes("strudel disable-highlighting")),getTime:()=>it.getPhase()}),react.exports.useLayoutEffect(()=>{if(o){const dt=async mt=>{(mt.ctrlKey||mt.altKey)&&(mt.code==="Enter"?(mt.preventDefault(),ce(rt),await k()):mt.code==="Period"&&(at(),mt.preventDefault()))};return window.addEventListener("keydown",dt,!0),()=>window.removeEventListener("keydown",dt,!0)}},[o,_e,c,b,at,rt]),jsxs("div",{className:v.container,ref:ht,children:[jsxs("div",{className:v.header,children:[jsxs("div",{className:v.buttons,children:[jsx("button",{className:K(v.button,tt?"sc-animate-pulse":""),onClick:()=>nt(),children:jsx(O,{type:tt?"pause":"play"})}),jsx("button",{className:K(_?v.button:v.buttonDisabled),onClick:()=>k(),children:jsx(O,{type:"refresh"})})]}),$&&jsx("div",{className:v.error,children:$.message})]}),jsx("div",{className:v.body,children:ft&&React.createElement(de,{value:c,onChange:d,onViewChanged:st})})]})}const maxPan=toMidi$1("C8"),panwidth=(s,e)=>s*e+(1-e)/2;Pattern$1.prototype.piano=function(){return this.clip(1).s("piano").release(.1).fmap(s=>{const e=typeof s.note=="string"?toMidi$1(s.note):s.note,a=panwidth(Math.min(e/maxPan,1),.5);return nn(Jt({},s),{pan:(s.pan||1)*a})})};fetch("https://strudel.tidalcycles.org/EmuSP12.json").then(s=>s.json()).then(s=>samples(s,"https://strudel.tidalcycles.org/EmuSP12/"));evalScope(controls,__vitePreload(()=>Promise.resolve().then(function(){return strudel}),void 0),__vitePreload(()=>import("./index.bf25fd61.js"),[]),__vitePreload(()=>import("./index.408a3af8.js"),[]),__vitePreload(()=>import("./index.54885857.js"),[]),__vitePreload(()=>import("./index.3e2f41f5.js"),[]),__vitePreload(()=>import("./index.e5b46317.js"),[]),__vitePreload(()=>import("./osc.61e1010c.js"),[]));function MiniRepl({tune:s}){return jsx(Se,{tune:s,hideOutsideView:!0})}const layoutProps={},MDXLayout="wrapper";function MDXContent(a){var o=a,{components:s}=o,e=Tn(o,["components"]);return createElement(MDXLayout,nn(Jt(Jt({},layoutProps),e),{components:s,mdxType:"MDXLayout"}),createElement("h1",{id:"table-of-contents"},createElement("a",{parentName:"h1","aria-hidden":"true",tabIndex:-1,href:"#table-of-contents"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Table of Contents"),createElement("ul",null,createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#what-is-strudel"},"What is Strudel?")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#show-me-a-demo"},"Show me a Demo")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#disclaimer"},"Disclaimer")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#playing-pitches"},"Playing Pitches")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#note"},"note")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#n"},"n")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#freq"},"freq")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#playing-sounds"},"Playing Sounds"))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#syntax"},"Syntax"))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#mini-notation"},"Mini Notation")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#sequences"},"Sequences")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#division"},"Division")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#angle-brackets"},"Angle Brackets")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#multiplication"},"Multiplication")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#bracket-nesting"},"Bracket Nesting")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#rests"},"Rests")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#parallel"},"Parallel")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#elongation"},"Elongation")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#replication"},"Replication")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#euclidian"},"Euclidian")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#synths-samples--effects"},"Synths, Samples & Effects")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#synths"},"Synths")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#envelope"},"Envelope")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#samples"},"Samples")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#custom-sample-maps"},"Custom Sample Maps")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#multiple-samples-per-sound"},"Multiple Samples per Sound")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#pitched-sounds"},"Pitched Sounds")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#base-pitch"},"Base Pitch")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#sampler-effects"},"Sampler Effects")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternbegin"},"Pattern.begin")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternend"},"Pattern.end")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternloopat"},"Pattern.loopAt")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternchop"},"Pattern.chop")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#audio-effects"},"Audio Effects")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#gain"},"gain")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#velocity"},"velocity")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#cutoff"},"cutoff")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#resonance"},"resonance")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#hcutoff"},"hcutoff")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#hresonance"},"hresonance")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#bandf"},"bandf")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#bandq"},"bandq")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#vowel"},"vowel")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#pan"},"pan")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#coarse"},"coarse")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#shape"},"shape")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#crush"},"crush")))))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#javascript-api"},"JavaScript API")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#limits-of-mini-notation"},"Limits of Mini Notation"))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#notes"},"Notes"))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#alternative-syntax"},"Alternative Syntax"))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#pattern-factories"},"Pattern Factories")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#cat"},"cat")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#seq"},"seq")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#stack"},"stack")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#timecat"},"timeCat")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#combining-patterns"},"Combining Patterns"))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#time-modifiers"},"Time Modifiers")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternslow"},"Pattern.slow")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternfast"},"Pattern.fast")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternearly"},"Pattern.early")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternlate"},"Pattern.late")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternlegato"},"Pattern.legato")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternstruct"},"Pattern.struct")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patterneuclid"},"Pattern.euclid")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patterneuclidlegato"},"Pattern.euclidLegato")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternrev"},"Pattern.rev")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patterniter"},"Pattern.iter")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patterniterback"},"Pattern.iterBack")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#conditional-modifiers"},"Conditional Modifiers")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternevery"},"Pattern.every")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternwhen"},"Pattern.when")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#accumulation-modifiers"},"Accumulation Modifiers")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternstack"},"Pattern.stack")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternsuperimpose"},"Pattern.superimpose")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternlayer"},"Pattern.layer")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternoff"},"Pattern.off")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternecho"},"Pattern.echo")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternechowith"},"Pattern.echoWith")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#concat-modifiers"},"Concat Modifiers")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternseq"},"Pattern.seq")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patterncat"},"Pattern.cat")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#value-modifiers"},"Value Modifiers")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternadd"},"Pattern.add")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternsub"},"Pattern.sub")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternmul"},"Pattern.mul")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patterndiv"},"Pattern.div")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternround"},"Pattern.round")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternrange"},"Pattern.range")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternchunk"},"Pattern.chunk")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternchunkback"},"Pattern.chunkBack")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#continuous-signals"},"Continuous Signals")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#saw"},"saw")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#sine"},"sine")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#cosine"},"cosine")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#tri"},"tri")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#square"},"square")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#ranges-from--1-to-1"},"Ranges from -1 to 1")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#rand"},"rand")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#perlin"},"perlin")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#irand"},"irand")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#random-modifiers"},"Random Modifiers")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#choosecycles"},"chooseCycles")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patterndegradeby"},"Pattern.degradeBy")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patterndegrade"},"Pattern.degrade")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternundegradeby"},"Pattern.undegradeBy")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternsometimesby"},"Pattern.sometimesBy")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternsometimes"},"Pattern.sometimes")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternsomecyclesby"},"Pattern.someCyclesBy")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternsomecycles"},"Pattern.someCycles")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternoften"},"Pattern.often")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternrarely"},"Pattern.rarely")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternalmostnever"},"Pattern.almostNever")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternalmostalways"},"Pattern.almostAlways")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternnever"},"Pattern.never")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternalways"},"Pattern.always")))))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#tonal-api"},"Tonal API")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#transposesemitones"},"transpose(semitones)")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#scalename"},"scale(name)")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#scaletransposesteps"},"scaleTranspose(steps)")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#voicingsrange"},"voicings(range?)")),createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#rootnotesoctave--2"},"rootNotes(octave = 2)")))))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#midi-api"},"MIDI API")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#midioutputname"},"midi(outputName?)")))))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#superdirt-api"},"Superdirt API")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#prequisites"},"Prequisites"))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#usage"},"Usage")),createElement("ul",{parentName:"li"},createElement("li",{parentName:"ul"},createElement("a",{parentName:"li",href:"#patternosc"},"Pattern.osc")))),createElement("li",{parentName:"ul"},createElement("p",{parentName:"li"},createElement("a",{parentName:"p",href:"#superdirt-params"},"Superdirt Params")))))),createElement("h1",{id:"what-is-strudel"},createElement("a",{parentName:"h1","aria-hidden":"true",tabIndex:-1,href:"#what-is-strudel"},createElement("span",{parentName:"a",className:"icon icon-link"})),"What is Strudel?"),createElement("p",null,`With Strudel, you can expressively write dynamic music pieces.
It aims to be `,createElement("a",{parentName:"p",href:"https://tidalcycles.org/"},"Tidal Cycles")," for JavaScript (started by the same author)."),createElement("p",null,"You don't need to know JavaScript or Tidal Cycles to make music with Strudel."),createElement("p",null,"This interactive tutorial will guide you through the basics of Strudel."),createElement("p",null,"The best place to actually make music with Strudel is the ",createElement("a",{parentName:"p",href:"https://strudel.tidalcycles.org/"},"Strudel REPL"),"."),createElement("h2",{id:"show-me-a-demo"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#show-me-a-demo"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Show me a Demo"),createElement("p",null,"To get a taste of what Strudel can do, check out this track:"),createElement(MiniRepl,{tune:`samples({
  bd: ['bd/BT0AADA.wav','bd/BT0AAD0.wav','bd/BT0A0DA.wav','bd/BT0A0D3.wav','bd/BT0A0D0.wav','bd/BT0A0A7.wav'],
  sd: ['sd/rytm-01-classic.wav','sd/rytm-00-hard.wav'],
  hh: ['hh27/000_hh27closedhh.wav','hh/000_hh3closedhh.wav'],
}, 'github:tidalcycles/Dirt-Samples/master/');
stack(
s("bd,[~ <sd!3 sd(3,4,2)>],hh(3,4)") // drums
.speed(perlin.range(.7,.9)) // random sample speed variation
,"<a1 b1*2 a1(3,8) e2>" // bassline
.off(1/8,x=>x.add(12).degradeBy(.5)) // random octave jumps
.add(perlin.range(0,.5)) // random pitch variation
.superimpose(add(.05)) // add second, slightly detuned voice
.n() // wrap in "n"
.decay(.15).sustain(0) // make each note of equal length
.s('sawtooth') // waveform
.gain(.4) // turn down
.cutoff(sine.slow(7).range(300,5000)) // automate cutoff
,"<Am7!3 <Em7 E7b13 Em7 Ebm7b5>>".voicings() // chords
.superimpose(x=>x.add(.04)) // add second, slightly detuned voice
.add(perlin.range(0,.5)) // random pitch variation
.n() // wrap in "n"
.s('sawtooth') // waveform
.gain(.16) // turn down
.cutoff(500) // fixed cutoff
.attack(1) // slowly fade in
)
.slow(3/2)`,mdxType:"MiniRepl"}),createElement("h2",{id:"disclaimer"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#disclaimer"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Disclaimer"),createElement("ul",null,createElement("li",{parentName:"ul"},"This project is still in its experimental state. In the future, parts of it might change significantly."),createElement("li",{parentName:"ul"},"This tutorial is far from complete.")),createElement("br",null),createElement("h1",{id:"playing-pitches"},createElement("a",{parentName:"h1","aria-hidden":"true",tabIndex:-1,href:"#playing-pitches"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Playing Pitches"),createElement("p",null,"Pitches are an essential building block for music. In Strudel, there are 3 different options to express a pitch:"),createElement("ul",null,createElement("li",{parentName:"ul"},createElement("inlineCode",{parentName:"li"},"note"),": letter notation"),createElement("li",{parentName:"ul"},createElement("inlineCode",{parentName:"li"},"n"),": number notation"),createElement("li",{parentName:"ul"},createElement("inlineCode",{parentName:"li"},"freq"),": frequency notation")),createElement("h2",{id:"note"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#note"},createElement("span",{parentName:"a",className:"icon icon-link"})),"note"),createElement("p",null,"Notes are notated with the note letter, followed by the octave number. You can notate flats with ",createElement("inlineCode",{parentName:"p"},"b")," and sharps with ",createElement("inlineCode",{parentName:"p"},"#"),"."),createElement(MiniRepl,{tune:'note("a3 c#4 e4 a4")',mdxType:"MiniRepl"}),createElement("p",null,`By the way, you can edit the contents of the player, and press "update" to hear your change!
You can also press "play" on the next player without needing to stop the last one.`),createElement("h2",{id:"n"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#n"},createElement("span",{parentName:"a",className:"icon icon-link"})),"n"),createElement("p",null,"If you don't like notes, you can also use numbers with ",createElement("inlineCode",{parentName:"p"},"n")," instead:"),createElement(MiniRepl,{tune:'n("57 61 64 69")',mdxType:"MiniRepl"}),createElement("p",null,`These numbers are interpreted as so called midi numbers, where adjacent whole numbers are 1 semitone apart.
You could also write decimal numbers to get microtonal pitches:`),createElement(MiniRepl,{tune:'n("74.5 75 75.5 76")',mdxType:"MiniRepl"}),createElement("h2",{id:"freq"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#freq"},createElement("span",{parentName:"a",className:"icon icon-link"})),"freq"),createElement("p",null,"To get maximum freedom, you can also use ",createElement("inlineCode",{parentName:"p"},"freq")," to directly control the frequency:"),createElement(MiniRepl,{tune:'freq("220 275 330 440")',mdxType:"MiniRepl"}),createElement("p",null,"In this example, we play A3 (220Hz), C#4 natural (275Hz), E4 (330Hz) and A4 (440Hz)."),createElement("br",null),createElement("h1",{id:"playing-sounds"},createElement("a",{parentName:"h1","aria-hidden":"true",tabIndex:-1,href:"#playing-sounds"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Playing Sounds"),createElement("p",null,"Instead of pitches, we can also play sounds with ",createElement("inlineCode",{parentName:"p"},"s"),":"),createElement(MiniRepl,{tune:'s("bd hh sd hh")',mdxType:"MiniRepl"}),createElement("p",null,"Similarly, we can also use ",createElement("inlineCode",{parentName:"p"},"s")," to change the sound of our pitches:"),createElement(MiniRepl,{tune:'note("a3 c#4 e4 a4").s("sawtooth")',mdxType:"MiniRepl"}),createElement("p",null,"Try changing the sound to ",createElement("inlineCode",{parentName:"p"},"square"),", ",createElement("inlineCode",{parentName:"p"},"triangle")," or ",createElement("inlineCode",{parentName:"p"},"sine"),"!"),createElement("p",null,"We will go into the defails of sounds and synths ",createElement("a",{parentName:"p",href:"http://localhost:3000/tutorial/#web-audio-output"},"later"),"."),createElement("br",null),createElement("h1",{id:"syntax"},createElement("a",{parentName:"h1","aria-hidden":"true",tabIndex:-1,href:"#syntax"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Syntax"),createElement("p",null,"So far, we've seen the following syntax:"),createElement("pre",null,createElement("code",{parentName:"pre"},`xxx("foo").yyy("bar")
`)),createElement("p",null,"Generally, ",createElement("inlineCode",{parentName:"p"},"xxx")," and ",createElement("inlineCode",{parentName:"p"},"yyy")," are called functions, while ",createElement("inlineCode",{parentName:"p"},"foo")," and ",createElement("inlineCode",{parentName:"p"},"bar"),` are called function arguments.
So far, we've used the functions to declare which aspect of the sound we want to control, and their arguments for the actual data.
The `,createElement("inlineCode",{parentName:"p"},"yyy")," function is called a chained function, because it is appended with a dot."),createElement("p",null,"Strudel makes heavy use of chained functions. Here is a more extreme example:"),createElement(MiniRepl,{tune:`note("a3 c#4 e4 a4")
.s("sawtooth")
.cutoff(500)
//.delay(0.5)
.room(0.5)`,mdxType:"MiniRepl"}),createElement("p",null,"The ",createElement("inlineCode",{parentName:"p"},"//")," is a line comment, resulting in the ",createElement("inlineCode",{parentName:"p"},"delay"),` function being ignored.
It is a handy way to quickly turn stuff on and off. Try uncommenting this line by deleting `,createElement("inlineCode",{parentName:"p"},"//"),"!"),createElement("p",null,"The good news is, that this covers 99% of the JavaScript syntax needed for Strudel!"),createElement("p",null,"Let's now look at the way we can express rhythms.."),createElement("br",null),createElement("h1",{id:"mini-notation"},createElement("a",{parentName:"h1","aria-hidden":"true",tabIndex:-1,href:"#mini-notation"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Mini Notation"),createElement("p",null,`Similar to Tidal Cycles, Strudel has an embedded mini language that is designed to write rhythmic patterns in a short manner.
Before diving deeper into the details, here is a flavor of how the mini language looks like:`),createElement(MiniRepl,{tune:`note(\`[
  [
    [e5 [b4 c5] d5 [c5 b4]]
    [a4 [a4 c5] e5 [d5 c5]]
    [b4 [~ c5] d5 e5]
    [c5 a4 a4 ~]
    [[~ d5] [~ f5] a5 [g5 f5]]
    [e5 [~ c5] e5 [d5 c5]]
    [b4 [b4 c5] d5 e5]
    [c5 a4 a4 ~]
  ],[
    [[e2 e3]*4]
    [[a2 a3]*4]
    [[g#2 g#3]*2 [e2 e3]*2]
    [a2 a3 a2 a3 a2 a3 b1 c2]
    [[d2 d3]*4]
    [[c2 c3]*4]
    [[b1 b2]*2 [e2 e3]*2]
    [[a1 a2]*4]
  ]
]/16\`)`,mdxType:"MiniRepl"}),createElement("p",null,'The snippet above is enclosed in backticks (`), which allows you to write multi-line strings.\nYou can also use double quotes (") for single line mini notation.'),createElement("h2",{id:"sequences"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#sequences"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Sequences"),createElement("p",null,"We can play more notes by separating them with spaces:"),createElement(MiniRepl,{tune:'note("e5 b4 d5 c5")',mdxType:"MiniRepl"}),createElement("p",null,`Here, those four notes are squashed into one cycle, so each note is a quarter second long.
Try adding or removing notes and notice how the tempo changes!`),createElement("h2",{id:"division"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#division"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Division"),createElement("p",null,"We can slow the sequence down by enclosing it in brackets and dividing it by a number:"),createElement(MiniRepl,{tune:'note("[e5 b4 d5 c5]/2")',mdxType:"MiniRepl"}),createElement("p",null,`The division by two means that the sequence will be played over the course of two cycles.
You can also use decimal numbers for any tempo you like.`),createElement("h2",{id:"angle-brackets"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#angle-brackets"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Angle Brackets"),createElement("p",null,"Using angle brackets, we can define the sequence length based on the number of children:"),createElement(MiniRepl,{tune:'note("<e5 b4 d5 c5>")',mdxType:"MiniRepl"}),createElement("p",null,"The above snippet is the same as:"),createElement(MiniRepl,{tune:'note("[e5 b4 d5 c5]/4")',mdxType:"MiniRepl"}),createElement("p",null,"The advantage of the angle brackets, is that we can add more children without needing to change the number at the end."),createElement("h2",{id:"multiplication"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#multiplication"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Multiplication"),createElement("p",null,"Contrary to division, a sequence can be sped up by multiplying it by a number:"),createElement(MiniRepl,{tune:'note("[e5 b4 d5 c5]*2")',mdxType:"MiniRepl"}),createElement("p",null,"The multiplication by 2 here means that the sequence will play twice a cycle."),createElement("h2",{id:"bracket-nesting"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#bracket-nesting"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Bracket Nesting"),createElement("p",null,"To create more interesting rhythms, you can nest sequences with brackets, like this:"),createElement(MiniRepl,{tune:'note("e5 [b4 c5] d5 [c5 b4]")',mdxType:"MiniRepl"}),createElement("h2",{id:"rests"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#rests"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Rests"),createElement("p",null,'The "~" represents a rest:'),createElement(MiniRepl,{tune:'note("[b4 [~ c5] d5 e5]")',mdxType:"MiniRepl"}),createElement("h2",{id:"parallel"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#parallel"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Parallel"),createElement("p",null,"Using commas, we can play chords:"),createElement(MiniRepl,{tune:'note("g3,b3,e4")',mdxType:"MiniRepl"}),createElement("p",null,"To play multiple chords in a sequence, we have to wrap them in brackets:"),createElement(MiniRepl,{tune:'note("<[g3,b3,e4] [a3,c3,e4] [b3,d3,f#4] [b3,e4,g4]>")',mdxType:"MiniRepl"}),createElement("h2",{id:"elongation"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#elongation"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Elongation"),createElement("p",null,'With the "@" symbol, we can specify temporal "weight" of a sequence child:'),createElement(MiniRepl,{tune:'note("<[g3,b3,e4]@2 [a3,c3,e4] [b3,d3,f#4]>")',mdxType:"MiniRepl"}),createElement("p",null,"Here, the first chord has a weight of 2, making it twice the length of the other chords. The default weight is 1."),createElement("h2",{id:"replication"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#replication"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Replication"),createElement("p",null,'Using "!" we can repeat without speeding up:'),createElement(MiniRepl,{tune:'note("<[g3,b3,e4]!2 [a3,c3,e4] [b3,d3,f#4]>")',mdxType:"MiniRepl"}),createElement("p",null,"In essence, the ",createElement("inlineCode",{parentName:"p"},"x!n")," is like a shortcut for ",createElement("inlineCode",{parentName:"p"},"[x*n]@n"),"."),createElement("h2",{id:"euclidian"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#euclidian"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Euclidian"),createElement("p",null,`Using round brackets, we can create rhythmical sub-divisions based on three parameters: beats, segments and offset.
The first parameter controls how may beats will be played.
The second parameter controls the total amount of segments the beats will be distributed over.
The third (optional) parameter controls the starting position for distributing the beats.
One popular Euclidian rhythm (going by various names, such as "Pop Clave") is "(3,8,0)" or simply "(3,8)",
resulting in a rhythmical structure of "x ~ ~ x ~ ~ x ~" (3 beats over 8 segments, starting on position 1).`),createElement(MiniRepl,{tune:'note("e5(2,8) b4(3,8) d5(2,8) c5(3,8)").slow(4)',mdxType:"MiniRepl"}),createElement("br",null),createElement("h1",{id:"synths-samples--effects"},createElement("a",{parentName:"h1","aria-hidden":"true",tabIndex:-1,href:"#synths-samples--effects"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Synths, Samples & Effects"),createElement("p",null,"Let's take a closer look at how we can control synths, sounds and effects."),createElement("h2",{id:"synths"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#synths"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Synths"),createElement("p",null,`So far, all the mini notation examples all used the same sound, which is kind of boring.
We can change the sound, using the `,createElement("inlineCode",{parentName:"p"},"s")," function:"),createElement(MiniRepl,{tune:`note("c2 <eb2 <g2 g1>>").s('sawtooth')`,mdxType:"MiniRepl"}),createElement("p",null,"Here, we are wrapping our notes inside ",createElement("inlineCode",{parentName:"p"},"note")," and set the sound using ",createElement("inlineCode",{parentName:"p"},"s"),", connected by a dot."),createElement("p",null,"Those functions are only 2 of many ways to alter the properties, or ",createElement("em",{parentName:"p"},"params"),` of a sound.
The power of patterns allows us to sequence any `,createElement("em",{parentName:"p"},"param")," independently:"),createElement(MiniRepl,{tune:'note("c2 <eb2 <g2 g1>>").s("<sawtooth square triangle>")',mdxType:"MiniRepl"}),createElement("p",null,`Now we not only pattern the notes, but the sound as well!
`,createElement("inlineCode",{parentName:"p"},"sawtooth")," ",createElement("inlineCode",{parentName:"p"},"square")," and ",createElement("inlineCode",{parentName:"p"},"triangle")," are the basic waveforms available in ",createElement("inlineCode",{parentName:"p"},"s"),"."),createElement("h3",{id:"envelope"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#envelope"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Envelope"),createElement("p",null,"You can control the envelope of a synth using the ",createElement("inlineCode",{parentName:"p"},"attack"),", ",createElement("inlineCode",{parentName:"p"},"decay"),", ",createElement("inlineCode",{parentName:"p"},"sustain")," and ",createElement("inlineCode",{parentName:"p"},"release")," functions:"),createElement(MiniRepl,{tune:`note("c2 <eb2 <g2 g1>>").s('sawtooth')
  .attack(.1).decay(.1).sustain(.2).release(.1)`,mdxType:"MiniRepl"}),createElement("h2",{id:"samples"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#samples"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Samples"),createElement("p",null,"Besides Synths, ",createElement("inlineCode",{parentName:"p"},"s")," can also play back samples:"),createElement(MiniRepl,{tune:'s("bd sd,hh*8,misc/2")',mdxType:"MiniRepl"}),createElement("p",null,"To know which sounds are available, open the ",createElement("a",{parentName:"p",href:"https://strudel.tidalcycles.org/EmuSP12.json"},"default sample map")),createElement("h3",{id:"custom-sample-maps"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#custom-sample-maps"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Custom Sample Maps"),createElement("p",null,"You can load your own sample map like this:"),createElement(MiniRepl,{tune:`samples({
  bd: 'bd/BT0AADA.wav',
  sd: 'sd/rytm-01-classic.wav',
  hh: 'hh27/000_hh27closedhh.wav',
}, 'https://raw.githubusercontent.com/tidalcycles/Dirt-Samples/master/');
s("bd sd,hh*8")`,mdxType:"MiniRepl"}),createElement("p",null,"The ",createElement("inlineCode",{parentName:"p"},"samples"),` function takes an object that maps sound names to audio file paths.
The second argument is the base URL that comes before each path. Make sure your base URL ends with a slash, while your sample paths do `,createElement("strong",{parentName:"p"},"not")," begin with one."),createElement("p",null,"Because github is a popular choice to dump samples, there is a shortcut for that:"),createElement(MiniRepl,{tune:`samples({
  bd: 'bd/BT0AADA.wav',
  sd: 'sd/rytm-01-classic.wav',
  hh: 'hh27/000_hh27closedhh.wav',
}, 'github:tidalcycles/Dirt-Samples/master/');
s("bd sd,hh*8")`,mdxType:"MiniRepl"}),createElement("p",null,"The format is ",createElement("inlineCode",{parentName:"p"},"github:user/repo/branch/"),"."),createElement("h3",{id:"multiple-samples-per-sound"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#multiple-samples-per-sound"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Multiple Samples per Sound"),createElement("p",null,"It is also possible, to declare multiple files for one sound, using the array notation:"),createElement(MiniRepl,{tune:`samples({
  bd: ['bd/BT0AADA.wav','bd/BT0AAD0.wav'],
  sd: ['sd/rytm-01-classic.wav','sd/rytm-00-hard.wav'],
  hh: ['hh27/000_hh27closedhh.wav','hh/000_hh3closedhh.wav'],
}, 'github:tidalcycles/Dirt-Samples/master/');
s("<bd:0 bd:1>,~ <sd:0 sd:1>,[hh:0 hh:1]*2")`,mdxType:"MiniRepl"}),createElement("p",null,"The ",createElement("inlineCode",{parentName:"p"},":0")," ",createElement("inlineCode",{parentName:"p"},":1"),` etc. are the indices of the array.
The sample number can also be set using `,createElement("inlineCode",{parentName:"p"},"n"),":"),createElement(MiniRepl,{tune:`samples({
  bd: ['bd/BT0AADA.wav','bd/BT0AAD0.wav'],
  sd: ['sd/rytm-01-classic.wav','sd/rytm-00-hard.wav'],
  hh: ['hh27/000_hh27closedhh.wav','hh/000_hh3closedhh.wav'],
}, 'github:tidalcycles/Dirt-Samples/master/');
s("bd,~ sd,hh*4").n("<0 1>")`,mdxType:"MiniRepl"}),createElement("h3",{id:"pitched-sounds"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#pitched-sounds"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pitched Sounds"),createElement("p",null,"For pitched sounds, you can use ",createElement("inlineCode",{parentName:"p"},"note"),", just like with synths:"),createElement(MiniRepl,{tune:`samples({
  'gtr': 'gtr/0001_cleanC.wav',
}, 'github:tidalcycles/Dirt-Samples/master/');
note("g3 [bb3 c4] <g4 f4 eb4 f3>@2").s('gtr').gain(.5)`,mdxType:"MiniRepl"}),createElement("p",null,`Here, the guitar samples will overlap, because they always play till the end.
If we want them to behave more like a synth, we can add `,createElement("inlineCode",{parentName:"p"},"clip(1)"),":"),createElement(MiniRepl,{tune:`samples({
  'gtr': 'gtr/0001_cleanC.wav',
}, 'github:tidalcycles/Dirt-Samples/master/');
note("g3 [bb3 c4] <g4 f4 eb4 f3>@2").s('gtr').clip(1)
  .gain(.5)`,mdxType:"MiniRepl"}),createElement("h3",{id:"base-pitch"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#base-pitch"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Base Pitch"),createElement("p",null,"If we have 2 samples with different base pitches, we can make them in tune by specifying the pitch like this:"),createElement(MiniRepl,{tune:`samples({
  'gtr': 'gtr/0001_cleanC.wav',
  'moog': { 'g3': 'moog/005_Mighty%20Moog%20G3.wav' },
}, 'github:tidalcycles/Dirt-Samples/master/');
note("g3 [bb3 c4] <g4 f4 eb4 f3>@2").s("gtr,moog").clip(1)
  .gain(.5)`,mdxType:"MiniRepl"}),createElement("p",null,"If a sample has no pitch set, ",createElement("inlineCode",{parentName:"p"},"c3")," is the default."),createElement("p",null,"We can also declare different samples for different regions of the keyboard:"),createElement(MiniRepl,{tune:`samples({
  'moog': {
    'g2': 'moog/004_Mighty%20Moog%20G2.wav',
    'g3': 'moog/005_Mighty%20Moog%20G3.wav',
    'g4': 'moog/006_Mighty%20Moog%20G4.wav',
  }}, 'github:tidalcycles/Dirt-Samples/master/');
note("g2!2 <bb2 c3>!2, <c4@3 [<eb4 bb3> g4 f4]>")
  .s('moog').clip(1)
  .gain(.5)`,mdxType:"MiniRepl"}),createElement("p",null,"The sampler will always pick the closest matching sample for the current note!"),createElement("h2",{id:"sampler-effects"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#sampler-effects"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Sampler Effects"),createElement("h3",{id:"patternbegin"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternbegin"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.begin"),createElement("p",null,"a pattern of numbers from 0 to 1. Skips the beginning of each sample, e.g. ",createElement("code",null,"0.25")," to cut off the first quarter from each sample."),createElement("ul",null,createElement("li",{parentName:"ul"},"amount (number|Pattern): between 0 and 1, where 1 is the length of the sample")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`samples({ rave: 'rave/AREUREADY.wav' }, 'github:tidalcycles/Dirt-Samples/master/')
s("rave").begin("<0 .25 .5 .75>")`,mdxType:"MiniRepl"})),createElement("h3",{id:"patternend"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternend"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.end"),createElement("p",null,"The same as .begin, but cuts off the end off each sample."),createElement("ul",null,createElement("li",{parentName:"ul"},"length (number|Pattern): 1 = whole sample, .5 = half sample, .25 = quarter sample etc..")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("bd*2,oh*4").end("<.1 .2 .5 1>")',mdxType:"MiniRepl"})),createElement("h3",{id:"patternloopat"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternloopat"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.loopAt"),createElement("p",null,"Makes the sample fit the given number of cycles by changing the speed."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes").loopAt(4,1)`,mdxType:"MiniRepl"})),createElement("h3",{id:"patternchop"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternchop"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.chop"),createElement("p",null,"Cuts each sample into the given number of parts, allowing you to explore a technique known as 'granular synthesis'. It turns a pattern of samples into a pattern of parts of samples."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })
s("rhodes")
 .chop(4)
 .rev() // reverse order of chops
 .loopAt(4,1) // fit sample into 4 cycles`,mdxType:"MiniRepl"})),createElement("h2",{id:"audio-effects"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#audio-effects"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Audio Effects"),createElement("p",null,"Wether you're using a synth or a sample, you can apply these effects:"),createElement("h3",{id:"gain"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#gain"},createElement("span",{parentName:"a",className:"icon icon-link"})),"gain"),createElement("p",null,"Controls the gain by an exponential amount."),createElement("ul",null,createElement("li",{parentName:"ul"},"amount (number|Pattern): gain.")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh*8").gain(".4!2 1 .4!2 1 .4 1")',mdxType:"MiniRepl"})),createElement("h3",{id:"velocity"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#velocity"},createElement("span",{parentName:"a",className:"icon icon-link"})),"velocity"),createElement("p",null,"Sets the velocity from 0 to 1. Is multiplied together with gain."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`s("hh*8")
.gain(".4!2 1 .4!2 1 .4 1")
.velocity(".4 1")`,mdxType:"MiniRepl"})),createElement("h3",{id:"cutoff"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#cutoff"},createElement("span",{parentName:"a",className:"icon icon-link"})),"cutoff"),createElement("p",null,"Applies the cutoff frequency of the low-pass filter."),createElement("ul",null,createElement("li",{parentName:"ul"},"frequency (number|Pattern): audible between 0 and 20000")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("bd sd,hh*3").cutoff("<4000 2000 1000 500 200 100>")',mdxType:"MiniRepl"})),createElement("h3",{id:"resonance"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#resonance"},createElement("span",{parentName:"a",className:"icon icon-link"})),"resonance"),createElement("p",null,"Applies the cutoff frequency of the low-pass filter."),createElement("ul",null,createElement("li",{parentName:"ul"},"q (number|Pattern): resonance factor between 0 and 50")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("bd sd,hh*4").cutoff(2000).resonance("<0 10 20 30>")',mdxType:"MiniRepl"})),createElement("h3",{id:"hcutoff"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#hcutoff"},createElement("span",{parentName:"a",className:"icon icon-link"})),"hcutoff"),createElement("p",null,"Applies the cutoff frequency of the high-pass filter."),createElement("ul",null,createElement("li",{parentName:"ul"},"frequency (number|Pattern): audible between 0 and 20000")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("bd sd,hh*4").hcutoff("<4000 2000 1000 500 200 100>")',mdxType:"MiniRepl"})),createElement("h3",{id:"hresonance"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#hresonance"},createElement("span",{parentName:"a",className:"icon icon-link"})),"hresonance"),createElement("p",null,"Applies the resonance of the high-pass filter."),createElement("ul",null,createElement("li",{parentName:"ul"},"q (number|Pattern): resonance factor between 0 and 50")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("bd sd,hh*4").hcutoff(2000).hresonance("<0 10 20 30>")',mdxType:"MiniRepl"})),createElement("h3",{id:"bandf"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#bandf"},createElement("span",{parentName:"a",className:"icon icon-link"})),"bandf"),createElement("p",null,"Sets the center frequency of the band-pass filter."),createElement("ul",null,createElement("li",{parentName:"ul"},"frequency (number|Pattern): center frequency")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("bd sd,hh*3").bandf("<1000 2000 4000 8000>")',mdxType:"MiniRepl"})),createElement("h3",{id:"bandq"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#bandq"},createElement("span",{parentName:"a",className:"icon icon-link"})),"bandq"),createElement("p",null,"Sets the q-factor of the band-pass filter"),createElement("ul",null,createElement("li",{parentName:"ul"},"q (number|Pattern): q factor")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("bd sd").bandf(500).bandq("<0 1 2 3>")',mdxType:"MiniRepl"})),createElement("h3",{id:"vowel"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#vowel"},createElement("span",{parentName:"a",className:"icon icon-link"})),"vowel"),createElement("p",null,"Formant filter to make things sound like vowels."),createElement("ul",null,createElement("li",{parentName:"ul"},"vowel (string|Pattern): You can use a e i o u.")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`note("c2 <eb2 <g2 g1>>").s('sawtooth')
.vowel("<a e i <o u>>")`,mdxType:"MiniRepl"})),createElement("h3",{id:"pan"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#pan"},createElement("span",{parentName:"a",className:"icon icon-link"})),"pan"),createElement("p",null,"Sets position in stereo."),createElement("ul",null,createElement("li",{parentName:"ul"},"pan (number|Pattern): between 0 and 1, from left to right (assuming stereo), once round a circle (assuming multichannel)")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("[bd hh]*2").pan("<.5 1 .5 0>")',mdxType:"MiniRepl"})),createElement("h3",{id:"coarse"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#coarse"},createElement("span",{parentName:"a",className:"icon icon-link"})),"coarse"),createElement("p",null,"fake-resampling for lowering the sample rate. Caution: This effect seems to only work in chromium based browsers"),createElement("ul",null,createElement("li",{parentName:"ul"},"factor (number|Pattern): 1 for original 2 for half, 3 for a third and so on.")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("bd sd,hh*4").coarse("<1 4 8 16 32>")',mdxType:"MiniRepl"})),createElement("h3",{id:"shape"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#shape"},createElement("span",{parentName:"a",className:"icon icon-link"})),"shape"),createElement("p",null,"Wave shaping distortion. CAUTION: it might get loud"),createElement("ul",null,createElement("li",{parentName:"ul"},"distortion (number|Pattern): between 0 and 1")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("bd sd,hh*4").shape("<0 .2 .4 .6 .8>")',mdxType:"MiniRepl"})),createElement("h3",{id:"crush"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#crush"},createElement("span",{parentName:"a",className:"icon icon-link"})),"crush"),createElement("p",null,"bit crusher effect."),createElement("ul",null,createElement("li",{parentName:"ul"},"depth (number|Pattern): between 1 (for drastic reduction in bit-depth) to 16 (for barely no reduction).")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("<bd sd>,hh*3").fast(2).crush("<16 8 7 6 5 4 3 2>")',mdxType:"MiniRepl"})),createElement("br",null),createElement("h1",{id:"javascript-api"},createElement("a",{parentName:"h1","aria-hidden":"true",tabIndex:-1,href:"#javascript-api"},createElement("span",{parentName:"a",className:"icon icon-link"})),"JavaScript API"),createElement("p",null,`While the mini notation is powerful on its own, there is much more to discover.
Internally, the mini notation will expand to use the actual functional JavaScript API.`),createElement("p",null,"For example, this Pattern in Mini Notation:"),createElement(MiniRepl,{tune:'note("c3 eb3 g3")',mdxType:"MiniRepl"}),createElement("p",null,"is equivalent to this Pattern without Mini Notation:"),createElement(MiniRepl,{tune:"note(seq(c3, eb3, g3))",mdxType:"MiniRepl"}),createElement("p",null,"Similarly, there is an equivalent function for every aspect of the mini notation."),createElement("p",null,`Which representation to use is a matter of context. As a rule of thumb, you can think of the JavaScript API
to fit better for the larger context, while mini notation is more practical for individiual rhythms.`),createElement("h2",{id:"limits-of-mini-notation"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#limits-of-mini-notation"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Limits of Mini Notation"),createElement("p",null,"While the Mini Notation is a powerful way to write rhythms shortly, it also has its limits. Take this example:"),createElement(MiniRepl,{tune:`stack(
  note("c2 eb2(3,8)").s('sawtooth').cutoff(800),
  s("bd,~ sd,hh*4")
)`,mdxType:"MiniRepl"}),createElement("p",null,"Here, we are using mini notation for the individual rhythms, while using the function ",createElement("inlineCode",{parentName:"p"},"stack"),` to mix them.
While stack is also available as `,createElement("inlineCode",{parentName:"p"},",")," in mini notation, we cannot use it here, because we have different types of sounds."),createElement("h2",{id:"notes"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#notes"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Notes"),createElement("p",null,"Notes are automatically available as variables:"),createElement(MiniRepl,{tune:'note(seq(d4, fs4, a4)) // note("d4 f#4 a4")',mdxType:"MiniRepl"}),createElement("p",null,`An important difference to the mini notation:
For sharp notes, the letter "s" is used instead of "#", because JavaScript does not support "#" in a variable name.`),createElement("p",null,"The above is the same as:"),createElement(MiniRepl,{tune:"note(seq('d4', 'f#4', 'a4'))",mdxType:"MiniRepl"}),createElement("p",null,'Using strings, you can also use "#".'),createElement("h2",{id:"alternative-syntax"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#alternative-syntax"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Alternative Syntax"),createElement("p",null,`In the above example, we are nesting a function inside a function, which makes reading the parens a little more difficult.
To avoid getting to many nested parens, there is an alternative syntax to add a type to a pattern:`),createElement(MiniRepl,{tune:"seq(d4, fs4, a4).note()",mdxType:"MiniRepl"}),createElement("p",null,"You can use this with any function that declares a type (like ",createElement("inlineCode",{parentName:"p"},"n"),", ",createElement("inlineCode",{parentName:"p"},"s"),", ",createElement("inlineCode",{parentName:"p"},"note"),", ",createElement("inlineCode",{parentName:"p"},"freq")," etc), just make sure to leave the parens empty!"),createElement("h2",{id:"pattern-factories"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#pattern-factories"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern Factories"),createElement("p",null,"The following functions will return a pattern."),createElement("h3",{id:"cat"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#cat"},createElement("span",{parentName:"a",className:"icon icon-link"})),"cat"),createElement("p",null,"The given items are con",createElement("strong",null,"cat"),"enated, where each one takes one cycle. Synonym: slowcat"),createElement("ul",null,createElement("li",{parentName:"ul"},"items (any): The items to concatenate")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'cat(e5, b4, [d5, c5]).note() // "<e5 b4 [d5 c5]>".note()',mdxType:"MiniRepl"})),createElement("h3",{id:"seq"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#seq"},createElement("span",{parentName:"a",className:"icon icon-link"})),"seq"),createElement("p",null,"Like ",createElement("strong",null,"cat"),", but the items are crammed into one cycle. Synonyms: fastcat, sequence"),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'seq(e5, b4, [d5, c5]).note() // "e5 b4 [d5 c5]".note()',mdxType:"MiniRepl"})),createElement("h3",{id:"stack"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#stack"},createElement("span",{parentName:"a",className:"icon icon-link"})),"stack"),createElement("p",null,"The given items are played at the same time at the same length."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'stack(g3, b3, [e4, d4]).note() // "g3,b3,[e4,d4]".note()',mdxType:"MiniRepl"})),createElement("h3",{id:"timecat"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#timecat"},createElement("span",{parentName:"a",className:"icon icon-link"})),"timeCat"),createElement("p",null,"Like ",createElement("a",{href:"#seq"},"seq"),", but each step has a length, relative to the whole."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'timeCat([3,e3],[1, g3]).note() // "e3@3 g3".note()',mdxType:"MiniRepl"})),createElement("h2",{id:"combining-patterns"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#combining-patterns"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Combining Patterns"),createElement("p",null,"You can freely mix JS patterns, mini patterns and values! For example, this pattern:"),createElement(MiniRepl,{tune:`cat(
  stack(g3,b3,e4),
  stack(a3,c3,e4),
  stack(b3,d3,fs4),
  stack(b3,e4,g4)
).note()`,mdxType:"MiniRepl"}),createElement("p",null,"...is equivalent to:"),createElement(MiniRepl,{tune:`cat(
  "g3,b3,e4",
  "a3,c3,e4",
  "b3,d3,f#4",
  "b3,e4,g4"
).note()`,mdxType:"MiniRepl"}),createElement("p",null,"... as well as:"),createElement(MiniRepl,{tune:'note("<[g3,b3,e4] [a3,c3,e4] [b3,d3,f#4] [b3,e4,g4]>")',mdxType:"MiniRepl"}),createElement("p",null,"While mini notation is almost always shorter, it only has a handful of modifiers: ","*",` / ! @.
When using JS patterns, there is a lot more you can do.`),createElement("h2",{id:"time-modifiers"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#time-modifiers"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Time Modifiers"),createElement("p",null,"The following functions modify a pattern temporal structure in some way."),createElement("h3",{id:"patternslow"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternslow"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.slow"),createElement("p",null,'Slow down a pattern over the given number of cycles. Like the "/" operator in mini notation.'),createElement("ul",null,createElement("li",{parentName:"ul"},"factor (number|Pattern): slow down factor")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("<bd sd> hh").slow(2) // s("[<bd sd> hh]/2")',mdxType:"MiniRepl"})),createElement("h3",{id:"patternfast"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternfast"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.fast"),createElement("p",null,'Speed up a pattern by the given factor. Used by "*" in mini notation.'),createElement("ul",null,createElement("li",{parentName:"ul"},"factor (number|Pattern): speed up factor")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("<bd sd> hh").fast(2) // s("[<bd sd> hh]*2")',mdxType:"MiniRepl"})),createElement("h3",{id:"patternearly"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternearly"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.early"),createElement("p",null,"Nudge a pattern to start earlier in time. Equivalent of Tidal's <~ operator"),createElement("ul",null,createElement("li",{parentName:"ul"},"cycles (number|Pattern): number of cycles to nudge left")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'"bd ~".stack("hh ~".early(.1)).s()',mdxType:"MiniRepl"})),createElement("h3",{id:"patternlate"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternlate"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.late"),createElement("p",null,"Nudge a pattern to start later in time. Equivalent of Tidal's ~> operator"),createElement("ul",null,createElement("li",{parentName:"ul"},"cycles (number|Pattern): number of cycles to nudge right")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'"bd ~".stack("hh ~".late(.1)).s()',mdxType:"MiniRepl"})),createElement("h3",{id:"patternlegato"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternlegato"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.legato"),createElement("p",null,"Multiplies the hap duration with the given factor."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'note("c3 eb3 g3 c4").legato("<.25 .5 1 2>")',mdxType:"MiniRepl"})),createElement("h3",{id:"patternstruct"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternstruct"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.struct"),createElement("p",null,"Applies the given structure to the pattern:"),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`note("c3,eb3,g3")
  .struct("x ~ x ~ ~ x ~ x ~ ~ ~ x ~ x ~ ~")
  .slow(4)`,mdxType:"MiniRepl"})),createElement("h3",{id:"patterneuclid"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patterneuclid"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.euclid"),createElement("p",null,"Changes the structure of the pattern to form an euclidean rhythm. Euclidian rhythms are rhythms obtained using the greatest common divisor of two numbers. They were described in 2004 by Godfried Toussaint, a canadian computer scientist. Euclidian rhythms are really useful for computer/algorithmic music because they can accurately describe a large number of rhythms used in the most important music world traditions."),createElement("ul",null,createElement("li",{parentName:"ul"},"pulses (number): the number of onsets / beats"),createElement("li",{parentName:"ul"},"steps (number): the number of steps to fill"),createElement("li",{parentName:"ul"},"rotation (number): (optional) offset in steps")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`// The Cuban tresillo pattern.
note("c3").euclid(3,8)`,mdxType:"MiniRepl"})),createElement("h3",{id:"patterneuclidlegato"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patterneuclidlegato"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.euclidLegato"),createElement("p",null,"Similar to ",createElement("code",null,".euclid"),", but each pulse is held until the next pulse, so there will be no gaps."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'n("g2").decay(.1).sustain(.3).euclidLegato(3,8)',mdxType:"MiniRepl"})),createElement("h3",{id:"patternrev"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternrev"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.rev"),createElement("p",null,"Reverse all haps in a pattern"),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'note("c3 d3 e3 g3").rev()',mdxType:"MiniRepl"})),createElement("h3",{id:"patterniter"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patterniter"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.iter"),createElement("p",null,"Divides a pattern into a given number of subdivisions, plays the subdivisions in order, but increments the starting subdivision each cycle. The pattern wraps to the first subdivision after the last subdivision is played."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`note("0 1 2 3".scale('A minor')).iter(4)`,mdxType:"MiniRepl"})),createElement("h3",{id:"patterniterback"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patterniterback"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.iterBack"),createElement("p",null,"Like ",createElement("code",null,"iter"),", but plays the subdivisions in reverse order. Known as iter' in tidalcycles"),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`note("0 1 2 3".scale('A minor')).iterBack(4)`,mdxType:"MiniRepl"})),createElement("h2",{id:"conditional-modifiers"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#conditional-modifiers"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Conditional Modifiers"),createElement("h3",{id:"patternevery"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternevery"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.every"),createElement("p",null,"An alias for ",createElement("a",{href:"#firstOf"},"firstOf")),createElement("ul",null,createElement("li",{parentName:"ul"},"n (number): how many cycles"),createElement("li",{parentName:"ul"},"func (function): function to apply")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'note("c3 d3 e3 g3").every(4, x=>x.rev())',mdxType:"MiniRepl"})),createElement("h3",{id:"patternwhen"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternwhen"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.when"),createElement("p",null,"Applies the given function whenever the given pattern is in a true state."),createElement("ul",null,createElement("li",{parentName:"ul"},"binary_pat (Pattern): undefined"),createElement("li",{parentName:"ul"},"func (function): undefined")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'"c3 eb3 g3".when("<0 1>/2", x=>x.sub(5)).note()',mdxType:"MiniRepl"})),createElement("h2",{id:"accumulation-modifiers"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#accumulation-modifiers"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Accumulation Modifiers"),createElement("h3",{id:"patternstack"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternstack"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.stack"),createElement("p",null,"Stacks the given pattern(s) to the current pattern."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`s("hh*2").stack(
  n("c2(3,8)")
)`,mdxType:"MiniRepl"})),createElement("h3",{id:"patternsuperimpose"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternsuperimpose"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.superimpose"),createElement("p",null,"Superimposes the result of the given function(s) on top of the original pattern:"),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*4"
  .superimpose(x=>x.add(2))
  .scale('C minor').note()`,mdxType:"MiniRepl"})),createElement("h3",{id:"patternlayer"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternlayer"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.layer"),createElement("p",null,"Layers the result of the given function(s). Like ",createElement("a",{href:"#superimpose"},"superimpose"),", but without the original pattern:"),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*4"
  .layer(x=>x.add("0,2"))
  .scale('C minor').note()`,mdxType:"MiniRepl"})),createElement("h3",{id:"patternoff"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternoff"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.off"),createElement("p",null,"Superimposes the function result on top of the original pattern, delayed by the given time."),createElement("ul",null,createElement("li",{parentName:"ul"},"time (Pattern|number): offset time"),createElement("li",{parentName:"ul"},"func (function): function to apply")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'"c3 eb3 g3".off(1/8, x=>x.add(7)).note()',mdxType:"MiniRepl"})),createElement("h3",{id:"patternecho"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternecho"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.echo"),createElement("p",null,"Superimpose and offset multiple times, gradually decreasing the velocity"),createElement("ul",null,createElement("li",{parentName:"ul"},"times (number): how many times to repeat"),createElement("li",{parentName:"ul"},"time (number): cycle offset between iterations"),createElement("li",{parentName:"ul"},"feedback (number): velocity multiplicator for each iteration")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("bd sd").echo(3, 1/6, .8)',mdxType:"MiniRepl"})),createElement("h3",{id:"patternechowith"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternechowith"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.echoWith"),createElement("p",null,"Superimpose and offset multiple times, applying the given function each time."),createElement("ul",null,createElement("li",{parentName:"ul"},"times (number): how many times to repeat"),createElement("li",{parentName:"ul"},"time (number): cycle offset between iterations"),createElement("li",{parentName:"ul"},"func (function): function to apply, given the pattern and the iteration index")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`"<0 [2 4]>"
.echoWith(4, 1/8, (p,n) => p.add(n*2))
.scale('C minor').note().legato(.2)`,mdxType:"MiniRepl"})),createElement("h2",{id:"concat-modifiers"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#concat-modifiers"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Concat Modifiers"),createElement("h3",{id:"patternseq"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternseq"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.seq"),createElement("p",null,"Appends the given pattern(s) to the current pattern. Synonyms: .sequence .fastcat"),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`s("hh*2").seq(
  n("c2(3,8)")
)`,mdxType:"MiniRepl"})),createElement("h3",{id:"patterncat"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patterncat"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.cat"),createElement("p",null,"Appends the given pattern(s) to the next cycle. Synonym: .slowcat"),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`s("hh*2").cat(
  n("c2(3,8)")
)`,mdxType:"MiniRepl"})),createElement("h2",{id:"value-modifiers"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#value-modifiers"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Value Modifiers"),createElement("h3",{id:"patternadd"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternadd"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.add"),createElement("p",null,"Assumes a pattern of numbers. Adds the given number to each item in the pattern."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`// Here, the triad 0, 2, 4 is shifted by different amounts
"0 2 4".add("<0 3 4 0>").scale('C major').note()
// Without add, the equivalent would be:
// "<[0 2 4] [3 5 7] [4 6 8] [0 2 4]>".scale('C major').note()`,mdxType:"MiniRepl"}),createElement(MiniRepl,{tune:`// You can also use add with notes:
"c3 e3 g3".add("<0 5 7 0>").note()
// Behind the scenes, the notes are converted to midi numbers:
// "48 52 55".add("<0 5 7 0>").note()`,mdxType:"MiniRepl"})),createElement("h3",{id:"patternsub"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternsub"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.sub"),createElement("p",null,"Like add, but the given numbers are subtracted."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`"0 2 4".sub("<0 1 2 3>").scale('C4 minor').note()
// See add for more information.`,mdxType:"MiniRepl"})),createElement("h3",{id:"patternmul"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternmul"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.mul"),createElement("p",null,"Multiplies each number by the given factor."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'"1 1.5 [1.66, <2 2.33>]".mul(150).freq()',mdxType:"MiniRepl"})),createElement("h3",{id:"patterndiv"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patterndiv"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.div"),createElement("p",null,"Divides each number by the given factor."),createElement("h3",{id:"patternround"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternround"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.round"),createElement("p",null,"Assumes a numerical pattern. Returns a new pattern with all values rounded to the nearest integer."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`"0.5 1.5 2.5".round().scale('C major').note()`,mdxType:"MiniRepl"})),createElement("h3",{id:"patternrange"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternrange"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.range"),createElement("p",null,"Assumes a numerical pattern, containing unipolar values in the range 0 .. 1. Returns a new pattern with values scaled to the given min/max range. Most useful in combination with continuous patterns."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("bd sd,hh*4").cutoff(sine.range(500,2000).slow(4))',mdxType:"MiniRepl"})),createElement("h3",{id:"patternchunk"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternchunk"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.chunk"),createElement("p",null,"Divides a pattern into a given number of parts, then cycles through those parts in turn, applying the given function to each part in turn (one part per cycle)."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`"0 1 2 3".chunk(4, x=>x.add(7)).scale('A minor').note()`,mdxType:"MiniRepl"})),createElement("h3",{id:"patternchunkback"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternchunkback"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.chunkBack"),createElement("p",null,"Like ",createElement("code",null,"chunk"),", but cycles through the parts in reverse order. Known as chunk' in tidalcycles"),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`"0 1 2 3".chunkBack(4, x=>x.add(7)).scale('A minor').note()`,mdxType:"MiniRepl"})),createElement("h2",{id:"continuous-signals"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#continuous-signals"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Continuous Signals"),createElement("p",null,`Signals are patterns with continuous values, meaning they have theoretically infinite steps.
They can provide streams of numbers that can be sampled at discrete points in time.`),createElement("h3",{id:"saw"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#saw"},createElement("span",{parentName:"a",className:"icon icon-link"})),"saw"),createElement("p",null,"A sawtooth signal between 0 and 1."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'"c3 [eb3,g3] g2 [g3,bb3]".legato(saw.slow(4)).note()',mdxType:"MiniRepl"}),createElement(MiniRepl,{tune:"saw.range(0,8).segment(8).scale('C major').slow(4).note()",mdxType:"MiniRepl"})),createElement("h3",{id:"sine"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#sine"},createElement("span",{parentName:"a",className:"icon icon-link"})),"sine"),createElement("p",null,"A sine signal between 0 and 1."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:"sine.segment(16).range(0,15).slow(2).scale('C minor').note()",mdxType:"MiniRepl"})),createElement("h3",{id:"cosine"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#cosine"},createElement("span",{parentName:"a",className:"icon icon-link"})),"cosine"),createElement("p",null,"A cosine signal between 0 and 1."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:"stack(sine,cosine).segment(16).range(0,15).slow(2).scale('C minor').note()",mdxType:"MiniRepl"})),createElement("h3",{id:"tri"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#tri"},createElement("span",{parentName:"a",className:"icon icon-link"})),"tri"),createElement("p",null,"A triangle signal between 0 and 1."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:"tri.segment(8).range(0,7).scale('C minor').note()",mdxType:"MiniRepl"})),createElement("h3",{id:"square"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#square"},createElement("span",{parentName:"a",className:"icon icon-link"})),"square"),createElement("p",null,"A square signal between 0 and 1."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:"square.segment(2).range(0,7).scale('C minor').note()",mdxType:"MiniRepl"})),createElement("h3",{id:"ranges-from--1-to-1"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#ranges-from--1-to-1"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Ranges from -1 to 1"),createElement("p",null,"There is also ",createElement("inlineCode",{parentName:"p"},"saw2"),", ",createElement("inlineCode",{parentName:"p"},"sine2"),", ",createElement("inlineCode",{parentName:"p"},"cosine2"),", ",createElement("inlineCode",{parentName:"p"},"tri2")," and ",createElement("inlineCode",{parentName:"p"},"square2")," which have a range from -1 to 1!"),createElement("h3",{id:"rand"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#rand"},createElement("span",{parentName:"a",className:"icon icon-link"})),"rand"),createElement("p",null,"A continuous pattern of random numbers, between 0 and 1."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`// randomly change the cutoff
s("bd sd,hh*4").cutoff(rand.range(500,2000))`,mdxType:"MiniRepl"})),createElement("h3",{id:"perlin"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#perlin"},createElement("span",{parentName:"a",className:"icon icon-link"})),"perlin"),createElement("p",null,"Generates a continuous pattern of ",createElement("a",{href:"https://en.wikipedia.org/wiki/Perlin_noise"},"perlin noise"),", in the range 0..1."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`// randomly change the cutoff
s("bd sd,hh*4").cutoff(perlin.range(500,2000))`,mdxType:"MiniRepl"})),createElement("h3",{id:"irand"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#irand"},createElement("span",{parentName:"a",className:"icon icon-link"})),"irand"),createElement("p",null,"A continuous pattern of random integers, between 0 and n-1."),createElement("ul",null,createElement("li",{parentName:"ul"},"n (number): max value (exclusive)")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:`// randomly select scale notes from 0 - 7 (= C to C)
irand(8).struct("x(3,8)").scale('C minor').note()`,mdxType:"MiniRepl"})),createElement("h2",{id:"random-modifiers"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#random-modifiers"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Random Modifiers"),createElement("p",null,"These methods add random behavior to your Patterns."),createElement("h3",{id:"choosecycles"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#choosecycles"},createElement("span",{parentName:"a",className:"icon icon-link"})),"chooseCycles"),createElement("p",null,"Picks one of the elements at random each cycle."),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'chooseCycles("bd", "hh", "sd").s().fast(4)',mdxType:"MiniRepl"}),createElement(MiniRepl,{tune:'"bd | hh | sd".s().fast(4)',mdxType:"MiniRepl"})),createElement("h3",{id:"patterndegradeby"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patterndegradeby"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.degradeBy"),createElement("p",null,"Randomly removes events from the pattern by a given amount. 0 = 0% chance of removal 1 = 100% chance of removal"),createElement("ul",null,createElement("li",{parentName:"ul"},"amount (number): a number between 0 and 1")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh*8").degradeBy(0.2)',mdxType:"MiniRepl"}),createElement(MiniRepl,{tune:'s("[hh?0.2]*8")',mdxType:"MiniRepl"})),createElement("h3",{id:"patterndegrade"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patterndegrade"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.degrade"),createElement("p",null,"Randomly removes 50% of events from the pattern. Shorthand for ",createElement("code",null,".degradeBy(0.5)")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh*8").degrade()',mdxType:"MiniRepl"}),createElement(MiniRepl,{tune:'s("[hh?]*8")',mdxType:"MiniRepl"})),createElement("h3",{id:"patternundegradeby"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternundegradeby"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.undegradeBy"),createElement("p",null,"Inverse of ",createElement("a",{href:"#Pattern-degradeBy"},"Pattern#degradeBy"),": Randomly removes events from the pattern by a given amount. 0 = 100% chance of removal 1 = 0% chance of removal Events that would be removed by degradeBy are let through by undegradeBy and vice versa (see second example)."),createElement("ul",null,createElement("li",{parentName:"ul"},"amount (number): a number between 0 and 1")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh*8").undegradeBy(0.2)',mdxType:"MiniRepl"})),createElement("h3",{id:"patternsometimesby"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternsometimesby"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.sometimesBy"),createElement("p",null,"Randomly applies the given function by the given probability. Similar to ",createElement("a",{href:"#Pattern-someCyclesBy"},"Pattern#someCyclesBy")),createElement("ul",null,createElement("li",{parentName:"ul"},"probability (number|Pattern): a number between 0 and 1"),createElement("li",{parentName:"ul"},"function (function): the transformation to apply")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh(3,8)").sometimesBy(.4, x=>x.speed("0.5"))',mdxType:"MiniRepl"})),createElement("h3",{id:"patternsometimes"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternsometimes"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.sometimes"),createElement("p",null,"Applies the given function with a 50% chance"),createElement("ul",null,createElement("li",{parentName:"ul"},"function (function): the transformation to apply")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh*4").sometimes(x=>x.speed("0.5"))',mdxType:"MiniRepl"})),createElement("h3",{id:"patternsomecyclesby"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternsomecyclesby"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.someCyclesBy"),createElement("p",null,"Randomly applies the given function by the given probability on a cycle by cycle basis. Similar to ",createElement("a",{href:"#Pattern-sometimesBy"},"Pattern#sometimesBy")),createElement("ul",null,createElement("li",{parentName:"ul"},"probability (number|Pattern): a number between 0 and 1"),createElement("li",{parentName:"ul"},"function (function): the transformation to apply")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh(3,8)").someCyclesBy(.3, x=>x.speed("0.5"))',mdxType:"MiniRepl"})),createElement("h3",{id:"patternsomecycles"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternsomecycles"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.someCycles"),createElement("p",null,"Shorthand for ",createElement("code",null,".someCyclesBy(0.5, fn)")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh(3,8)").someCycles(x=>x.speed("0.5"))',mdxType:"MiniRepl"})),createElement("h3",{id:"patternoften"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternoften"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.often"),createElement("p",null,"Shorthand for ",createElement("code",null,".sometimesBy(0.75, fn)")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh*8").often(x=>x.speed("0.5"))',mdxType:"MiniRepl"})),createElement("h3",{id:"patternrarely"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternrarely"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.rarely"),createElement("p",null,"Shorthand for ",createElement("code",null,".sometimesBy(0.25, fn)")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh*8").rarely(x=>x.speed("0.5"))',mdxType:"MiniRepl"})),createElement("h3",{id:"patternalmostnever"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternalmostnever"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.almostNever"),createElement("p",null,"Shorthand for ",createElement("code",null,".sometimesBy(0.1, fn)")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh*8").almostNever(x=>x.speed("0.5"))',mdxType:"MiniRepl"})),createElement("h3",{id:"patternalmostalways"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternalmostalways"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.almostAlways"),createElement("p",null,"Shorthand for ",createElement("code",null,".sometimesBy(0.9, fn)")),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh*8").almostAlways(x=>x.speed("0.5"))',mdxType:"MiniRepl"})),createElement("h3",{id:"patternnever"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternnever"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.never"),createElement("p",null,"Shorthand for ",createElement("code",null,".sometimesBy(0, fn)")," (never calls fn)"),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh*8").never(x=>x.speed("0.5"))',mdxType:"MiniRepl"})),createElement("h3",{id:"patternalways"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternalways"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.always"),createElement("p",null,"Shorthand for ",createElement("code",null,".sometimesBy(1, fn)")," (always calls fn)"),createElement("div",{className:"space-y-2"},createElement(MiniRepl,{tune:'s("hh*8").always(x=>x.speed("0.5"))',mdxType:"MiniRepl"})),createElement("br",null),createElement("br",null),createElement("h1",{id:"tonal-api"},createElement("a",{parentName:"h1","aria-hidden":"true",tabIndex:-1,href:"#tonal-api"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Tonal API"),createElement("p",null,"The Tonal API, uses ",createElement("a",{parentName:"p",href:"https://github.com/tonaljs/tonal"},"tonaljs")," to provide helpers for musical operations."),createElement("h3",{id:"transposesemitones"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#transposesemitones"},createElement("span",{parentName:"a",className:"icon icon-link"})),"transpose(semitones)"),createElement("p",null,"Transposes all notes to the given number of semitones:"),createElement(MiniRepl,{tune:'"c2 c3".fast(2).transpose("<0 -2 5 3>".slow(2)).note()',mdxType:"MiniRepl"}),createElement("p",null,"This method gets really exciting when we use it with a pattern as above."),createElement("p",null,"Instead of numbers, scientific interval notation can be used as well:"),createElement(MiniRepl,{tune:'"c2 c3".fast(2).transpose("<1P -2M 4P 3m>".slow(2)).note()',mdxType:"MiniRepl"}),createElement("h3",{id:"scalename"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#scalename"},createElement("span",{parentName:"a",className:"icon icon-link"})),"scale(name)"),createElement("p",null,"Turns numbers into notes in the scale (zero indexed). Also sets scale for other scale operations, like scaleTranpose."),createElement(MiniRepl,{tune:`"0 2 4 6 4 2"
.scale(seq('C2 major', 'C2 minor').slow(2))
.note()`,mdxType:"MiniRepl"}),createElement("p",null,"Note that the scale root is octaved here. You can also omit the octave, then index zero will default to octave 3."),createElement("p",null,"All the available scale names can be found ",createElement("a",{parentName:"p",href:"https://github.com/tonaljs/tonal/blob/main/packages/scale-type/data.ts"},"here"),"."),createElement("h3",{id:"scaletransposesteps"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#scaletransposesteps"},createElement("span",{parentName:"a",className:"icon icon-link"})),"scaleTranspose(steps)"),createElement("p",null,"Transposes notes inside the scale by the number of steps:"),createElement(MiniRepl,{tune:`"-8 [2,4,6]"
.scale('C4 bebop major')
.scaleTranspose("<0 -1 -2 -3 -4 -5 -6 -4>")
.note()`,mdxType:"MiniRepl"}),createElement("h3",{id:"voicingsrange"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#voicingsrange"},createElement("span",{parentName:"a",className:"icon icon-link"})),"voicings(range?)"),createElement("p",null,"Turns chord symbols into voicings, using the smoothest voice leading possible:"),createElement(MiniRepl,{tune:'stack("<C^7 A7 Dm7 G7>".voicings(), "<C3 A2 D3 G2>").note()',mdxType:"MiniRepl"}),createElement("h3",{id:"rootnotesoctave--2"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#rootnotesoctave--2"},createElement("span",{parentName:"a",className:"icon icon-link"})),"rootNotes(octave = 2)"),createElement("p",null,"Turns chord symbols into root notes of chords in given octave."),createElement(MiniRepl,{tune:'"<C^7 A7b13 Dm7 G7>".rootNotes(3).note()',mdxType:"MiniRepl"}),createElement("p",null,"Together with layer, struct and voicings, this can be used to create a basic backing track:"),createElement(MiniRepl,{tune:`"<C^7 A7b13 Dm7 G7>".layer(
  x => x.voicings(['d3','g4']).struct("~ x").note(),
  x => x.rootNotes(2).note().s('sawtooth').cutoff(800)
)`,mdxType:"MiniRepl"}),createElement("br",null),createElement("br",null),createElement("h1",{id:"midi-api"},createElement("a",{parentName:"h1","aria-hidden":"true",tabIndex:-1,href:"#midi-api"},createElement("span",{parentName:"a",className:"icon icon-link"})),"MIDI API"),createElement("p",null,"Strudel also supports midi via ",createElement("a",{parentName:"p",href:"https://npmjs.com/package/webmidi"},"webmidi"),"."),createElement("h3",{id:"midioutputname"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#midioutputname"},createElement("span",{parentName:"a",className:"icon icon-link"})),"midi(outputName?)"),createElement("p",null,`Either connect a midi device or use the IAC Driver (Mac) or Midi Through Port (Linux) for internal midi messages.
If no outputName is given, it uses the first midi output it finds.`),createElement(MiniRepl,{tune:`stack("<C^7 A7 Dm7 G7>".voicings(), "<C3 A2 D3 G2>")
  .midi()`,mdxType:"MiniRepl"}),createElement("p",null,"In the console, you will see a log of the available MIDI devices as soon as you run the code, e.g. ",createElement("inlineCode",{parentName:"p"},'Midi connected! Using "Midi Through Port-0".')),createElement("h1",{id:"superdirt-api"},createElement("a",{parentName:"h1","aria-hidden":"true",tabIndex:-1,href:"#superdirt-api"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Superdirt API"),createElement("p",null,`In mainline tidal, the actual sound is generated via Superdirt, which runs inside Supercollider.
Strudel also supports using Superdirt as a backend, although it requires some developer tooling to run.`),createElement("h2",{id:"prequisites"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#prequisites"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Prequisites"),createElement("p",null,"Getting Superdirt to work with Strudel, you need to"),createElement("ol",null,createElement("li",{parentName:"ol"},"install SuperCollider + sc3 plugins, see ",createElement("a",{parentName:"li",href:"https://tidalcycles.org/docs/"},"Tidal Docs")," (Install Tidal) for more info."),createElement("li",{parentName:"ol"},"install ",createElement("a",{parentName:"li",href:"https://nodejs.org/en/"},"node.js")),createElement("li",{parentName:"ol"},"download ",createElement("a",{parentName:"li",href:"https://github.com/tidalcycles/strudel/"},"Strudel Repo")," (or git clone, if you have git installed)"),createElement("li",{parentName:"ol"},"run ",createElement("inlineCode",{parentName:"li"},"npm i")," in the strudel directory"),createElement("li",{parentName:"ol"},"run ",createElement("inlineCode",{parentName:"li"},"npm run osc")," to start the osc server, which forwards OSC messages from Strudel REPL to SuperCollider")),createElement("p",null,"Now you're all set!"),createElement("h2",{id:"usage"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#usage"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Usage"),createElement("ol",null,createElement("li",{parentName:"ol"},"Start SuperCollider, either using SuperCollider IDE or by running ",createElement("inlineCode",{parentName:"li"},"sclang")," in a terminal"),createElement("li",{parentName:"ol"},"Open the ",createElement("a",{parentName:"li",href:"https://strudel.tidalcycles.org/#cygiYmQgc2QiKS5vc2MoKQ%3D%3D"},"Strudel REPL"))),createElement("p",null,"...or test it here:"),createElement(MiniRepl,{tune:'s("bd sd").osc()',mdxType:"MiniRepl"}),createElement("p",null,"If you now hear sound, congratulations! If not, you can get help on the ",createElement("a",{parentName:"p",href:"https://discord.com/invite/HGEdXmRkzT"},"#strudel channel in the TidalCycles discord"),"."),createElement("h3",{id:"patternosc"},createElement("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#patternosc"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Pattern.osc"),createElement("p",null,"Sends each hap as an OSC message, which can be picked up by SuperCollider or any other OSC-enabled software."),createElement("h2",{id:"superdirt-params"},createElement("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#superdirt-params"},createElement("span",{parentName:"a",className:"icon icon-link"})),"Superdirt Params"),createElement("p",null,"The following functions can be used with superdirt:"),createElement("p",null,createElement("inlineCode",{parentName:"p"},"s n note freq channel orbit cutoff resonance hcutoff hresonance bandf bandq djf vowel cut begin end loop fadeTime speed unitA gain amp accelerate crush coarse delay lock leslie lrate lsize pan panspan pansplay room size dry shape squiz waveloss attack decay octave detune tremolodepth")),createElement("p",null,"Please refer to ",createElement("a",{parentName:"p",href:"https://tidalcycles.org/"},"Tidal Docs")," for more info."))}MDXContent.isMDXComponent=!0;var style$1="",style="";initAudioOnFirstClick();ReactDOM.render(jsx(React.StrictMode,{children:jsxs("div",{className:"min-h-screen bg-slate-900",children:[jsx("header",{className:"flex-none flex justify-start sticky top-0 z-[2] w-full h-16 px-2 items-center border-b border-slate-500 text-white bg-slate-900 z-[100]",children:jsxs("div",{className:"p-4 w-full flex justify-between items-center",children:[jsxs("div",{className:"flex items-center space-x-2",children:[jsx("img",{src:"https://tidalcycles.org/img/logo.svg",className:"Tidal-logo w-10 h-10",alt:"logo"}),jsx("h1",{className:"text-xl cursor-pointer",onClick:()=>window.scrollTo(0,0),children:"Strudel Tutorial"})]}),!window.location.href.includes("localhost")&&jsx("div",{className:"flex space-x-4 text-slate-200",children:jsx("a",{href:"../",children:"go to REPL"})})]})}),jsx("main",{className:"p-4 pl-6 max-w-3xl prose prose-invert",children:jsx(MDXContent,{})})]})}),document.getElementById("root"));export{getLoadedSamples as A,parseNumeral as B,Hap as H,Pattern$1 as P,getDefaultExportFromCjs as a,rand as b,commonjsGlobal as c,chooseInWith as d,strudel as e,getPlayableNoteValue as f,getAugmentedNamespace as g,isNote as h,isPattern as i,getAudioContext$1 as j,initAudio as k,logger as l,mod as m,initAudioOnFirstClick as n,webaudioOutputTrigger as o,panic as p,getCachedBuffer as q,reify$1 as r,stack as s,getSampleBufferSource as t,loadBuffer as u,reverseBuffer as v,webaudioOutput as w,getLoadedBuffer as x,samples as y,resetLoadedSamples as z};
